<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: protos.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2021-02-05-584-gb5c7a7</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('protos_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">protos.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Prototypes for many functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;config.h&quot;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="mutt_2lib_8h_source.html">mutt/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mutt_8h_source.html">mutt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="menu_2lib_8h_source.html">menu/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ncrypt_2lib_8h_source.html">ncrypt/lib.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for protos.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h__incl.svg" width="582" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h__dep__incl.svg" width="4986" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="protos_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m,  e,  flag,  bf)&#160;&#160;&#160;<a class="el" href="protos_8h.html#a26b14edeb6581f75b6fcc1011a459cd6">mutt_set_flag_update</a>(m, e, flag, bf, true)</td></tr>
<tr class="separator:a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a1dcac3705b40d7ef68b3b3c3f6581c0f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0f">XdgType</a> { <a class="el" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0fa239f7469373769d2e133eb044b09a8b9">XDG_CONFIG_HOME</a>, 
<a class="el" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0fa931fb3b71248336ed08e292cbc352fd7">XDG_CONFIG_DIRS</a>
 }<tr class="memdesc:a1dcac3705b40d7ef68b3b3c3f6581c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">XDG variable types.  <a href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a1dcac3705b40d7ef68b3b3c3f6581c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34dd2ae767f2ed79ffb8642e4c5ed71f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71f">EvMessage</a> { <a class="el" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71fa9cbf6c5027d20909e3f61fbdacd4c4d1">EVM_VIEW</a>, 
<a class="el" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71fae33ec9ab23d604adf95bb79757427fdb">EVM_EDIT</a>
 }<tr class="memdesc:a34dd2ae767f2ed79ffb8642e4c5ed71f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edit or View a message.  <a href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a34dd2ae767f2ed79ffb8642e4c5ed71f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae931366f6e3368b007b210da085f5672"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#ae931366f6e3368b007b210da085f5672">mutt_ev_message</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct EmailList *el, enum <a class="el" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71f">EvMessage</a> action)</td></tr>
<tr class="memdesc:ae931366f6e3368b007b210da085f5672"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edit or view a message.  <a href="#ae931366f6e3368b007b210da085f5672">More...</a><br /></td></tr>
<tr class="separator:ae931366f6e3368b007b210da085f5672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d4ad04b000036513ca3f741059942c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#aa1d4ad04b000036513ca3f741059942c">mutt_system</a> (const char *cmd)</td></tr>
<tr class="memdesc:aa1d4ad04b000036513ca3f741059942c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run an external command.  <a href="#aa1d4ad04b000036513ca3f741059942c">More...</a><br /></td></tr>
<tr class="separator:aa1d4ad04b000036513ca3f741059942c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa27303d43dc65ef87fa448ddd08c41f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#aaa27303d43dc65ef87fa448ddd08c41f">mutt_set_xdg_path</a> (enum <a class="el" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0f">XdgType</a> type, struct <a class="el" href="structBuffer.html">Buffer</a> *buf)</td></tr>
<tr class="memdesc:aaa27303d43dc65ef87fa448ddd08c41f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find an XDG path or its fallback.  <a href="#aaa27303d43dc65ef87fa448ddd08c41f">More...</a><br /></td></tr>
<tr class="separator:aaa27303d43dc65ef87fa448ddd08c41f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6179843b87f01ba1a8dda459daca237"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#ac6179843b87f01ba1a8dda459daca237">mutt_help</a> (enum <a class="el" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a> menu)</td></tr>
<tr class="memdesc:ac6179843b87f01ba1a8dda459daca237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display the help menu.  <a href="#ac6179843b87f01ba1a8dda459daca237">More...</a><br /></td></tr>
<tr class="separator:ac6179843b87f01ba1a8dda459daca237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b14edeb6581f75b6fcc1011a459cd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a26b14edeb6581f75b6fcc1011a459cd6">mutt_set_flag_update</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structEmail.html">Email</a> *e, enum <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a> flag, bool bf, bool upd_mbox)</td></tr>
<tr class="memdesc:a26b14edeb6581f75b6fcc1011a459cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a flag on an email.  <a href="#a26b14edeb6581f75b6fcc1011a459cd6">More...</a><br /></td></tr>
<tr class="separator:a26b14edeb6581f75b6fcc1011a459cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ee7d4aca86a7dc55c9ffda2f494c37"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a91ee7d4aca86a7dc55c9ffda2f494c37">mutt_signal_init</a> (void)</td></tr>
<tr class="memdesc:a91ee7d4aca86a7dc55c9ffda2f494c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the signal handling.  <a href="#a91ee7d4aca86a7dc55c9ffda2f494c37">More...</a><br /></td></tr>
<tr class="separator:a91ee7d4aca86a7dc55c9ffda2f494c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e7b36feabba24693bc191f78e1f5c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a43e7b36feabba24693bc191f78e1f5c1">mutt_emails_set_flag</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct EmailList *el, enum <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a> flag, bool bf)</td></tr>
<tr class="memdesc:a43e7b36feabba24693bc191f78e1f5c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set flag on messages.  <a href="#a43e7b36feabba24693bc191f78e1f5c1">More...</a><br /></td></tr>
<tr class="separator:a43e7b36feabba24693bc191f78e1f5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4a3ae201d6d545651a5c63685ea83f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a9d4a3ae201d6d545651a5c63685ea83f">mutt_change_flag</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct EmailList *el, bool bf)</td></tr>
<tr class="memdesc:a9d4a3ae201d6d545651a5c63685ea83f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the flag on a <a class="el" href="structMessage.html" title="A local copy of an email. ">Message</a>.  <a href="#a9d4a3ae201d6d545651a5c63685ea83f">More...</a><br /></td></tr>
<tr class="separator:a9d4a3ae201d6d545651a5c63685ea83f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b3c85bc14241321c26350fd4a26b37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a72b3c85bc14241321c26350fd4a26b37">mutt_complete</a> (char *buf, size_t buflen)</td></tr>
<tr class="memdesc:a72b3c85bc14241321c26350fd4a26b37"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to complete a partial pathname.  <a href="#a72b3c85bc14241321c26350fd4a26b37">More...</a><br /></td></tr>
<tr class="separator:a72b3c85bc14241321c26350fd4a26b37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad14aaca518d6c005ec318f14114d5ec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#aad14aaca518d6c005ec318f14114d5ec">mutt_prepare_template</a> (FILE *fp, struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structEmail.html">Email</a> *e_new, struct <a class="el" href="structEmail.html">Email</a> *e, bool resend)</td></tr>
<tr class="memdesc:aad14aaca518d6c005ec318f14114d5ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a message template.  <a href="#aad14aaca518d6c005ec318f14114d5ec">More...</a><br /></td></tr>
<tr class="separator:aad14aaca518d6c005ec318f14114d5ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae45373a28b592394bdea7a2a4d9f0a5f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#ae45373a28b592394bdea7a2a4d9f0a5f">mutt_enter_string_full</a> (char *buf, size_t buflen, int col, <a class="el" href="mutt_8h.html#aa551207529ef0be5a655fa2f471f070b">CompletionFlags</a> flags, bool multiple, struct <a class="el" href="structMailbox.html">Mailbox</a> *m, char ***files, int *numfiles, struct <a class="el" href="structEnterState.html">EnterState</a> *state)</td></tr>
<tr class="memdesc:ae45373a28b592394bdea7a2a4d9f0a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask the user for a string.  <a href="#ae45373a28b592394bdea7a2a4d9f0a5f">More...</a><br /></td></tr>
<tr class="separator:ae45373a28b592394bdea7a2a4d9f0a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacde94d20e952e822eac92e0fbf74682"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#aacde94d20e952e822eac92e0fbf74682">mutt_get_postponed</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m_cur, struct <a class="el" href="structEmail.html">Email</a> *hdr, struct <a class="el" href="structEmail.html">Email</a> **cur, struct <a class="el" href="structBuffer.html">Buffer</a> *fcc)</td></tr>
<tr class="memdesc:aacde94d20e952e822eac92e0fbf74682"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recall a postponed message.  <a href="#aacde94d20e952e822eac92e0fbf74682">More...</a><br /></td></tr>
<tr class="separator:aacde94d20e952e822eac92e0fbf74682"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286933c50f193dd341ae2e6a015aeb67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a286933c50f193dd341ae2e6a015aeb67">mutt_parse_crypt_hdr</a> (const char *p, bool set_empty_signas, <a class="el" href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a> crypt_app)</td></tr>
<tr class="memdesc:a286933c50f193dd341ae2e6a015aeb67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a crypto header string.  <a href="#a286933c50f193dd341ae2e6a015aeb67">More...</a><br /></td></tr>
<tr class="separator:a286933c50f193dd341ae2e6a015aeb67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42853d2d4da10271644dc7083ae1c453"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a42853d2d4da10271644dc7083ae1c453">mutt_num_postponed</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, bool force)</td></tr>
<tr class="memdesc:a42853d2d4da10271644dc7083ae1c453"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of postponed messages.  <a href="#a42853d2d4da10271644dc7083ae1c453">More...</a><br /></td></tr>
<tr class="separator:a42853d2d4da10271644dc7083ae1c453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b3fdf72da46166bf7d6866dbfc0c09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#ab0b3fdf72da46166bf7d6866dbfc0c09">mutt_thread_set_flag</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structEmail.html">Email</a> *e, enum <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a> flag, bool bf, bool subthread)</td></tr>
<tr class="memdesc:ab0b3fdf72da46166bf7d6866dbfc0c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a flag on an entire thread.  <a href="#ab0b3fdf72da46166bf7d6866dbfc0c09">More...</a><br /></td></tr>
<tr class="separator:ab0b3fdf72da46166bf7d6866dbfc0c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d6fb2f03b78be714443316f335c90ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a6d6fb2f03b78be714443316f335c90ae">mutt_update_num_postponed</a> (void)</td></tr>
<tr class="memdesc:a6d6fb2f03b78be714443316f335c90ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force the update of the number of postponed messages.  <a href="#a6d6fb2f03b78be714443316f335c90ae">More...</a><br /></td></tr>
<tr class="separator:a6d6fb2f03b78be714443316f335c90ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71013cf83012028712c1469e5fdacf70"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a71013cf83012028712c1469e5fdacf70">mutt_is_quote_line</a> (char *buf, regmatch_t *pmatch)</td></tr>
<tr class="memdesc:a71013cf83012028712c1469e5fdacf70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is a line of message text a quote?  <a href="#a71013cf83012028712c1469e5fdacf70">More...</a><br /></td></tr>
<tr class="separator:a71013cf83012028712c1469e5fdacf70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece8f8a0bf2359e8f8cfc6b7c9f6303f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#aece8f8a0bf2359e8f8cfc6b7c9f6303f">wcscasecmp</a> (const wchar_t *a, const wchar_t *b)</td></tr>
<tr class="memdesc:aece8f8a0bf2359e8f8cfc6b7c9f6303f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare two wide-character strings, ignoring case.  <a href="#aece8f8a0bf2359e8f8cfc6b7c9f6303f">More...</a><br /></td></tr>
<tr class="separator:aece8f8a0bf2359e8f8cfc6b7c9f6303f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296baf961ccb5bdc1ea1c9692e9a5d0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="protos_8h.html#a296baf961ccb5bdc1ea1c9692e9a5d0c">mutt_reply_observer</a> (struct <a class="el" href="structNotifyCallback.html">NotifyCallback</a> *nc)</td></tr>
<tr class="separator:a296baf961ccb5bdc1ea1c9692e9a5d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Prototypes for many functions. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Michael R. Elkins</li>
<li>Karel Zak</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="protos_8h_source.html">protos.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">&#9670;&nbsp;</a></span>mutt_set_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mutt_set_flag</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">m, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">e, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">flag, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bf&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="protos_8h.html#a26b14edeb6581f75b6fcc1011a459cd6">mutt_set_flag_update</a>(m, e, flag, bf, true)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="protos_8h_source.html#l00066">66</a> of file <a class="el" href="protos_8h_source.html">protos.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a1dcac3705b40d7ef68b3b3c3f6581c0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dcac3705b40d7ef68b3b3c3f6581c0f">&#9670;&nbsp;</a></span>XdgType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0f">XdgType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>XDG variable types. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1dcac3705b40d7ef68b3b3c3f6581c0fa239f7469373769d2e133eb044b09a8b9"></a>XDG_CONFIG_HOME&#160;</td><td class="fielddoc"><p>XDG home dir: ~/.config. </p>
</td></tr>
<tr><td class="fieldname"><a id="a1dcac3705b40d7ef68b3b3c3f6581c0fa931fb3b71248336ed08e292cbc352fd7"></a>XDG_CONFIG_DIRS&#160;</td><td class="fielddoc"><p>XDG system dir: /etc/xdg. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="protos_8h_source.html#l00044">44</a> of file <a class="el" href="protos_8h_source.html">protos.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0fa239f7469373769d2e133eb044b09a8b9">XDG_CONFIG_HOME</a>, </div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0fa931fb3b71248336ed08e292cbc352fd7">XDG_CONFIG_DIRS</a>, </div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div><div class="ttc" id="protos_8h_html_a1dcac3705b40d7ef68b3b3c3f6581c0fa239f7469373769d2e133eb044b09a8b9"><div class="ttname"><a href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0fa239f7469373769d2e133eb044b09a8b9">XDG_CONFIG_HOME</a></div><div class="ttdoc">XDG home dir: ~/.config. </div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00046">protos.h:46</a></div></div>
<div class="ttc" id="protos_8h_html_a1dcac3705b40d7ef68b3b3c3f6581c0fa931fb3b71248336ed08e292cbc352fd7"><div class="ttname"><a href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0fa931fb3b71248336ed08e292cbc352fd7">XDG_CONFIG_DIRS</a></div><div class="ttdoc">XDG system dir: /etc/xdg. </div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00047">protos.h:47</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a34dd2ae767f2ed79ffb8642e4c5ed71f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34dd2ae767f2ed79ffb8642e4c5ed71f">&#9670;&nbsp;</a></span>EvMessage</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71f">EvMessage</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edit or View a message. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a34dd2ae767f2ed79ffb8642e4c5ed71fa9cbf6c5027d20909e3f61fbdacd4c4d1"></a>EVM_VIEW&#160;</td><td class="fielddoc"><p>View the message. </p>
</td></tr>
<tr><td class="fieldname"><a id="a34dd2ae767f2ed79ffb8642e4c5ed71fae33ec9ab23d604adf95bb79757427fdb"></a>EVM_EDIT&#160;</td><td class="fielddoc"><p>Edit the message. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="protos_8h_source.html#l00053">53</a> of file <a class="el" href="protos_8h_source.html">protos.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;{</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <a class="code" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71fa9cbf6c5027d20909e3f61fbdacd4c4d1">EVM_VIEW</a>, </div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71fae33ec9ab23d604adf95bb79757427fdb">EVM_EDIT</a>, </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;};</div><div class="ttc" id="protos_8h_html_a34dd2ae767f2ed79ffb8642e4c5ed71fa9cbf6c5027d20909e3f61fbdacd4c4d1"><div class="ttname"><a href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71fa9cbf6c5027d20909e3f61fbdacd4c4d1">EVM_VIEW</a></div><div class="ttdoc">View the message. </div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00055">protos.h:55</a></div></div>
<div class="ttc" id="protos_8h_html_a34dd2ae767f2ed79ffb8642e4c5ed71fae33ec9ab23d604adf95bb79757427fdb"><div class="ttname"><a href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71fae33ec9ab23d604adf95bb79757427fdb">EVM_EDIT</a></div><div class="ttdoc">Edit the message. </div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00056">protos.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae931366f6e3368b007b210da085f5672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae931366f6e3368b007b210da085f5672">&#9670;&nbsp;</a></span>mutt_ev_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_ev_message </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct EmailList *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71f">EvMessage</a>&#160;</td>
          <td class="paramname"><em>action</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edit or view a message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">el</td><td>List of Emails </td></tr>
    <tr><td class="paramname">action</td><td>Action to perform, e.g. <a class="el" href="protos_8h.html#a34dd2ae767f2ed79ffb8642e4c5ed71fae33ec9ab23d604adf95bb79757427fdb" title="Edit the message. ">EVM_EDIT</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td><a class="el" href="structMessage.html" title="A local copy of an email. ">Message</a> not modified </td></tr>
    <tr><td class="paramname">0</td><td><a class="el" href="structMessage.html" title="A local copy of an email. ">Message</a> edited successfully </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="editmsg_8c_source.html#l00276">276</a> of file <a class="el" href="editmsg_8c_source.html">editmsg.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;{</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keyword">struct </span><a class="code" href="structEmailNode.html">EmailNode</a> *en = NULL;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  <a class="code" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(en, el, entries)</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  {</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="editmsg_8c.html#a8cccfe84ab7389c624becc6f5f14d13f">ev_message</a>(action, m, en-&gt;<a class="code" href="structEmailNode.html#a812e5a33b27b12a78daacbe246089abb">email</a>) == -1)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;}</div><div class="ttc" id="editmsg_8c_html_a8cccfe84ab7389c624becc6f5f14d13f"><div class="ttname"><a href="editmsg_8c.html#a8cccfe84ab7389c624becc6f5f14d13f">ev_message</a></div><div class="ttdeci">static int ev_message(enum EvMessage action, struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Edit an email or view it in an external editor. </div><div class="ttdef"><b>Definition:</b> <a href="editmsg_8c_source.html#l00057">editmsg.c:57</a></div></div>
<div class="ttc" id="queue_8h_html_a77999ebdf5aaf7af8b8ea22bf208c432"><div class="ttname"><a href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a></div><div class="ttdeci">#define STAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00349">queue.h:349</a></div></div>
<div class="ttc" id="structEmailNode_html_a812e5a33b27b12a78daacbe246089abb"><div class="ttname"><a href="structEmailNode.html#a812e5a33b27b12a78daacbe246089abb">EmailNode::email</a></div><div class="ttdeci">struct Email * email</div><div class="ttdoc">Email in the list. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00131">email.h:131</a></div></div>
<div class="ttc" id="structEmailNode_html"><div class="ttname"><a href="structEmailNode.html">EmailNode</a></div><div class="ttdoc">List of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00129">email.h:129</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ae931366f6e3368b007b210da085f5672_cgraph.svg" width="306" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ae931366f6e3368b007b210da085f5672_icgraph.svg" width="342" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa1d4ad04b000036513ca3f741059942c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1d4ad04b000036513ca3f741059942c">&#9670;&nbsp;</a></span>mutt_system()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_system </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run an external command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td><a class="el" href="structCommand.html" title="A user-callable command. ">Command</a> and arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error </td></tr>
    <tr><td class="paramname">&gt;=0</td><td>Success (command's return code)</td></tr>
  </table>
  </dd>
</dl>
<p>Fork and run an external command with arguments.</p>
<dl class="section note"><dt>Note</dt><dd>This function won't return until the command finishes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="system_8c_source.html#l00051">51</a> of file <a class="el" href="system_8c_source.html">system.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordtype">int</span> rc = -1;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="keyword">struct </span>sigaction act;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  <span class="keyword">struct </span>sigaction oldtstp;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keyword">struct </span>sigaction oldcont;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  pid_t pid;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (!cmd || (*cmd == <span class="charliteral">&#39;\0&#39;</span>))</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">/* must ignore SIGINT and SIGQUIT */</span></div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <a class="code" href="signal_8c.html#a8f760c89850a7fdab70f3e084dae29ea">mutt_sig_block_system</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  act.sa_handler = SIG_DFL;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">/* we want to restart the waitpid() below */</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#ifdef SA_RESTART</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  act.sa_flags = SA_RESTART;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  sigemptyset(&amp;act.sa_mask);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  sigaction(SIGTSTP, &amp;act, &amp;oldtstp);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  sigaction(SIGCONT, &amp;act, &amp;oldcont);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  pid = fork();</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (pid == 0)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    act.sa_flags = 0;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">/* reset signals for the child; not really needed, but... */</span></div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="signal_8c.html#ad44b8fd5380fa4749911e9f1792af99d">mutt_sig_unblock_system</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    act.sa_handler = SIG_DFL;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    act.sa_flags = 0;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    sigemptyset(&amp;act.sa_mask);</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    sigaction(SIGTERM, &amp;act, NULL);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    sigaction(SIGTSTP, &amp;act, NULL);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    sigaction(SIGCONT, &amp;act, NULL);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    execle(<a class="code" href="filter_8h.html#aa80fd382830d66c094a29009aba96b6f">EXEC_SHELL</a>, <span class="stringliteral">&quot;sh&quot;</span>, <span class="stringliteral">&quot;-c&quot;</span>, cmd, NULL, <a class="code" href="envlist_8c.html#ad8cfe2adb63b9459b335af87364bb7f0">mutt_envlist_getlist</a>());</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    _exit(127); <span class="comment">/* execl error */</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pid != -1)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">#ifdef USE_IMAP</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    rc = <a class="code" href="imap_2lib_8h.html#a6a2f8aba182b573c023386320bd3593f">imap_wait_keepalive</a>(pid);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  sigaction(SIGCONT, &amp;oldcont, NULL);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  sigaction(SIGTSTP, &amp;oldtstp, NULL);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">/* reset SIGINT, SIGQUIT and SIGCHLD */</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="signal_8c.html#ad44b8fd5380fa4749911e9f1792af99d">mutt_sig_unblock_system</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  rc = (pid != -1) ? (WIFEXITED(rc) ? WEXITSTATUS(rc) : -1) : -1;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="ttc" id="signal_8c_html_a8f760c89850a7fdab70f3e084dae29ea"><div class="ttname"><a href="signal_8c.html#a8f760c89850a7fdab70f3e084dae29ea">mutt_sig_block_system</a></div><div class="ttdeci">void mutt_sig_block_system(void)</div><div class="ttdoc">Block signals before calling exec() </div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00183">signal.c:183</a></div></div>
<div class="ttc" id="filter_8h_html_aa80fd382830d66c094a29009aba96b6f"><div class="ttname"><a href="filter_8h.html#aa80fd382830d66c094a29009aba96b6f">EXEC_SHELL</a></div><div class="ttdeci">#define EXEC_SHELL</div><div class="ttdef"><b>Definition:</b> <a href="filter_8h_source.html#l00027">filter.h:27</a></div></div>
<div class="ttc" id="signal_8c_html_ad44b8fd5380fa4749911e9f1792af99d"><div class="ttname"><a href="signal_8c.html#ad44b8fd5380fa4749911e9f1792af99d">mutt_sig_unblock_system</a></div><div class="ttdeci">void mutt_sig_unblock_system(bool restore)</div><div class="ttdoc">Restore previously blocked signals. </div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00207">signal.c:207</a></div></div>
<div class="ttc" id="imap_2lib_8h_html_a6a2f8aba182b573c023386320bd3593f"><div class="ttname"><a href="imap_2lib_8h.html#a6a2f8aba182b573c023386320bd3593f">imap_wait_keepalive</a></div><div class="ttdeci">int imap_wait_keepalive(pid_t pid)</div><div class="ttdoc">Wait for a process to change state. </div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00973">util.c:973</a></div></div>
<div class="ttc" id="envlist_8c_html_ad8cfe2adb63b9459b335af87364bb7f0"><div class="ttname"><a href="envlist_8c.html#ad8cfe2adb63b9459b335af87364bb7f0">mutt_envlist_getlist</a></div><div class="ttdeci">char ** mutt_envlist_getlist(void)</div><div class="ttdoc">Get the private environment. </div><div class="ttdef"><b>Definition:</b> <a href="envlist_8c_source.html#l00169">envlist.c:169</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aa1d4ad04b000036513ca3f741059942c_cgraph.svg" width="359" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aa1d4ad04b000036513ca3f741059942c_icgraph.svg" width="1266" height="876"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aaa27303d43dc65ef87fa448ddd08c41f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa27303d43dc65ef87fa448ddd08c41f">&#9670;&nbsp;</a></span>mutt_set_xdg_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_set_xdg_path </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0f">XdgType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find an XDG path or its fallback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Type of XDG variable, e.g. <a class="el" href="protos_8h.html#a1dcac3705b40d7ef68b3b3c3f6581c0fa239f7469373769d2e133eb044b09a8b9" title="XDG home dir: ~/.config. ">XDG_CONFIG_HOME</a> </td></tr>
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer. ">Buffer</a> to save path </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>An entry was found that actually exists on disk and 0 otherwise</td></tr>
  </table>
  </dd>
</dl>
<p>Process an XDG environment variable or its fallback. </p>

<p class="definition">Definition at line <a class="el" href="muttlib_8c_source.html#l01516">1516</a> of file <a class="el" href="muttlib_8c_source.html">muttlib.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;{</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *xdg_env = <a class="code" href="mutt_2string_8c.html#ad000586e39822e85693adda33c02e485">mutt_str_getenv</a>(<a class="code" href="muttlib_8c.html#aa56f51d9542560ead857cd669e7081fe">xdg_env_vars</a>[type]);</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keywordtype">char</span> *xdg = xdg_env ? <a class="code" href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a>(xdg_env) : mutt_str_dup(<a class="code" href="muttlib_8c.html#acc0475757fa09772b783f791f2c41a80">xdg_defaults</a>[type]);</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordtype">char</span> *x = xdg; <span class="comment">/* strsep() changes xdg, so free x instead later */</span></div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;  <span class="keywordtype">char</span> *token = NULL;</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordtype">int</span> rc = 0;</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  <span class="keywordflow">while</span> ((token = strsep(&amp;xdg, <span class="stringliteral">&quot;:&quot;</span>)))</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;  {</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(buf, <span class="stringliteral">&quot;%s/%s/neomuttrc&quot;</span>, token, PACKAGE) &lt; 0)</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <a class="code" href="muttlib_8c.html#a21df22e3d202586bf463caf3c9e718cc">mutt_buffer_expand_path</a>(buf);</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    <span class="keywordflow">if</span> (access(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(buf), F_OK) == 0)</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    {</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      rc = 1;</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    }</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(buf, <span class="stringliteral">&quot;%s/%s/Muttrc&quot;</span>, token, PACKAGE) &lt; 0)</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <a class="code" href="muttlib_8c.html#a21df22e3d202586bf463caf3c9e718cc">mutt_buffer_expand_path</a>(buf);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">if</span> (access(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(buf), F_OK) == 0)</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    {</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      rc = 1;</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    }</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  }</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;  <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;x);</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;}</div><div class="ttc" id="mutt_2string_8c_html_a4c2560f787bd1226b977992c16860c98"><div class="ttname"><a href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00370">string.c:370</a></div></div>
<div class="ttc" id="buffer_8c_html_ad057ee239ae5bcfd72cab3749036ab02"><div class="ttname"><a href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a></div><div class="ttdeci">int mutt_buffer_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00160">buffer.c:160</a></div></div>
<div class="ttc" id="muttlib_8c_html_aa56f51d9542560ead857cd669e7081fe"><div class="ttname"><a href="muttlib_8c.html#aa56f51d9542560ead857cd669e7081fe">xdg_env_vars</a></div><div class="ttdeci">static const char * xdg_env_vars[]</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00065">muttlib.c:65</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ad000586e39822e85693adda33c02e485"><div class="ttname"><a href="mutt_2string_8c.html#ad000586e39822e85693adda33c02e485">mutt_str_getenv</a></div><div class="ttdeci">const char * mutt_str_getenv(const char *name)</div><div class="ttdoc">Get an environment variable. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l01024">string.c:1024</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="muttlib_8c_html_a21df22e3d202586bf463caf3c9e718cc"><div class="ttname"><a href="muttlib_8c.html#a21df22e3d202586bf463caf3c9e718cc">mutt_buffer_expand_path</a></div><div class="ttdeci">void mutt_buffer_expand_path(struct Buffer *buf)</div><div class="ttdoc">Create the canonical path. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00322">muttlib.c:322</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="muttlib_8c_html_acc0475757fa09772b783f791f2c41a80"><div class="ttname"><a href="muttlib_8c.html#acc0475757fa09772b783f791f2c41a80">xdg_defaults</a></div><div class="ttdeci">static const char * xdg_defaults[]</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00070">muttlib.c:70</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aaa27303d43dc65ef87fa448ddd08c41f_cgraph.svg" width="395" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aaa27303d43dc65ef87fa448ddd08c41f_icgraph.svg" width="287" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ac6179843b87f01ba1a8dda459daca237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6179843b87f01ba1a8dda459daca237">&#9670;&nbsp;</a></span>mutt_help()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_help </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4">MenuType</a>&#160;</td>
          <td class="paramname"><em>menu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display the help menu. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">menu</td><td>Current <a class="el" href="structMenu.html" title="GUI selectable list of items. ">Menu</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="help_8c_source.html#l00389">389</a> of file <a class="el" href="help_8c_source.html">help.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;{</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> wraplen = <a class="code" href="dialog_8c.html#aa379408e2d835c200c803b4d0f33b2d6">AllDialogsWindow</a>-&gt;<a class="code" href="structMuttWindow.html#a406b976fc50b1cb5beca6c85e7a3be7f">state</a>.<a class="code" href="structWindowState.html#a557cf2197f9df8fe60f6e1dbfd49ec43">cols</a>;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordtype">char</span> banner[128];</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  FILE *fp = NULL;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="comment">/* We don&#39;t use the buffer pool because of the extended lifetime of t */</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> t = <a class="code" href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a>(<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <a class="code" href="muttlib_8h.html#a7f1db9db6f710a84cace77248096e2ac">mutt_buffer_mktemp</a>(&amp;t);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structBinding.html">Binding</a> *funcs = <a class="code" href="keymap_8c.html#a46ec7e8f8fb0c44894e0a5939b1e46ef">km_get_table</a>(menu);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *desc = <a class="code" href="mapping_8c.html#acd58cf0565e80b588773e4c4cb45407f">mutt_map_get_name</a>(menu, <a class="code" href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a>);</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <span class="keywordflow">if</span> (!desc)</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    desc = <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;&lt;UNKNOWN&gt;&quot;</span>);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keyword">struct </span><a class="code" href="structPagerData.html">PagerData</a> pdata = { 0 };</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keyword">struct </span><a class="code" href="structPagerView.html">PagerView</a> pview = { &amp;pdata };</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  pview.<a class="code" href="structPagerView.html#a4f7074be59cdcb518630e81e5ef8c3b7">mode</a> = <a class="code" href="pager_2lib_8h.html#a97661d5482310b15dc29f620e955991aabd98e8b316b04123b680bdb46f03efde">PAGER_MODE_HELP</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  pview.<a class="code" href="structPagerView.html#a8e4d312c9fefeba6f1c4fd8cf84eb101">flags</a> = <a class="code" href="pager_2lib_8h.html#a0e433fa8f7c79dc0e8b5eaea4d7a340e">MUTT_PAGER_RETWINCH</a> | <a class="code" href="pager_2lib_8h.html#a7871a664a014cdfe77a99439fa99d4cb">MUTT_PAGER_MARKER</a> | <a class="code" href="pager_2lib_8h.html#a23ab9b0bfd87bca53161f920511d6f6d">MUTT_PAGER_NSKIP</a> | <a class="code" href="pager_2lib_8h.html#a325eecb6e92fd9ea24c0ea630a84df6f">MUTT_PAGER_NOWRAP</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordflow">do</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    fp = <a class="code" href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a>(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;t), <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordflow">if</span> (!fp)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    {</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      <a class="code" href="logging_8h.html#afaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;t));</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">goto</span> cleanup;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="help_8c.html#aad9991c3286c6cb9c0a98a495a9d3a26">dump_menu</a>(fp, menu, wraplen);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="keywordflow">if</span> ((menu != <a class="code" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a>) &amp;&amp; (menu != <a class="code" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>))</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;      fprintf(fp, <span class="stringliteral">&quot;\n%s\n\n&quot;</span>, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Generic bindings:&quot;</span>));</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <a class="code" href="help_8c.html#aad9991c3286c6cb9c0a98a495a9d3a26">dump_menu</a>(fp, <a class="code" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a>, wraplen);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    }</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    fprintf(fp, <span class="stringliteral">&quot;\n%s\n\n&quot;</span>, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Unbound functions:&quot;</span>));</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordflow">if</span> (funcs)</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;      <a class="code" href="help_8c.html#adb01d122101b3546bb78bf68f86ffcf6">dump_unbound</a>(fp, funcs, &amp;<a class="code" href="keymap_8c.html#a786f5d70631dfcec23d9e9439304d52e">Keymaps</a>[menu], NULL, wraplen);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="keywordflow">if</span> (menu != <a class="code" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="help_8c.html#adb01d122101b3546bb78bf68f86ffcf6">dump_unbound</a>(fp, <a class="code" href="functions_8c.html#a84b876b70f22a0464b06940f3bae2c49">OpGeneric</a>, &amp;<a class="code" href="keymap_8c.html#a786f5d70631dfcec23d9e9439304d52e">Keymaps</a>[<a class="code" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a>], &amp;<a class="code" href="keymap_8c.html#a786f5d70631dfcec23d9e9439304d52e">Keymaps</a>[menu], wraplen);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    snprintf(banner, <span class="keyword">sizeof</span>(banner), <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Help for %s&quot;</span>), desc);</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    pdata.<a class="code" href="structPagerData.html#a00d514b3bce57dcd4d5e1e493045ae5e">fname</a> = <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;t);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    pview.<a class="code" href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">banner</a> = <a class="code" href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">banner</a>;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  } <span class="keywordflow">while</span> (<a class="code" href="do__pager_8c.html#ad796201423d00e3d91852bdbb4488846">mutt_do_pager</a>(&amp;pview) == OP_REFORMAT_WINCH);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;cleanup:</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <a class="code" href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a>(&amp;t);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;}</div><div class="ttc" id="pager_2lib_8h_html_a0e433fa8f7c79dc0e8b5eaea4d7a340e"><div class="ttname"><a href="pager_2lib_8h.html#a0e433fa8f7c79dc0e8b5eaea4d7a340e">MUTT_PAGER_RETWINCH</a></div><div class="ttdeci">#define MUTT_PAGER_RETWINCH</div><div class="ttdoc">Need reformatting on SIGWINCH. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00064">lib.h:64</a></div></div>
<div class="ttc" id="muttlib_8h_html_a7f1db9db6f710a84cace77248096e2ac"><div class="ttname"><a href="muttlib_8h.html#a7f1db9db6f710a84cace77248096e2ac">mutt_buffer_mktemp</a></div><div class="ttdeci">#define mutt_buffer_mktemp(buf)</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8h_source.html#l00074">muttlib.h:74</a></div></div>
<div class="ttc" id="help_8c_html_adb01d122101b3546bb78bf68f86ffcf6"><div class="ttname"><a href="help_8c.html#adb01d122101b3546bb78bf68f86ffcf6">dump_unbound</a></div><div class="ttdeci">static void dump_unbound(FILE *fp, const struct Binding *funcs, struct KeymapList *km_list, struct KeymapList *aux, int wraplen)</div><div class="ttdoc">Write out all the operations with no key bindings. </div><div class="ttdef"><b>Definition:</b> <a href="help_8c_source.html#l00375">help.c:375</a></div></div>
<div class="ttc" id="logging_8h_html_afaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="logging_8h.html#afaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="pager_2lib_8h_html_a23ab9b0bfd87bca53161f920511d6f6d"><div class="ttname"><a href="pager_2lib_8h.html#a23ab9b0bfd87bca53161f920511d6f6d">MUTT_PAGER_NSKIP</a></div><div class="ttdeci">#define MUTT_PAGER_NSKIP</div><div class="ttdoc">Preserve whitespace with smartwrap. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="keymap_8c_html_a786f5d70631dfcec23d9e9439304d52e"><div class="ttname"><a href="keymap_8c.html#a786f5d70631dfcec23d9e9439304d52e">Keymaps</a></div><div class="ttdeci">struct KeymapList Keymaps[MENU_MAX]</div><div class="ttdoc">Array of Keymap keybindings, one for each Menu. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8c_source.html#l00126">keymap.c:126</a></div></div>
<div class="ttc" id="type_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ac5a62e5c029514c6565e602d2632f40b">MENU_GENERIC</a></div><div class="ttdoc">Generic selection list. </div><div class="ttdef"><b>Definition:</b> <a href="type_8h_source.html#l00045">type.h:45</a></div></div>
<div class="ttc" id="buffer_8c_html_a0242aaa9a400d0722a99828776c0403b"><div class="ttname"><a href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a></div><div class="ttdeci">struct Buffer mutt_buffer_make(size_t size)</div><div class="ttdoc">Make a new buffer on the stack. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00061">buffer.c:61</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="structPagerView_html"><div class="ttname"><a href="structPagerView.html">PagerView</a></div><div class="ttdoc">paged view into some data </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00155">lib.h:155</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="do__pager_8c_html_ad796201423d00e3d91852bdbb4488846"><div class="ttname"><a href="do__pager_8c.html#ad796201423d00e3d91852bdbb4488846">mutt_do_pager</a></div><div class="ttdeci">int mutt_do_pager(struct PagerView *pview)</div><div class="ttdoc">Display some page-able text to the user (help or attachment) </div><div class="ttdef"><b>Definition:</b> <a href="do__pager_8c_source.html#l00119">do_pager.c:119</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="type_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a></div><div class="ttdoc">Pager pager (email viewer) </div><div class="ttdef"><b>Definition:</b> <a href="type_8h_source.html#l00054">type.h:54</a></div></div>
<div class="ttc" id="mapping_8c_html_acd58cf0565e80b588773e4c4cb45407f"><div class="ttname"><a href="mapping_8c.html#acd58cf0565e80b588773e4c4cb45407f">mutt_map_get_name</a></div><div class="ttdeci">const char * mutt_map_get_name(int val, const struct Mapping *map)</div><div class="ttdoc">Lookup a string for a constant. </div><div class="ttdef"><b>Definition:</b> <a href="mapping_8c_source.html#l00042">mapping.c:42</a></div></div>
<div class="ttc" id="structPagerData_html"><div class="ttname"><a href="structPagerData.html">PagerData</a></div><div class="ttdoc">Data to be displayed by PagerView. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00142">lib.h:142</a></div></div>
<div class="ttc" id="type_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a></div><div class="ttdoc">Text entry area. </div><div class="ttdef"><b>Definition:</b> <a href="type_8h_source.html#l00043">type.h:43</a></div></div>
<div class="ttc" id="file_8c_html_a31f49795ff5b9558db5476e5777e63b6"><div class="ttname"><a href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a></div><div class="ttdeci">int mutt_file_fclose(FILE **fp)</div><div class="ttdoc">Close a FILE handle (and NULL the pointer) </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00153">file.c:153</a></div></div>
<div class="ttc" id="functions_8c_html_a84b876b70f22a0464b06940f3bae2c49"><div class="ttname"><a href="functions_8c.html#a84b876b70f22a0464b06940f3bae2c49">OpGeneric</a></div><div class="ttdeci">const struct Binding OpGeneric[]</div><div class="ttdoc">Key bindings for the generic menu. </div><div class="ttdef"><b>Definition:</b> <a href="functions_8c_source.html#l00053">functions.c:53</a></div></div>
<div class="ttc" id="pager_2lib_8h_html_a7871a664a014cdfe77a99439fa99d4cb"><div class="ttname"><a href="pager_2lib_8h.html#a7871a664a014cdfe77a99439fa99d4cb">MUTT_PAGER_MARKER</a></div><div class="ttdeci">#define MUTT_PAGER_MARKER</div><div class="ttdoc">Use markers if option is set. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00063">lib.h:63</a></div></div>
<div class="ttc" id="buffer_8c_html_a59b13bca38b1b314e2bc5ad142d2df49"><div class="ttname"><a href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a></div><div class="ttdeci">void mutt_buffer_dealloc(struct Buffer *buf)</div><div class="ttdoc">Release the memory allocated by a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00294">buffer.c:294</a></div></div>
<div class="ttc" id="pager_2lib_8h_html_a97661d5482310b15dc29f620e955991aabd98e8b316b04123b680bdb46f03efde"><div class="ttname"><a href="pager_2lib_8h.html#a97661d5482310b15dc29f620e955991aabd98e8b316b04123b680bdb46f03efde">PAGER_MODE_HELP</a></div><div class="ttdoc">Pager is invoked via 3rd path to show help. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00133">lib.h:133</a></div></div>
<div class="ttc" id="structPagerView_html_a4f7074be59cdcb518630e81e5ef8c3b7"><div class="ttname"><a href="structPagerView.html#a4f7074be59cdcb518630e81e5ef8c3b7">PagerView::mode</a></div><div class="ttdeci">enum PagerMode mode</div><div class="ttdoc">Pager mode. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00158">lib.h:158</a></div></div>
<div class="ttc" id="structWindowState_html_a557cf2197f9df8fe60f6e1dbfd49ec43"><div class="ttname"><a href="structWindowState.html#a557cf2197f9df8fe60f6e1dbfd49ec43">WindowState::cols</a></div><div class="ttdeci">short cols</div><div class="ttdoc">Number of columns, can be MUTT_WIN_SIZE_UNLIMITED. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8h_source.html#l00060">mutt_window.h:60</a></div></div>
<div class="ttc" id="structMuttWindow_html_a406b976fc50b1cb5beca6c85e7a3be7f"><div class="ttname"><a href="structMuttWindow.html#a406b976fc50b1cb5beca6c85e7a3be7f">MuttWindow::state</a></div><div class="ttdeci">struct WindowState state</div><div class="ttdoc">Current state of the Window. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8h_source.html#l00123">mutt_window.h:123</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="help_8c_html_aad9991c3286c6cb9c0a98a495a9d3a26"><div class="ttname"><a href="help_8c.html#aad9991c3286c6cb9c0a98a495a9d3a26">dump_menu</a></div><div class="ttdeci">static void dump_menu(FILE *fp, enum MenuType menu, int wraplen)</div><div class="ttdoc">Write all the key bindings to a file. </div><div class="ttdef"><b>Definition:</b> <a href="help_8c_source.html#l00321">help.c:321</a></div></div>
<div class="ttc" id="dialog_8c_html_aa379408e2d835c200c803b4d0f33b2d6"><div class="ttname"><a href="dialog_8c.html#aa379408e2d835c200c803b4d0f33b2d6">AllDialogsWindow</a></div><div class="ttdeci">struct MuttWindow * AllDialogsWindow</div><div class="ttdoc">Parent of all Dialogs. </div><div class="ttdef"><b>Definition:</b> <a href="dialog_8c_source.html#l00076">dialog.c:76</a></div></div>
<div class="ttc" id="structPagerView_html_a8e4d312c9fefeba6f1c4fd8cf84eb101"><div class="ttname"><a href="structPagerView.html#a8e4d312c9fefeba6f1c4fd8cf84eb101">PagerView::flags</a></div><div class="ttdeci">PagerFlags flags</div><div class="ttdoc">Additional settings to tweak pager&amp;#39;s function. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00159">lib.h:159</a></div></div>
<div class="ttc" id="keymap_8c_html_a46ec7e8f8fb0c44894e0a5939b1e46ef"><div class="ttname"><a href="keymap_8c.html#a46ec7e8f8fb0c44894e0a5939b1e46ef">km_get_table</a></div><div class="ttdeci">const struct Binding * km_get_table(enum MenuType mtype)</div><div class="ttdoc">Lookup a menu&amp;#39;s keybindings. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8c_source.html#l01313">keymap.c:1313</a></div></div>
<div class="ttc" id="type_8c_html_aec7b36115a7f7b0ba3e11eae75b229f5"><div class="ttname"><a href="type_8c.html#aec7b36115a7f7b0ba3e11eae75b229f5">MenuNames</a></div><div class="ttdeci">const struct Mapping MenuNames[]</div><div class="ttdoc">Menu name lookup table. </div><div class="ttdef"><b>Definition:</b> <a href="type_8c_source.html#l00031">type.c:31</a></div></div>
<div class="ttc" id="pager_2lib_8h_html_a325eecb6e92fd9ea24c0ea630a84df6f"><div class="ttname"><a href="pager_2lib_8h.html#a325eecb6e92fd9ea24c0ea630a84df6f">MUTT_PAGER_NOWRAP</a></div><div class="ttdeci">#define MUTT_PAGER_NOWRAP</div><div class="ttdoc">Format for term width, ignore $wrap. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00066">lib.h:66</a></div></div>
<div class="ttc" id="structPagerData_html_a00d514b3bce57dcd4d5e1e493045ae5e"><div class="ttname"><a href="structPagerData.html#a00d514b3bce57dcd4d5e1e493045ae5e">PagerData::fname</a></div><div class="ttdeci">const char * fname</div><div class="ttdoc">Name of the file to read. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00149">lib.h:149</a></div></div>
<div class="ttc" id="file_8c_html_ae1c0c19fec03274220b3ca065ad1e2e5"><div class="ttname"><a href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a></div><div class="ttdeci">FILE * mutt_file_fopen(const char *path, const char *mode)</div><div class="ttdoc">Call fopen() safely. </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00589">file.c:589</a></div></div>
<div class="ttc" id="structPagerView_html_a90f35bb89f5efbd6cb5c23226f316e17"><div class="ttname"><a href="structPagerView.html#a90f35bb89f5efbd6cb5c23226f316e17">PagerView::banner</a></div><div class="ttdeci">const char * banner</div><div class="ttdoc">Title to display in status bar. </div><div class="ttdef"><b>Definition:</b> <a href="pager_2lib_8h_source.html#l00160">lib.h:160</a></div></div>
<div class="ttc" id="structBinding_html"><div class="ttname"><a href="structBinding.html">Binding</a></div><div class="ttdoc">Mapping between a user key and a function. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8h_source.html#l00091">keymap.h:91</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ac6179843b87f01ba1a8dda459daca237_cgraph.svg" width="499" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ac6179843b87f01ba1a8dda459daca237_icgraph.svg" width="287" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a26b14edeb6581f75b6fcc1011a459cd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26b14edeb6581f75b6fcc1011a459cd6">&#9670;&nbsp;</a></span>mutt_set_flag_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_set_flag_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a>&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>upd_mbox</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a flag on an email. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">e</td><td><a class="el" href="structEmail.html" title="The envelope/body of an email. ">Email</a> </td></tr>
    <tr><td class="paramname">flag</td><td>Flag to set, e.g. <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf" title="Messages to be deleted. ">MUTT_DELETE</a> </td></tr>
    <tr><td class="paramname">bf</td><td>true: set the flag; false: clear the flag </td></tr>
    <tr><td class="paramname">upd_mbox</td><td>true: update the <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flags_8c_source.html#l00050">50</a> of file <a class="el" href="flags_8c_source.html">flags.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">if</span> (!m || !e)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordtype">bool</span> changed = e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a>;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordtype">int</span> deleted = m-&gt;<a class="code" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a>;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordtype">int</span> tagged = m-&gt;<a class="code" href="structMailbox.html#aed459ffdbaf0be711de6f972085207ab">msg_tagged</a>;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordtype">int</span> flagged = m-&gt;<a class="code" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a>;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <span class="keywordtype">int</span> update = <span class="keyword">false</span>;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> &amp;&amp; (flag != <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a919d368fd60d2e1c19d331b78f415f3e">MUTT_TAG</a>))</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">/* don&#39;t modify anything if we are read-only */</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keywordflow">switch</span> (flag)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf">MUTT_DELETE</a>:</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <span class="keywordflow">if</span> (!(m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>))</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> c_flag_safe = <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;flag_safe&quot;</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> &amp;&amp; !m-&gt;<a class="code" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> &amp;&amp; (!e-&gt;<a class="code" href="structEmail.html#a8e810bc67ce7fea04bfe8a3739093d78">flagged</a> || !c_flag_safe))</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;          e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;          update = <span class="keyword">true</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a>++;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#ifdef USE_IMAP</span></div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;          <span class="comment">/* deleted messages aren&#39;t treated as changed elsewhere so that the</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">           * purge-on-sync option works correctly. This isn&#39;t applicable here */</span></div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;          <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a>)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;          {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;              m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;          }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a>)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        update = <span class="keyword">true</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a>--;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#ifdef USE_IMAP</span></div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="comment">/* see my comment above */</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a>)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="comment">/* If the user undeletes a message which is marked as</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">         * &quot;trash&quot; in the maildir folder on disk, the folder has</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">         * been changed, and is marked accordingly.  However, we do</span></div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">         * _not_ mark the message itself changed, because trashing</span></div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="comment">         * is checked in specific code in the maildir folder</span></div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="comment">         * driver.  */</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">if</span> ((m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4">MUTT_MAILDIR</a>) &amp;&amp; upd_mbox &amp;&amp; e-&gt;<a class="code" href="structEmail.html#ad14bdb707d3b5811734782cfb570d9eb">trash</a>)</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77">MUTT_PURGE</a>:</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <span class="keywordflow">if</span> (!(m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>))</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      {</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a1e108ee29a0c6571211290457ab60756">purge</a> &amp;&amp; !m-&gt;<a class="code" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a>)</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a1e108ee29a0c6571211290457ab60756">purge</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a1e108ee29a0c6571211290457ab60756">purge</a>)</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a1e108ee29a0c6571211290457ab60756">purge</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109">MUTT_NEW</a>:</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">if</span> (!(m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a>))</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> || e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a>)</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;          update = <span class="keyword">true</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>++;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;          {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;              m-&gt;<a class="code" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>++;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          }</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        update = <span class="keyword">true</span>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a>)</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>--;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>--;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      }</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7deaef4ebf08b54c1258f117b9ec6f50">MUTT_OLD</a>:</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">if</span> (!(m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a>))</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      {</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a>)</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;          update = <span class="keyword">true</span>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;              m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>--;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      }</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a>)</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;      {</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        update = <span class="keyword">true</span>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>++;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a>:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">if</span> (!(m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a>))</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          update = <span class="keyword">true</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>--;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;          <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a>)</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;              m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>--;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;      }</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        update = <span class="keyword">true</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>++;</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a>)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>++;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      }</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013af85858c2c1c662fe4c0407b31c75410b">MUTT_REPLIED</a>:</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="keywordflow">if</span> (!(m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a>))</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      {</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#aa26dd591f92e548bc3c56d0b7fdb3e8c">replied</a>)</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        {</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          update = <span class="keyword">true</span>;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          e-&gt;<a class="code" href="structEmail.html#aa26dd591f92e548bc3c56d0b7fdb3e8c">replied</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          {</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;              m-&gt;<a class="code" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a>--;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a>)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;              <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a>--;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        }</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      }</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#aa26dd591f92e548bc3c56d0b7fdb3e8c">replied</a>)</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        update = <span class="keyword">true</span>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        e-&gt;<a class="code" href="structEmail.html#aa26dd591f92e548bc3c56d0b7fdb3e8c">replied</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;      }</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a98e86a6ccd0fbd487266f4f0cbf28d58">MUTT_FLAG</a>:</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <span class="keywordflow">if</span> (!(m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a>))</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      {</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a8e810bc67ce7fea04bfe8a3739093d78">flagged</a>)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          update = <span class="keyword">true</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a8e810bc67ce7fea04bfe8a3739093d78">flagged</a> = bf;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a>++;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;          e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a8e810bc67ce7fea04bfe8a3739093d78">flagged</a>)</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      {</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        update = <span class="keyword">true</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a8e810bc67ce7fea04bfe8a3739093d78">flagged</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a>--;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      }</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a919d368fd60d2e1c19d331b78f415f3e">MUTT_TAG</a>:</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <span class="keywordflow">if</span> (bf)</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#af2c0a7e5c214aa9b1a42b7befaa1cffe">tagged</a>)</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;          update = <span class="keyword">true</span>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          e-&gt;<a class="code" href="structEmail.html#af2c0a7e5c214aa9b1a42b7befaa1cffe">tagged</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            m-&gt;<a class="code" href="structMailbox.html#aed459ffdbaf0be711de6f972085207ab">msg_tagged</a>++;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#af2c0a7e5c214aa9b1a42b7befaa1cffe">tagged</a>)</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      {</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        update = <span class="keyword">true</span>;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        e-&gt;<a class="code" href="structEmail.html#af2c0a7e5c214aa9b1a42b7befaa1cffe">tagged</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span> (upd_mbox)</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          m-&gt;<a class="code" href="structMailbox.html#aed459ffdbaf0be711de6f972085207ab">msg_tagged</a>--;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      }</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;  <span class="keywordflow">if</span> (update)</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  {</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="dlg__index_8c.html#a6566b9f6bf6671102a3330bee435ed8b">mutt_set_header_color</a>(m, e);</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;  }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;  <span class="comment">/* if the message status has changed, we need to invalidate the cached</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">   * search results so that any future search will match the current status</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">   * of this message and not what it was at the time it was last searched.  */</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a0168d790a0a31e79bf4e74a7bdf61436">searched</a> &amp;&amp; ((changed != e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a>) || (deleted != m-&gt;<a class="code" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a>) ||</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                      (tagged != m-&gt;<a class="code" href="structMailbox.html#aed459ffdbaf0be711de6f972085207ab">msg_tagged</a>) || (flagged != m-&gt;<a class="code" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a>)))</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    e-&gt;<a class="code" href="structEmail.html#a0168d790a0a31e79bf4e74a7bdf61436">searched</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;}</div><div class="ttc" id="structMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00105">mailbox.h:105</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00071">helpers.c:71</a></div></div>
<div class="ttc" id="structMailbox_html_ab5863d8f516c6db52e2fadb531bf8557"><div class="ttname"><a href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">Mailbox::msg_deleted</a></div><div class="ttdeci">int msg_deleted</div><div class="ttdoc">Number of deleted messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00096">mailbox.h:96</a></div></div>
<div class="ttc" id="structMailbox_html_af2632307a08699cf251e6599c8a84cac"><div class="ttname"><a href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">Mailbox::msg_unread</a></div><div class="ttdeci">int msg_unread</div><div class="ttdoc">Number of unread messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00092">mailbox.h:92</a></div></div>
<div class="ttc" id="structMailbox_html_ad8cc58166581060ab58acf36f22bfd4d"><div class="ttname"><a href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">Mailbox::msg_flagged</a></div><div class="ttdeci">int msg_flagged</div><div class="ttdoc">Number of flagged messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00093">mailbox.h:93</a></div></div>
<div class="ttc" id="dlg__index_8c_html_a6566b9f6bf6671102a3330bee435ed8b"><div class="ttname"><a href="dlg__index_8c.html#a6566b9f6bf6671102a3330bee435ed8b">mutt_set_header_color</a></div><div class="ttdeci">void mutt_set_header_color(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Select a colour for a message. </div><div class="ttdef"><b>Definition:</b> <a href="dlg__index_8c_source.html#l04240">dlg_index.c:4240</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a98e86a6ccd0fbd487266f4f0cbf28d58"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a98e86a6ccd0fbd487266f4f0cbf28d58">MUTT_FLAG</a></div><div class="ttdoc">Flagged messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00098">mutt.h:98</a></div></div>
<div class="ttc" id="structEmail_html_a8b1e186b9d388e199ba9c6239c612627"><div class="ttname"><a href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">Email::changed</a></div><div class="ttdeci">bool changed</div><div class="ttdoc">Email has been edited. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00048">email.h:48</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77">MUTT_PURGE</a></div><div class="ttdoc">Messages to be purged (bypass trash) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00096">mutt.h:96</a></div></div>
<div class="ttc" id="structEmail_html_a0168d790a0a31e79bf4e74a7bdf61436"><div class="ttname"><a href="structEmail.html#a0168d790a0a31e79bf4e74a7bdf61436">Email::searched</a></div><div class="ttdeci">bool searched</div><div class="ttdoc">Email has been searched. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00067">email.h:67</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="mailbox_8h_html_a7ada20153d03e30afe22e55e32d61fea"><div class="ttname"><a href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a></div><div class="ttdeci">#define MUTT_ACL_DELETE</div><div class="ttdoc">Delete a message. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00066">mailbox.h:66</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013af85858c2c1c662fe4c0407b31c75410b"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013af85858c2c1c662fe4c0407b31c75410b">MUTT_REPLIED</a></div><div class="ttdoc">Messages that have been replied to. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00091">mutt.h:91</a></div></div>
<div class="ttc" id="structEmail_html_af2c0a7e5c214aa9b1a42b7befaa1cffe"><div class="ttname"><a href="structEmail.html#af2c0a7e5c214aa9b1a42b7befaa1cffe">Email::tagged</a></div><div class="ttdeci">bool tagged</div><div class="ttdoc">Email is tagged. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00044">email.h:44</a></div></div>
<div class="ttc" id="structEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00051">email.h:51</a></div></div>
<div class="ttc" id="structEmail_html_a6d9062408a8c89b19cf25584dd2ffb57"><div class="ttname"><a href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">Email::old</a></div><div class="ttdeci">bool old</div><div class="ttdoc">Email is seen, but unread. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00050">email.h:50</a></div></div>
<div class="ttc" id="structMailbox_html_ae55237419d0e842cd6efeed0c41d27e8"><div class="ttname"><a href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">Mailbox::readonly</a></div><div class="ttdeci">bool readonly</div><div class="ttdoc">Don&amp;#39;t allow changes to the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00119">mailbox.h:119</a></div></div>
<div class="ttc" id="mailbox_8h_html_ac495d1273b7f2399403a2932b6ff2fd3"><div class="ttname"><a href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a></div><div class="ttdeci">#define MUTT_ACL_WRITE</div><div class="ttdoc">Write to a message (for flagging or linking threads) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00074">mailbox.h:74</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921dafd4cdaa9851e1c936b2f648b4bdc6ad4">MUTT_MAILDIR</a></div><div class="ttdoc">&amp;#39;Maildir&amp;#39; Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00051">mailbox.h:51</a></div></div>
<div class="ttc" id="structEmail_html_ad14bdb707d3b5811734782cfb570d9eb"><div class="ttname"><a href="structEmail.html#ad14bdb707d3b5811734782cfb570d9eb">Email::trash</a></div><div class="ttdeci">bool trash</div><div class="ttdoc">Message is marked as trashed on disk (used by the maildir_trash option) </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00060">email.h:60</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a7deaef4ebf08b54c1258f117b9ec6f50"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7deaef4ebf08b54c1258f117b9ec6f50">MUTT_OLD</a></div><div class="ttdoc">Old messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00090">mutt.h:90</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf">MUTT_DELETE</a></div><div class="ttdoc">Messages to be deleted. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00094">mutt.h:94</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a919d368fd60d2e1c19d331b78f415f3e"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a919d368fd60d2e1c19d331b78f415f3e">MUTT_TAG</a></div><div class="ttdoc">Tagged messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00099">mutt.h:99</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109">MUTT_NEW</a></div><div class="ttdoc">New messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00089">mutt.h:89</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a></div><div class="ttdoc">Messages that have been read. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00092">mutt.h:92</a></div></div>
<div class="ttc" id="structEmail_html_a1e108ee29a0c6571211290457ab60756"><div class="ttname"><a href="structEmail.html#a1e108ee29a0c6571211290457ab60756">Email::purge</a></div><div class="ttdeci">bool purge</div><div class="ttdoc">Skip trash folder when deleting. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00046">email.h:46</a></div></div>
<div class="ttc" id="structMailbox_html_aed459ffdbaf0be711de6f972085207ab"><div class="ttname"><a href="structMailbox.html#aed459ffdbaf0be711de6f972085207ab">Mailbox::msg_tagged</a></div><div class="ttdeci">int msg_tagged</div><div class="ttdoc">How many messages are tagged? </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00097">mailbox.h:97</a></div></div>
<div class="ttc" id="structMailbox_html_a44766ec39ab823278479d0a8fe7b5f73"><div class="ttname"><a href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">Mailbox::rights</a></div><div class="ttdeci">AclFlags rights</div><div class="ttdoc">ACL bits, see AclFlags. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00121">mailbox.h:121</a></div></div>
<div class="ttc" id="structEmail_html_a8e810bc67ce7fea04bfe8a3739093d78"><div class="ttname"><a href="structEmail.html#a8e810bc67ce7fea04bfe8a3739093d78">Email::flagged</a></div><div class="ttdeci">bool flagged</div><div class="ttdoc">Marked important? </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00043">email.h:43</a></div></div>
<div class="ttc" id="structMailbox_html_a3348499d9eb11b4e48f073d2eddb2be4"><div class="ttname"><a href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">Mailbox::msg_new</a></div><div class="ttdeci">int msg_new</div><div class="ttdoc">Number of new messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00095">mailbox.h:95</a></div></div>
<div class="ttc" id="structEmail_html_ac5db33e3d6d9723d8e496078d5769567"><div class="ttname"><a href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">Email::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdoc">Email is deleted. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00045">email.h:45</a></div></div>
<div class="ttc" id="structEmail_html_aa26dd591f92e548bc3c56d0b7fdb3e8c"><div class="ttname"><a href="structEmail.html#aa26dd591f92e548bc3c56d0b7fdb3e8c">Email::replied</a></div><div class="ttdeci">bool replied</div><div class="ttdoc">Email has been replied to. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00054">email.h:54</a></div></div>
<div class="ttc" id="mailbox_8h_html_af726790bdcf33b797e735f03aab88730"><div class="ttname"><a href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a></div><div class="ttdeci">#define MUTT_ACL_SEEN</div><div class="ttdoc">Change the &amp;#39;seen&amp;#39; status of a message. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00073">mailbox.h:73</a></div></div>
<div class="ttc" id="structMailbox_html_a12ba98c349220ae172753f4f3294ed59"><div class="ttname"><a href="structMailbox.html#a12ba98c349220ae172753f4f3294ed59">Mailbox::changed</a></div><div class="ttdeci">bool changed</div><div class="ttdoc">Mailbox has been modified. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00114">mailbox.h:114</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a></div><div class="ttdoc">&amp;#39;IMAP&amp;#39; Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00053">mailbox.h:53</a></div></div>
</div><!-- fragment --><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a26b14edeb6581f75b6fcc1011a459cd6_cgraph.svg" width="392" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a26b14edeb6581f75b6fcc1011a459cd6_icgraph.svg" width="383" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a91ee7d4aca86a7dc55c9ffda2f494c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91ee7d4aca86a7dc55c9ffda2f494c37">&#9670;&nbsp;</a></span>mutt_signal_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_signal_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the signal handling. </p>

<p class="definition">Definition at line <a class="el" href="mutt__signal_8c_source.html#l00140">140</a> of file <a class="el" href="mutt__signal_8c_source.html">mutt_signal.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="signal_8c.html#a079bd657ae3ccdcf07507d85097abfd8">mutt_sig_init</a>(<a class="code" href="mutt__signal_8c.html#a36f9432f78fa1b9e33cf9f860316ffb9">curses_signal_handler</a>, <a class="code" href="mutt__signal_8c.html#addcb2f804ac8deee8b5ea344a23d3ad6">curses_exit_handler</a>, <a class="code" href="mutt__signal_8c.html#a4f151ea731b3841057483913896a9b11">curses_segv_handler</a>);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#ifdef USE_SLANG_CURSES</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <span class="comment">/* This bit of code is required because of the implementation of</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">   * SLcurses_wgetch().  If a signal is received (like SIGWINCH) when we</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">   * are in blocking mode, SLsys_getkey() will not return an error unless</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">   * a handler function is defined and it returns -1.  This is needed so</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">   * that if the user resizes the screen while at a prompt, it will just</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">   * abort and go back to the main-menu.  */</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  SLang_getkey_intr_hook = mutt_intr_hook;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="ttc" id="mutt__signal_8c_html_a36f9432f78fa1b9e33cf9f860316ffb9"><div class="ttname"><a href="mutt__signal_8c.html#a36f9432f78fa1b9e33cf9f860316ffb9">curses_signal_handler</a></div><div class="ttdeci">static void curses_signal_handler(int sig)</div><div class="ttdoc">Catch signals and relay the info to the main program - Implements sig_handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__signal_8c_source.html#l00051">mutt_signal.c:51</a></div></div>
<div class="ttc" id="mutt__signal_8c_html_addcb2f804ac8deee8b5ea344a23d3ad6"><div class="ttname"><a href="mutt__signal_8c.html#addcb2f804ac8deee8b5ea344a23d3ad6">curses_exit_handler</a></div><div class="ttdeci">static void curses_exit_handler(int sig)</div><div class="ttdoc">Notify the user and shutdown gracefully - Implements sig_handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__signal_8c_source.html#l00094">mutt_signal.c:94</a></div></div>
<div class="ttc" id="signal_8c_html_a079bd657ae3ccdcf07507d85097abfd8"><div class="ttname"><a href="signal_8c.html#a079bd657ae3ccdcf07507d85097abfd8">mutt_sig_init</a></div><div class="ttdeci">void mutt_sig_init(sig_handler_t sig_fn, sig_handler_t exit_fn, sig_handler_t segv_fn)</div><div class="ttdoc">Initialise the signal handling. </div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00088">signal.c:88</a></div></div>
<div class="ttc" id="mutt__signal_8c_html_a4f151ea731b3841057483913896a9b11"><div class="ttname"><a href="mutt__signal_8c.html#a4f151ea731b3841057483913896a9b11">curses_segv_handler</a></div><div class="ttdeci">static void curses_segv_handler(int sig)</div><div class="ttdoc">Catch a segfault and print a backtrace - Implements sig_handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__signal_8c_source.html#l00106">mutt_signal.c:106</a></div></div>
</div><!-- fragment --><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a91ee7d4aca86a7dc55c9ffda2f494c37_cgraph.svg" width="352" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a91ee7d4aca86a7dc55c9ffda2f494c37_icgraph.svg" width="287" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a43e7b36feabba24693bc191f78e1f5c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e7b36feabba24693bc191f78e1f5c1">&#9670;&nbsp;</a></span>mutt_emails_set_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_emails_set_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct EmailList *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a>&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set flag on messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">el</td><td>List of Emails to flag </td></tr>
    <tr><td class="paramname">flag</td><td>Flag to set, e.g. <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf" title="Messages to be deleted. ">MUTT_DELETE</a> </td></tr>
    <tr><td class="paramname">bf</td><td>true: set the flag; false: clear the flag </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flags_8c_source.html#l00351">351</a> of file <a class="el" href="flags_8c_source.html">flags.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;{</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">if</span> (!m || !el || <a class="code" href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a>(el))</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <span class="keyword">struct </span><a class="code" href="structEmailNode.html">EmailNode</a> *en = NULL;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <a class="code" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(en, el, entries)</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, en-&gt;<a class="code" href="structEmailNode.html#a812e5a33b27b12a78daacbe246089abb">email</a>, flag, bf);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;}</div><div class="ttc" id="protos_8h_html_a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"><div class="ttname"><a href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a></div><div class="ttdeci">#define mutt_set_flag(m, e, flag, bf)</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00066">protos.h:66</a></div></div>
<div class="ttc" id="queue_8h_html_a77999ebdf5aaf7af8b8ea22bf208c432"><div class="ttname"><a href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a></div><div class="ttdeci">#define STAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00349">queue.h:349</a></div></div>
<div class="ttc" id="structEmailNode_html_a812e5a33b27b12a78daacbe246089abb"><div class="ttname"><a href="structEmailNode.html#a812e5a33b27b12a78daacbe246089abb">EmailNode::email</a></div><div class="ttdeci">struct Email * email</div><div class="ttdoc">Email in the list. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00131">email.h:131</a></div></div>
<div class="ttc" id="queue_8h_html_a8427c8f43d09d73062cf6b37f303aff5"><div class="ttname"><a href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a></div><div class="ttdeci">#define STAILQ_EMPTY(head)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00345">queue.h:345</a></div></div>
<div class="ttc" id="structEmailNode_html"><div class="ttname"><a href="structEmailNode.html">EmailNode</a></div><div class="ttdoc">List of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00129">email.h:129</a></div></div>
</div><!-- fragment --><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a43e7b36feabba24693bc191f78e1f5c1_icgraph.svg" width="548" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a9d4a3ae201d6d545651a5c63685ea83f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d4a3ae201d6d545651a5c63685ea83f">&#9670;&nbsp;</a></span>mutt_change_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_change_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct EmailList *&#160;</td>
          <td class="paramname"><em>el</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the flag on a <a class="el" href="structMessage.html" title="A local copy of an email. ">Message</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">el</td><td>List of Emails to change </td></tr>
    <tr><td class="paramname">bf</td><td>true: set the flag; false: clear the flag </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flags_8c_source.html#l00434">434</a> of file <a class="el" href="flags_8c_source.html">flags.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;{</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMuttWindow.html">MuttWindow</a> *win = <a class="code" href="msgwin_8c.html#aa22c662a1a837c50b33c1fd80c5c79ff">msgwin_get_window</a>();</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (!win)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;  <span class="keywordflow">if</span> (!m || !el || <a class="code" href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a>(el))</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keyword">enum</span> <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a> flag = <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a8cf735750339fbf3eb1d3c33de09dc41">MUTT_NONE</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keyword">struct </span><a class="code" href="structKeyEvent.html">KeyEvent</a> event;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMuttWindow.html">MuttWindow</a> *old_focus = <a class="code" href="mutt__window_8c.html#a9cd46beacc51d6ed854fd50fb303ddc4">window_set_focus</a>(win);</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="mutt__window_8c.html#af141561d2e2d0992d5cf4cf45f6fad2c">mutt_window_mvprintw</a>(win, 0, 0, <span class="stringliteral">&quot;%s? (D/N/O/r/*/!): &quot;</span>, bf ? <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Set flag&quot;</span>) : <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Clear flag&quot;</span>));</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  <a class="code" href="mutt__window_8c.html#ae2ba61d0bc2413c09e6a12f1fe345ab4">mutt_window_clrtoeol</a>(win);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <a class="code" href="mutt__window_8c.html#a0af7bfe97dbb8f95d03851ec3fe62553">window_redraw</a>(NULL);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <span class="keywordflow">do</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keyword">event</span> = <a class="code" href="curs__lib_8c.html#a6bde4da049798871747b54bff8d83b4f">mutt_getch</a>();</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  } <span class="keywordflow">while</span> (event.ch == -2); <span class="comment">// Timeout</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;  <a class="code" href="msgwin_8c.html#af8181b325c9ea8592a1a8c092f78cfb9">msgwin_clear_text</a>();</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <a class="code" href="mutt__window_8c.html#a9cd46beacc51d6ed854fd50fb303ddc4">window_set_focus</a>(old_focus);</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordflow">if</span> (event.ch &lt; 0) <span class="comment">// SIGINT, Abort key (Ctrl-G)</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <span class="keywordflow">switch</span> (event.ch)</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>:</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="keywordflow">if</span> (!bf)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        <a class="code" href="flags_8c.html#a43e7b36feabba24693bc191f78e1f5c1">mutt_emails_set_flag</a>(m, el, <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77">MUTT_PURGE</a>, bf);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      flag = <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf">MUTT_DELETE</a>;</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      flag = <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109">MUTT_NEW</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <a class="code" href="flags_8c.html#a43e7b36feabba24693bc191f78e1f5c1">mutt_emails_set_flag</a>(m, el, <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a>, !bf);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      flag = <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7deaef4ebf08b54c1258f117b9ec6f50">MUTT_OLD</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>:</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;R&#39;</span>:</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      flag = <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013af85858c2c1c662fe4c0407b31c75410b">MUTT_REPLIED</a>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;*&#39;</span>:</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      flag = <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a919d368fd60d2e1c19d331b78f415f3e">MUTT_TAG</a>;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="keywordflow">case</span> <span class="charliteral">&#39;!&#39;</span>:</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      flag = <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a98e86a6ccd0fbd487266f4f0cbf28d58">MUTT_FLAG</a>;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <a class="code" href="flags_8c.html#a43e7b36feabba24693bc191f78e1f5c1">mutt_emails_set_flag</a>(m, el, flag, bf);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;}</div><div class="ttc" id="flags_8c_html_a43e7b36feabba24693bc191f78e1f5c1"><div class="ttname"><a href="flags_8c.html#a43e7b36feabba24693bc191f78e1f5c1">mutt_emails_set_flag</a></div><div class="ttdeci">void mutt_emails_set_flag(struct Mailbox *m, struct EmailList *el, enum MessageType flag, bool bf)</div><div class="ttdoc">Set flag on messages. </div><div class="ttdef"><b>Definition:</b> <a href="flags_8c_source.html#l00351">flags.c:351</a></div></div>
<div class="ttc" id="mutt__window_8c_html_ae2ba61d0bc2413c09e6a12f1fe345ab4"><div class="ttname"><a href="mutt__window_8c.html#ae2ba61d0bc2413c09e6a12f1fe345ab4">mutt_window_clrtoeol</a></div><div class="ttdeci">void mutt_window_clrtoeol(struct MuttWindow *win)</div><div class="ttdoc">Clear to the end of the line. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8c_source.html#l00259">mutt_window.c:259</a></div></div>
<div class="ttc" id="mutt__window_8c_html_a9cd46beacc51d6ed854fd50fb303ddc4"><div class="ttname"><a href="mutt__window_8c.html#a9cd46beacc51d6ed854fd50fb303ddc4">window_set_focus</a></div><div class="ttdeci">struct MuttWindow * window_set_focus(struct MuttWindow *win)</div><div class="ttdoc">Set the Window focus. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8c_source.html#l00680">mutt_window.c:680</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a98e86a6ccd0fbd487266f4f0cbf28d58"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a98e86a6ccd0fbd487266f4f0cbf28d58">MUTT_FLAG</a></div><div class="ttdoc">Flagged messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00098">mutt.h:98</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a8cf735750339fbf3eb1d3c33de09dc41"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a8cf735750339fbf3eb1d3c33de09dc41">MUTT_NONE</a></div><div class="ttdoc">No messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00088">mutt.h:88</a></div></div>
<div class="ttc" id="mutt__window_8c_html_a0af7bfe97dbb8f95d03851ec3fe62553"><div class="ttname"><a href="mutt__window_8c.html#a0af7bfe97dbb8f95d03851ec3fe62553">window_redraw</a></div><div class="ttdeci">void window_redraw(struct MuttWindow *win)</div><div class="ttdoc">Reflow, recalc and repaint a tree of Windows. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8c_source.html#l00632">mutt_window.c:632</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77">MUTT_PURGE</a></div><div class="ttdoc">Messages to be purged (bypass trash) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00096">mutt.h:96</a></div></div>
<div class="ttc" id="structMuttWindow_html"><div class="ttname"><a href="structMuttWindow.html">MuttWindow</a></div><div class="ttdoc">A division of the screen. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8h_source.html#l00118">mutt_window.h:118</a></div></div>
<div class="ttc" id="msgwin_8c_html_af8181b325c9ea8592a1a8c092f78cfb9"><div class="ttname"><a href="msgwin_8c.html#af8181b325c9ea8592a1a8c092f78cfb9">msgwin_clear_text</a></div><div class="ttdeci">void msgwin_clear_text(void)</div><div class="ttdoc">Clear the text in the Message Window. </div><div class="ttdef"><b>Definition:</b> <a href="msgwin_8c_source.html#l00242">msgwin.c:242</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013af85858c2c1c662fe4c0407b31c75410b"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013af85858c2c1c662fe4c0407b31c75410b">MUTT_REPLIED</a></div><div class="ttdoc">Messages that have been replied to. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00091">mutt.h:91</a></div></div>
<div class="ttc" id="curs__lib_8c_html_ad4d7b60fedea755304f7d72461d860ca"><div class="ttname"><a href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a></div><div class="ttdeci">void mutt_beep(bool force)</div><div class="ttdoc">Irritate the user. </div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00105">curs_lib.c:105</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a></div><div class="ttdeci">MessageType</div><div class="ttdoc">To set flags or match patterns. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00085">mutt.h:85</a></div></div>
<div class="ttc" id="msgwin_8c_html_aa22c662a1a837c50b33c1fd80c5c79ff"><div class="ttname"><a href="msgwin_8c.html#aa22c662a1a837c50b33c1fd80c5c79ff">msgwin_get_window</a></div><div class="ttdeci">struct MuttWindow * msgwin_get_window(void)</div><div class="ttdoc">Get the Message Window pointer. </div><div class="ttdef"><b>Definition:</b> <a href="msgwin_8c_source.html#l00253">msgwin.c:253</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a7deaef4ebf08b54c1258f117b9ec6f50"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7deaef4ebf08b54c1258f117b9ec6f50">MUTT_OLD</a></div><div class="ttdoc">Old messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00090">mutt.h:90</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf">MUTT_DELETE</a></div><div class="ttdoc">Messages to be deleted. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00094">mutt.h:94</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a919d368fd60d2e1c19d331b78f415f3e"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a919d368fd60d2e1c19d331b78f415f3e">MUTT_TAG</a></div><div class="ttdoc">Tagged messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00099">mutt.h:99</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013aee9fa842e5b3bc6e0a7be34fa55f6109">MUTT_NEW</a></div><div class="ttdoc">New messages. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00089">mutt.h:89</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a></div><div class="ttdoc">Messages that have been read. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00092">mutt.h:92</a></div></div>
<div class="ttc" id="structKeyEvent_html"><div class="ttname"><a href="structKeyEvent.html">KeyEvent</a></div><div class="ttdoc">An event such as a keypress. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8h_source.html#l00064">keymap.h:64</a></div></div>
<div class="ttc" id="curs__lib_8c_html_a6bde4da049798871747b54bff8d83b4f"><div class="ttname"><a href="curs__lib_8c.html#a6bde4da049798871747b54bff8d83b4f">mutt_getch</a></div><div class="ttdeci">struct KeyEvent mutt_getch(void)</div><div class="ttdoc">Read a character from the input buffer. </div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00196">curs_lib.c:196</a></div></div>
<div class="ttc" id="queue_8h_html_a8427c8f43d09d73062cf6b37f303aff5"><div class="ttname"><a href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a></div><div class="ttdeci">#define STAILQ_EMPTY(head)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00345">queue.h:345</a></div></div>
<div class="ttc" id="mutt__window_8c_html_af141561d2e2d0992d5cf4cf45f6fad2c"><div class="ttname"><a href="mutt__window_8c.html#af141561d2e2d0992d5cf4cf45f6fad2c">mutt_window_mvprintw</a></div><div class="ttdeci">int mutt_window_mvprintw(struct MuttWindow *win, int col, int row, const char *fmt,...)</div><div class="ttdoc">Move the cursor and write a formatted string to a Window. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8c_source.html#l00343">mutt_window.c:343</a></div></div>
</div><!-- fragment --><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a9d4a3ae201d6d545651a5c63685ea83f_cgraph.svg" width="376" height="443"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a9d4a3ae201d6d545651a5c63685ea83f_icgraph.svg" width="338" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a72b3c85bc14241321c26350fd4a26b37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b3c85bc14241321c26350fd4a26b37">&#9670;&nbsp;</a></span>mutt_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_complete </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to complete a partial pathname. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer. ">Buffer</a> containing pathname </td></tr>
    <tr><td class="paramname">buflen</td><td>Length of buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Ok </td></tr>
    <tr><td class="paramname">-1</td><td>No matches</td></tr>
  </table>
  </dd>
</dl>
<p>Given a partial pathname, fill in as much of the rest of the path as is unique. </p>

<p class="definition">Definition at line <a class="el" href="complete_8c_source.html#l00057">57</a> of file <a class="el" href="complete_8c_source.html">complete.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *p = NULL;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  DIR *dirp = NULL;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">struct </span>dirent *de = NULL;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordtype">int</span> init = 0;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordtype">size_t</span> len;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *dirpart = NULL;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *exp_dirpart = NULL;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *filepart = NULL;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *tmp = NULL;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#ifdef USE_IMAP</span></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *imap_path = NULL;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;completing %s\n&quot;</span>, buf);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#ifdef USE_NNTP</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="options_8h.html#af2eca43762de7e23e0466ffc0e364780">OptNews</a>)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nntp_2complete_8c.html#a052dfa40f5ab0fb5debbeaf06b628ae9">nntp_complete</a>(buf, buflen);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_spool_file = <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;spool_file&quot;</span>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_folder = <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;folder&quot;</span>);</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#ifdef USE_IMAP</span></div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  imap_path = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">/* we can use &#39;/&#39; as a delimiter, imap_complete rewrites it */</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span> ((*buf == <span class="charliteral">&#39;=&#39;</span>) || (*buf == <span class="charliteral">&#39;+&#39;</span>) || (*buf == <span class="charliteral">&#39;!&#39;</span>))</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  {</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (*buf == <span class="charliteral">&#39;!&#39;</span>)</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      p = <a class="code" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(c_spool_file);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      p = <a class="code" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(c_folder);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="buffer_8c.html#affd1462724f24d56e9c928550fd903f6">mutt_buffer_concat_path</a>(imap_path, p, buf + 1);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(imap_path, buf);</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="imap_8c.html#ab4f27af8eb857a20834f445be3f498de">imap_path_probe</a>(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(imap_path), NULL) == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a>)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  {</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    rc = <a class="code" href="imap_8c.html#a768ec60d7525b728f5f1b1cd6789c8e8">imap_complete</a>(buf, buflen, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(imap_path));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;imap_path);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;imap_path);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  dirpart = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  exp_dirpart = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  filepart = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  tmp = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordflow">if</span> ((*buf == <span class="charliteral">&#39;=&#39;</span>) || (*buf == <span class="charliteral">&#39;+&#39;</span>) || (*buf == <span class="charliteral">&#39;!&#39;</span>))</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  {</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="buffer_8c.html#a819a9cb669c1a7e8e2218c672b794492">mutt_buffer_addch</a>(dirpart, *buf);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (*buf == <span class="charliteral">&#39;!&#39;</span>)</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(exp_dirpart, <a class="code" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(c_spool_file));</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(exp_dirpart, <a class="code" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(c_folder));</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    p = strrchr(buf, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (p)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <a class="code" href="buffer_8c.html#abaa42a8848bf380318f04d300da28102">mutt_buffer_concatn_path</a>(tmp, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(exp_dirpart),</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                               <a class="code" href="buffer_8c.html#a6929443fb5515bb2ab749f84769d9cc7">mutt_buffer_len</a>(exp_dirpart), buf + 1,</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                               (<span class="keywordtype">size_t</span>) (p - buf - 1));</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;      <a class="code" href="buffer_8c.html#ad070cb0d30bde9c0069f8c8e27ed89a8">mutt_buffer_copy</a>(exp_dirpart, tmp);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <a class="code" href="buffer_8c.html#a8356dd9cbd5bf2e404ae50ff01d61300">mutt_buffer_substrcpy</a>(dirpart, buf, p + 1);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(filepart, p + 1);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(filepart, buf + 1);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    dirp = opendir(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(exp_dirpart));</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    p = strrchr(buf, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (p)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      <span class="keywordflow">if</span> (p == buf) <span class="comment">/* absolute path */</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      {</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        p = buf + 1;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(dirpart, <span class="stringliteral">&quot;/&quot;</span>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(filepart, p);</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        dirp = opendir(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(dirpart));</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      {</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <a class="code" href="buffer_8c.html#a8356dd9cbd5bf2e404ae50ff01d61300">mutt_buffer_substrcpy</a>(dirpart, buf, p);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(filepart, p + 1);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="buffer_8c.html#ad070cb0d30bde9c0069f8c8e27ed89a8">mutt_buffer_copy</a>(exp_dirpart, dirpart);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <a class="code" href="muttlib_8c.html#a21df22e3d202586bf463caf3c9e718cc">mutt_buffer_expand_path</a>(exp_dirpart);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        dirp = opendir(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(exp_dirpart));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    }</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="comment">/* no directory name, so assume current directory. */</span></div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(filepart, buf);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      dirp = opendir(<span class="stringliteral">&quot;.&quot;</span>);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (!dirp)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;%s: %s (errno %d)\n&quot;</span>,</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;               <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(exp_dirpart), strerror(errno), errno);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordflow">goto</span> cleanup;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  }</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">/* special case to handle when there is no filepart yet.  find the first</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="comment">   * file/directory which is not &quot;.&quot; or &quot;..&quot; */</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  len = <a class="code" href="buffer_8c.html#a6929443fb5515bb2ab749f84769d9cc7">mutt_buffer_len</a>(filepart);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">if</span> (len == 0)</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">while</span> ((de = readdir(dirp)))</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;.&quot;</span>, de-&gt;d_name) &amp;&amp; !<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;..&quot;</span>, de-&gt;d_name))</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(filepart, de-&gt;d_name);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        init++;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  }</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordflow">while</span> ((de = readdir(dirp)))</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  {</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a>(de-&gt;d_name, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(filepart), len))</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">if</span> (init)</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordtype">char</span> *cp = filepart-&gt;<a class="code" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; (*cp != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (de-&gt;d_name[i] != <span class="charliteral">&#39;\0&#39;</span>); i++, cp++)</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <span class="keywordflow">if</span> (*cp != de-&gt;d_name[i])</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        }</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        *cp = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="buffer_8c.html#aaf527dc112bbf3be87b21dd10d1b5b53">mutt_buffer_fix_dptr</a>(filepart);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(filepart, de-&gt;d_name);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <span class="comment">/* check to see if it is a directory */</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="buffer_8c.html#a2d7c4a32422377609be66b0f620c4971">mutt_buffer_is_empty</a>(dirpart))</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        {</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          <a class="code" href="buffer_8c.html#adb26acff5f6b9bb7c322669bcb7c48e3">mutt_buffer_reset</a>(tmp);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;          <a class="code" href="buffer_8c.html#ad070cb0d30bde9c0069f8c8e27ed89a8">mutt_buffer_copy</a>(tmp, exp_dirpart);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;          <a class="code" href="buffer_8c.html#a819a9cb669c1a7e8e2218c672b794492">mutt_buffer_addch</a>(tmp, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        }</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="buffer_8c.html#a958e87c1ae9de976eb76f759dbaaa601">mutt_buffer_addstr</a>(tmp, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(filepart));</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="keywordflow">if</span> ((stat(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(tmp), &amp;st) != -1) &amp;&amp; (st.st_mode &amp; S_IFDIR))</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;          <a class="code" href="buffer_8c.html#a819a9cb669c1a7e8e2218c672b794492">mutt_buffer_addch</a>(filepart, <span class="charliteral">&#39;/&#39;</span>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        init = 1;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      }</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  }</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  closedir(dirp);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="buffer_8c.html#a2d7c4a32422377609be66b0f620c4971">mutt_buffer_is_empty</a>(dirpart))</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(dirpart), buflen);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;/&quot;</span>, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(dirpart)) &amp;&amp;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        (<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(dirpart)[0] != <span class="charliteral">&#39;=&#39;</span>) &amp;&amp; (<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(dirpart)[0] != <span class="charliteral">&#39;+&#39;</span>))</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    {</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf + strlen(buf), <span class="stringliteral">&quot;/&quot;</span>, buflen - strlen(buf));</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf + strlen(buf), <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(filepart), buflen - strlen(buf));</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  }</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(filepart), buflen);</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;cleanup:</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;dirpart);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;exp_dirpart);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;filepart);</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;tmp);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordflow">return</span> init ? 0 : -1;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div><div class="ttc" id="mutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00904">string.c:904</a></div></div>
<div class="ttc" id="string2_8h_html_a7e0481bed27661ea2679f256b24e0283"><div class="ttname"><a href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a></div><div class="ttdeci">#define NONULL(x)</div><div class="ttdef"><b>Definition:</b> <a href="string2_8h_source.html#l00037">string2.h:37</a></div></div>
<div class="ttc" id="buffer_8c_html_adb26acff5f6b9bb7c322669bcb7c48e3"><div class="ttname"><a href="buffer_8c.html#adb26acff5f6b9bb7c322669bcb7c48e3">mutt_buffer_reset</a></div><div class="ttdeci">void mutt_buffer_reset(struct Buffer *buf)</div><div class="ttdoc">Reset an existing Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00079">buffer.c:79</a></div></div>
<div class="ttc" id="pool_8c_html_a2129d5ea0085753afdd37cf62161845d"><div class="ttname"><a href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a></div><div class="ttdeci">struct Buffer * mutt_buffer_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00101">pool.c:101</a></div></div>
<div class="ttc" id="imap_8c_html_ab4f27af8eb857a20834f445be3f498de"><div class="ttname"><a href="imap_8c.html#ab4f27af8eb857a20834f445be3f498de">imap_path_probe</a></div><div class="ttdeci">enum MailboxType imap_path_probe(const char *path, const struct stat *st)</div><div class="ttdoc">Is this an IMAP Mailbox? - Implements MxOps::path_probe() </div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l02400">imap.c:2400</a></div></div>
<div class="ttc" id="buffer_8c_html_ad070cb0d30bde9c0069f8c8e27ed89a8"><div class="ttname"><a href="buffer_8c.html#ad070cb0d30bde9c0069f8c8e27ed89a8">mutt_buffer_copy</a></div><div class="ttdeci">size_t mutt_buffer_copy(struct Buffer *dst, const struct Buffer *src)</div><div class="ttdoc">Copy a Buffer&amp;#39;s contents to another Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00445">buffer.c:445</a></div></div>
<div class="ttc" id="buffer_8c_html_a8356dd9cbd5bf2e404ae50ff01d61300"><div class="ttname"><a href="buffer_8c.html#a8356dd9cbd5bf2e404ae50ff01d61300">mutt_buffer_substrcpy</a></div><div class="ttdeci">size_t mutt_buffer_substrcpy(struct Buffer *buf, const char *beg, const char *end)</div><div class="ttdoc">Copy a partial string into a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00342">buffer.c:342</a></div></div>
<div class="ttc" id="pool_8c_html_a08b48e2ac8849341888ee7429cc5093c"><div class="ttname"><a href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a></div><div class="ttdeci">void mutt_buffer_pool_release(struct Buffer **pbuf)</div><div class="ttdoc">Free a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00112">pool.c:112</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="buffer_8c_html_a958e87c1ae9de976eb76f759dbaaa601"><div class="ttname"><a href="buffer_8c.html#a958e87c1ae9de976eb76f759dbaaa601">mutt_buffer_addstr</a></div><div class="ttdeci">size_t mutt_buffer_addstr(struct Buffer *buf, const char *s)</div><div class="ttdoc">Add a string to a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00225">buffer.c:225</a></div></div>
<div class="ttc" id="buffer_8c_html_aaf527dc112bbf3be87b21dd10d1b5b53"><div class="ttname"><a href="buffer_8c.html#aaf527dc112bbf3be87b21dd10d1b5b53">mutt_buffer_fix_dptr</a></div><div class="ttdeci">void mutt_buffer_fix_dptr(struct Buffer *buf)</div><div class="ttdoc">Move the dptr to end of the Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00181">buffer.c:181</a></div></div>
<div class="ttc" id="buffer_8c_html_a6929443fb5515bb2ab749f84769d9cc7"><div class="ttname"><a href="buffer_8c.html#a6929443fb5515bb2ab749f84769d9cc7">mutt_buffer_len</a></div><div class="ttdeci">size_t mutt_buffer_len(const struct Buffer *buf)</div><div class="ttdoc">Calculate the length of a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00356">buffer.c:356</a></div></div>
<div class="ttc" id="structBuffer_html_aeec1fd4af0ddf6765b0187466d4361b8"><div class="ttname"><a href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">Pointer to data. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00035">buffer.h:35</a></div></div>
<div class="ttc" id="helpers_8c_html_ac477c591155aa4ae0452bbabc0affffe"><div class="ttname"><a href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00295">helpers.c:295</a></div></div>
<div class="ttc" id="buffer_8c_html_a819a9cb669c1a7e8e2218c672b794492"><div class="ttname"><a href="buffer_8c.html#a819a9cb669c1a7e8e2218c672b794492">mutt_buffer_addch</a></div><div class="ttdeci">size_t mutt_buffer_addch(struct Buffer *buf, char c)</div><div class="ttdoc">Add a single character to a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00240">buffer.c:240</a></div></div>
<div class="ttc" id="buffer_8c_html_abaa42a8848bf380318f04d300da28102"><div class="ttname"><a href="buffer_8c.html#abaa42a8848bf380318f04d300da28102">mutt_buffer_concatn_path</a></div><div class="ttdeci">size_t mutt_buffer_concatn_path(struct Buffer *buf, const char *dir, size_t dirlen, const char *fname, size_t fnamelen)</div><div class="ttdoc">Join a directory name and a filename. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00411">buffer.c:411</a></div></div>
<div class="ttc" id="buffer_8c_html_a4bcc481586ae3af02645b4e23e48e0d7"><div class="ttname"><a href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a></div><div class="ttdeci">size_t mutt_buffer_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00312">buffer.c:312</a></div></div>
<div class="ttc" id="nntp_2complete_8c_html_a052dfa40f5ab0fb5debbeaf06b628ae9"><div class="ttname"><a href="nntp_2complete_8c.html#a052dfa40f5ab0fb5debbeaf06b628ae9">nntp_complete</a></div><div class="ttdeci">int nntp_complete(char *buf, size_t buflen)</div><div class="ttdoc">Auto-complete NNTP newsgroups. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2complete_8c_source.html#l00047">complete.c:47</a></div></div>
<div class="ttc" id="imap_8c_html_a768ec60d7525b728f5f1b1cd6789c8e8"><div class="ttname"><a href="imap_8c.html#a768ec60d7525b728f5f1b1cd6789c8e8">imap_complete</a></div><div class="ttdeci">int imap_complete(char *buf, size_t buflen, const char *path)</div><div class="ttdoc">Try to complete an IMAP folder path. </div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l01341">imap.c:1341</a></div></div>
<div class="ttc" id="muttlib_8c_html_a21df22e3d202586bf463caf3c9e718cc"><div class="ttname"><a href="muttlib_8c.html#a21df22e3d202586bf463caf3c9e718cc">mutt_buffer_expand_path</a></div><div class="ttdeci">void mutt_buffer_expand_path(struct Buffer *buf)</div><div class="ttdoc">Create the canonical path. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00322">muttlib.c:322</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdoc">Log at debug level 1. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00040">logging.h:40</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00749">string.c:749</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a6f574867aa9db4d434adbc8af1f5f7e7"><div class="ttname"><a href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a></div><div class="ttdeci">bool mutt_strn_equal(const char *a, const char *b, size_t num)</div><div class="ttdoc">Check for equality of two strings (to a maximum), safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00593">string.c:593</a></div></div>
<div class="ttc" id="buffer_8c_html_affd1462724f24d56e9c928550fd903f6"><div class="ttname"><a href="buffer_8c.html#affd1462724f24d56e9c928550fd903f6">mutt_buffer_concat_path</a></div><div class="ttdeci">size_t mutt_buffer_concat_path(struct Buffer *buf, const char *dir, const char *fname)</div><div class="ttdoc">Join a directory name and a filename. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00374">buffer.c:374</a></div></div>
<div class="ttc" id="logging_8h_html_ae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00081">logging.h:81</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="buffer_8c_html_a2d7c4a32422377609be66b0f620c4971"><div class="ttname"><a href="buffer_8c.html#a2d7c4a32422377609be66b0f620c4971">mutt_buffer_is_empty</a></div><div class="ttdeci">bool mutt_buffer_is_empty(const struct Buffer *buf)</div><div class="ttdoc">Is the Buffer empty? </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00252">buffer.c:252</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a></div><div class="ttdoc">&amp;#39;IMAP&amp;#39; Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00053">mailbox.h:53</a></div></div>
<div class="ttc" id="options_8h_html_af2eca43762de7e23e0466ffc0e364780"><div class="ttname"><a href="options_8h.html#af2eca43762de7e23e0466ffc0e364780">OptNews</a></div><div class="ttdeci">WHERE bool OptNews</div><div class="ttdoc">(pseudo) used to change reader mode </div><div class="ttdef"><b>Definition:</b> <a href="options_8h_source.html#l00044">options.h:44</a></div></div>
</div><!-- fragment --><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a72b3c85bc14241321c26350fd4a26b37_cgraph.svg" width="567" height="1096"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a72b3c85bc14241321c26350fd4a26b37_icgraph.svg" width="347" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aad14aaca518d6c005ec318f14114d5ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad14aaca518d6c005ec318f14114d5ec">&#9670;&nbsp;</a></span>mutt_prepare_template()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_prepare_template </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>e_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>resend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prepare a message template. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fp</td><td>If not NULL, file containing the template </td></tr>
    <tr><td class="paramname">m</td><td>If fp is NULL, the <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> containing the header with the template </td></tr>
    <tr><td class="paramname">e_new</td><td>The template is read into this Header </td></tr>
    <tr><td class="paramname">e</td><td><a class="el" href="structEmail.html" title="The envelope/body of an email. ">Email</a> to recall/resend </td></tr>
    <tr><td class="paramname">resend</td><td>Set if resending (as opposed to recalling a postponed msg) Resent messages enable header weeding, and also discard any existing Message-ID and Mail-Followup-To </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="postpone_8c_source.html#l00737">737</a> of file <a class="el" href="postpone_8c_source.html">postpone.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;{</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMessage.html">Message</a> *msg = NULL;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBody.html">Body</a> *b = NULL;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  FILE *fp_body = NULL;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <span class="keywordtype">int</span> rc = -1;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keyword">struct </span><a class="code" href="structState.html">State</a> s = { 0 };</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <a class="code" href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a> sec_type;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keyword">struct </span><a class="code" href="structEnvelope.html">Envelope</a> *protected_headers = NULL;</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *file = NULL;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;  <span class="keywordflow">if</span> (!fp &amp;&amp; !(msg = <a class="code" href="mx_8c.html#a7df2f9d4d83ce9fca2cf48e08f8a4bc0">mx_msg_open</a>(m, e-&gt;<a class="code" href="structEmail.html#abd3d551204f4ea232a304c1c4c4c149d">msgno</a>)))</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  <span class="keywordflow">if</span> (!fp)</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    fp = msg-&gt;<a class="code" href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">fp</a>;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  fp_body = fp;</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="comment">/* parse the message header and MIME structure */</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  fseeko(fp, e-&gt;<a class="code" href="structEmail.html#a8d35ff6f232f83e89e2d46af416708cc">offset</a>, SEEK_SET);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  e_new-&gt;<a class="code" href="structEmail.html#a8d35ff6f232f83e89e2d46af416708cc">offset</a> = e-&gt;<a class="code" href="structEmail.html#a8d35ff6f232f83e89e2d46af416708cc">offset</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="comment">/* enable header weeding for resent messages */</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  e_new-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a> = <a class="code" href="parse_8c.html#a32cd9ed48d31f100bd8525018e1450da">mutt_rfc822_read_header</a>(fp, e_new, <span class="keyword">true</span>, resend);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a> = e-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <a class="code" href="parse_8c.html#a0b38ac4f44b3414d0e18d26324861369">mutt_parse_part</a>(fp, e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  <span class="comment">/* If resending a message, don&#39;t keep message_id or mail_followup_to.</span></div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="comment">   * Otherwise, we are resuming a postponed message, and want to keep those</span></div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;<span class="comment">   * headers if they exist.  */</span></div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">if</span> (resend)</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code" href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">message_id</a>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code" href="structEnvelope.html#a6044b60220b8029a6a505e5b61f1cadc">mail_followup_to</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  }</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="comment">/* decrypt pgp/mime encoded messages */</span></div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;      (sec_type = <a class="code" href="crypt_8c.html#a832e4b9f5a0e463876a3d8cfe852f12d">mutt_is_multipart_encrypted</a>(e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>)))</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  {</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= sec_type;</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="crypt_8c.html#a4ee7f1419a7e39b0e9f1f9d550f4de43">crypt_valid_passphrase</a>(sec_type))</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="logging_8h.html#ae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Decrypting message...&quot;</span>));</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="cryptglue_8c.html#aa8e21077ffe83ed3b10dc22acdd6c2e2">crypt_pgp_decrypt_mime</a>(fp, &amp;fp_body, e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>, &amp;b) == -1) || !b)</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    {</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not decrypt PGP message&quot;</span>));</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    }</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <a class="code" href="email_2body_8c.html#a129af1c316fcbc26b55fb48957bab2cb">mutt_body_free</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a> = b;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (b-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a>)</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    {</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      protected_headers = b-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a>;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      b-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a> = NULL;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <a class="code" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  }</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="comment">/* remove a potential multipart/signed layer - useful when</span></div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">   * resending messages */</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; <a class="code" href="crypt_8c.html#a345fb1ff241b3fc778632947c2b08d37">mutt_is_multipart_signed</a>(e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>))</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= <a class="code" href="ncrypt_2lib_8h.html#ae12c003463c99d28f65f1d6b8b053b2c">SEC_SIGN</a>;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_PGP) != 0) &amp;&amp;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<a class="code" href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;protocol&quot;</span>),</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;                        <span class="stringliteral">&quot;application/pgp-signature&quot;</span>))</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    {</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>;</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    }</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">/* destroy the signature */</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <a class="code" href="email_2body_8c.html#a129af1c316fcbc26b55fb48957bab2cb">mutt_body_free</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#a0b87b7bdb6faef44d9aac4854975f805">parts</a>-&gt;<a class="code" href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">next</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a> = <a class="code" href="multipart_8c.html#a71d5ccd20fbbbe2fa56e6d1f577e34ae">mutt_remove_multipart</a>(e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">if</span> (e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a>)</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    {</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <a class="code" href="email_2envelope_8c.html#a244dacf9b1001c9ce1dbd473e001381f">mutt_env_free</a>(&amp;protected_headers);</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      protected_headers = e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a>;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a> = NULL;</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    }</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;  }</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  <span class="comment">/* We don&#39;t need no primary multipart.</span></div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">   * Note: We _do_ preserve messages!</span></div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">   * XXX - we don&#39;t handle multipart/alternative in any</span></div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;<span class="comment">   * smart way when sending messages.  However, one may</span></div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;<span class="comment">   * consider this a feature.  */</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;  <span class="keywordflow">if</span> (e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a>)</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a> = <a class="code" href="multipart_8c.html#a71d5ccd20fbbbe2fa56e6d1f577e34ae">mutt_remove_multipart</a>(e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  s.<a class="code" href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">fp_in</a> = fp_body;</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  file = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;  <span class="comment">/* create temporary files for all attachments */</span></div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">for</span> (b = e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>; b; b = b-&gt;<a class="code" href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">next</a>)</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="comment">/* what follows is roughly a receive-mode variant of</span></div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="comment">     * mutt_get_tmp_attachment () from muttlib.c */</span></div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="buffer_8c.html#adb26acff5f6b9bb7c322669bcb7c48e3">mutt_buffer_reset</a>(file);</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (b-&gt;<a class="code" href="structBody.html#afe3cd2c4b1070e3d0edbf1fed939ac5a">filename</a>)</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(file, b-&gt;<a class="code" href="structBody.html#afe3cd2c4b1070e3d0edbf1fed939ac5a">filename</a>);</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      b-&gt;<a class="code" href="structBody.html#a0a77f105609a64f37c359b9c81d1f263">d_filename</a> = <a class="code" href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a>(b-&gt;<a class="code" href="structBody.html#afe3cd2c4b1070e3d0edbf1fed939ac5a">filename</a>);</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    }</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    {</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="comment">/* avoid Content-Disposition: header with temporary filename */</span></div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      b-&gt;<a class="code" href="structBody.html#a86721d1d557276cbc9cf69777af8c305">use_disp</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="comment">/* set up state flags */</span></div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    s.<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> = 0;</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="keywordflow">if</span> (b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a>)</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    {</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;yes&quot;</span>,</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                          <a class="code" href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a>(&amp;b-&gt;<a class="code" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;x-mutt-noconv&quot;</span>)))</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;      {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        b-&gt;<a class="code" href="structBody.html#a2f795dc4337b500fbf2ae6682dc5360b">noconv</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      }</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        s.<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> |= <a class="code" href="state_8h.html#a5380aee741459ab7d39708695b18711f">MUTT_CHARCONV</a>;</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        b-&gt;<a class="code" href="structBody.html#a2f795dc4337b500fbf2ae6682dc5360b">noconv</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;      }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <a class="code" href="parameter_8c.html#a34454ee6af9d43eeabf80898dc7270b8">mutt_param_delete</a>(&amp;b-&gt;<a class="code" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;x-mutt-noconv&quot;</span>);</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="muttlib_8c.html#acf3a46e57ab84223b270c763ccb166ca">mutt_adv_mktemp</a>(file);</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    s.<a class="code" href="structState.html#a88fc722d3012ebf69d3a061cbf6bc296">fp_out</a> = <a class="code" href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a>(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(file), <span class="stringliteral">&quot;w&quot;</span>);</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    <span class="keywordflow">if</span> (!s.<a class="code" href="structState.html#a88fc722d3012ebf69d3a061cbf6bc296">fp_out</a>)</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_PGP) != 0) &amp;&amp;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        ((sec_type = <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(b)) &amp; (<a class="code" href="ncrypt_2lib_8h.html#aacaa4abd4c0696e260b7a0f1d466360a">SEC_ENCRYPT</a> | <a class="code" href="ncrypt_2lib_8h.html#ae12c003463c99d28f65f1d6b8b053b2c">SEC_SIGN</a>)))</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;    {</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;      <span class="keywordflow">if</span> (sec_type &amp; <a class="code" href="ncrypt_2lib_8h.html#aacaa4abd4c0696e260b7a0f1d466360a">SEC_ENCRYPT</a>)</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      {</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="crypt_8c.html#a4ee7f1419a7e39b0e9f1f9d550f4de43">crypt_valid_passphrase</a>(APPLICATION_PGP))</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;          <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        <a class="code" href="logging_8h.html#ae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Decrypting message...&quot;</span>));</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      }</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="handler_8c.html#adae8bf0eec9bee0bd62f639bbcf8599f">mutt_body_handler</a>(b, &amp;s) &lt; 0)</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;      {</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Decryption failed&quot;</span>));</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      }</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">if</span> ((b == e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>) &amp;&amp; !protected_headers)</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      {</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        protected_headers = b-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a>;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        b-&gt;<a class="code" href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">mime_headers</a> = NULL;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= sec_type;</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;      b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> = <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a>;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <a class="code" href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a>(&amp;b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, <span class="stringliteral">&quot;plain&quot;</span>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;      <a class="code" href="parameter_8c.html#a34454ee6af9d43eeabf80898dc7270b8">mutt_param_delete</a>(&amp;b-&gt;<a class="code" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;x-action&quot;</span>);</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_SMIME) != 0) &amp;&amp;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;             ((sec_type = <a class="code" href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a>(b)) &amp; (SEC_ENCRYPT | <a class="code" href="ncrypt_2lib_8h.html#ae12c003463c99d28f65f1d6b8b053b2c">SEC_SIGN</a>)))</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    {</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <span class="keywordflow">if</span> (sec_type &amp; SEC_ENCRYPT)</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      {</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="crypt_8c.html#a4ee7f1419a7e39b0e9f1f9d550f4de43">crypt_valid_passphrase</a>(APPLICATION_SMIME))</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;          <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="cryptglue_8c.html#a3f60f47f4d4dee7f43f502b7244af35f">crypt_smime_getkeys</a>(e_new-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;        <a class="code" href="logging_8h.html#ae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Decrypting message...&quot;</span>));</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="handler_8c.html#adae8bf0eec9bee0bd62f639bbcf8599f">mutt_body_handler</a>(b, &amp;s) &lt; 0)</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;      {</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;        <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Decryption failed&quot;</span>));</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;        <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      }</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;      e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= sec_type;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> = <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a>;</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      <a class="code" href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a>(&amp;b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, <span class="stringliteral">&quot;plain&quot;</span>);</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    }</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;      <a class="code" href="handler_8c.html#a8dc0c14a81bb73f86986adc9745dd192">mutt_decode_attachment</a>(b, &amp;s);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;s.<a class="code" href="structState.html#a88fc722d3012ebf69d3a061cbf6bc296">fp_out</a>) != 0)</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;      <span class="keywordflow">goto</span> bail;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    <a class="code" href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a>(&amp;b-&gt;<a class="code" href="structBody.html#afe3cd2c4b1070e3d0edbf1fed939ac5a">filename</a>, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(file));</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;    b-&gt;<a class="code" href="structBody.html#a47191eabf16d34d0deb412c898ed629b">unlink</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="sendlib_8c.html#a0ee1ea636faabfacf94efbd968b0bea9">mutt_stamp_attachment</a>(b);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <a class="code" href="email_2body_8c.html#a129af1c316fcbc26b55fb48957bab2cb">mutt_body_free</a>(&amp;b-&gt;<a class="code" href="structBody.html#a0b87b7bdb6faef44d9aac4854975f805">parts</a>);</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (b-&gt;<a class="code" href="structBody.html#a8e10ba22522218bd12bd3cb38dd3fcc9">email</a>)</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      b-&gt;<a class="code" href="structBody.html#a8e10ba22522218bd12bd3cb38dd3fcc9">email</a>-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a> = NULL; <span class="comment">/* avoid dangling pointer */</span></div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_crypt_protected_headers_read =</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;crypt_protected_headers_read&quot;</span>);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  <span class="keywordflow">if</span> (c_crypt_protected_headers_read &amp;&amp; protected_headers &amp;&amp; protected_headers-&gt;<a class="code" href="structEnvelope.html#aa3d22c82ed26a0727508d26363e98ea7">subject</a> &amp;&amp;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;      !<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(e_new-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code" href="structEnvelope.html#aa3d22c82ed26a0727508d26363e98ea7">subject</a>, protected_headers-&gt;<a class="code" href="structEnvelope.html#aa3d22c82ed26a0727508d26363e98ea7">subject</a>))</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  {</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <a class="code" href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code" href="structEnvelope.html#aa3d22c82ed26a0727508d26363e98ea7">subject</a>, protected_headers-&gt;<a class="code" href="structEnvelope.html#aa3d22c82ed26a0727508d26363e98ea7">subject</a>);</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  }</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <a class="code" href="email_2envelope_8c.html#a244dacf9b1001c9ce1dbd473e001381f">mutt_env_free</a>(&amp;protected_headers);</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="comment">/* Fix encryption flags. */</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  <span class="comment">/* No inline if multipart. */</span></div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; (e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a074f827472ad45f11ec1132cdfed2daf">SEC_INLINE</a>) &amp;&amp; e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>-&gt;<a class="code" href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">next</a>)</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> &amp;= ~<a class="code" href="ncrypt_2lib_8h.html#a074f827472ad45f11ec1132cdfed2daf">SEC_INLINE</a>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <span class="comment">/* Do we even support multiple mechanisms? */</span></div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> &amp;= <a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> | ~(APPLICATION_PGP | <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <span class="comment">/* Theoretically, both could be set. Take the one the user wants to set by default. */</span></div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">if</span> ((e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> &amp; APPLICATION_PGP) &amp;&amp; (e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>))</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  {</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_smime_is_default =</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;        <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;smime_is_default&quot;</span>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">if</span> (c_smime_is_default)</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;      e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> &amp;= ~APPLICATION_PGP;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;      e_new-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> &amp;= ~APPLICATION_SMIME;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  }</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <a class="code" href="rfc3676_8c.html#a47bfc67ef302e9b51cee14c713a70f35">mutt_rfc3676_space_unstuff</a>(e_new);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  rc = 0;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;bail:</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  <span class="comment">/* that&#39;s it. */</span></div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;file);</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">if</span> (fp_body != fp)</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp_body);</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordflow">if</span> (msg)</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <a class="code" href="mx_8c.html#a2172d90c08b5a2b293d22ed13ee0e7a8">mx_msg_close</a>(m, &amp;msg);</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordflow">if</span> (rc == -1)</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  {</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    <a class="code" href="email_2envelope_8c.html#a244dacf9b1001c9ce1dbd473e001381f">mutt_env_free</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="email_2body_8c.html#a129af1c316fcbc26b55fb48957bab2cb">mutt_body_free</a>(&amp;e_new-&gt;<a class="code" href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">body</a>);</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  }</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div><div class="ttc" id="mutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00904">string.c:904</a></div></div>
<div class="ttc" id="handler_8c_html_a8dc0c14a81bb73f86986adc9745dd192"><div class="ttname"><a href="handler_8c.html#a8dc0c14a81bb73f86986adc9745dd192">mutt_decode_attachment</a></div><div class="ttdeci">void mutt_decode_attachment(struct Body *b, struct State *s)</div><div class="ttdoc">Decode an email&amp;#39;s attachment. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01861">handler.c:1861</a></div></div>
<div class="ttc" id="sendlib_8c_html_a0ee1ea636faabfacf94efbd968b0bea9"><div class="ttname"><a href="sendlib_8c.html#a0ee1ea636faabfacf94efbd968b0bea9">mutt_stamp_attachment</a></div><div class="ttdeci">void mutt_stamp_attachment(struct Body *a)</div><div class="ttdoc">Timestamp an Attachment. </div><div class="ttdef"><b>Definition:</b> <a href="sendlib_8c_source.html#l00892">sendlib.c:892</a></div></div>
<div class="ttc" id="structBody_html_afe3cd2c4b1070e3d0edbf1fed939ac5a"><div class="ttname"><a href="structBody.html#afe3cd2c4b1070e3d0edbf1fed939ac5a">Body::filename</a></div><div class="ttdeci">char * filename</div><div class="ttdoc">when sending a message, this is the file to which this structure refers </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00046">body.h:46</a></div></div>
<div class="ttc" id="structBody_html_a62f6c9b4245ed3b6b9296adb45aa4010"><div class="ttname"><a href="structBody.html#a62f6c9b4245ed3b6b9296adb45aa4010">Body::mime_headers</a></div><div class="ttdeci">struct Envelope * mime_headers</div><div class="ttdoc">Memory hole protected headers. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00063">body.h:63</a></div></div>
<div class="ttc" id="buffer_8c_html_adb26acff5f6b9bb7c322669bcb7c48e3"><div class="ttname"><a href="buffer_8c.html#adb26acff5f6b9bb7c322669bcb7c48e3">mutt_buffer_reset</a></div><div class="ttdeci">void mutt_buffer_reset(struct Buffer *buf)</div><div class="ttdoc">Reset an existing Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00079">buffer.c:79</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00071">helpers.c:71</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00113">lib.h:113</a></div></div>
<div class="ttc" id="email_2envelope_8c_html_a244dacf9b1001c9ce1dbd473e001381f"><div class="ttname"><a href="email_2envelope_8c.html#a244dacf9b1001c9ce1dbd473e001381f">mutt_env_free</a></div><div class="ttdeci">void mutt_env_free(struct Envelope **ptr)</div><div class="ttdoc">Free an Envelope. </div><div class="ttdef"><b>Definition:</b> <a href="email_2envelope_8c_source.html#l00096">envelope.c:96</a></div></div>
<div class="ttc" id="pool_8c_html_a2129d5ea0085753afdd37cf62161845d"><div class="ttname"><a href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a></div><div class="ttdeci">struct Buffer * mutt_buffer_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00101">pool.c:101</a></div></div>
<div class="ttc" id="structEnvelope_html_a6044b60220b8029a6a505e5b61f1cadc"><div class="ttname"><a href="structEnvelope.html#a6044b60220b8029a6a505e5b61f1cadc">Envelope::mail_followup_to</a></div><div class="ttdeci">struct AddressList mail_followup_to</div><div class="ttdoc">Email&amp;#39;s &amp;#39;mail-followup-to&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="envelope_8h_source.html#l00063">envelope.h:63</a></div></div>
<div class="ttc" id="structEmail_html_a57ad6ac618c0f685804f6f5bb390b3a6"><div class="ttname"><a href="structEmail.html#a57ad6ac618c0f685804f6f5bb390b3a6">Email::body</a></div><div class="ttdeci">struct Body * body</div><div class="ttdoc">List of MIME parts. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00091">email.h:91</a></div></div>
<div class="ttc" id="state_8h_html_a5380aee741459ab7d39708695b18711f"><div class="ttname"><a href="state_8h.html#a5380aee741459ab7d39708695b18711f">MUTT_CHARCONV</a></div><div class="ttdeci">#define MUTT_CHARCONV</div><div class="ttdoc">Do character set conversions. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00036">state.h:36</a></div></div>
<div class="ttc" id="logging_8h_html_ae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="logging_8h.html#ae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00083">logging.h:83</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_aacaa4abd4c0696e260b7a0f1d466360a"><div class="ttname"><a href="ncrypt_2lib_8h.html#aacaa4abd4c0696e260b7a0f1d466360a">SEC_ENCRYPT</a></div><div class="ttdeci">#define SEC_ENCRYPT</div><div class="ttdoc">Email is encrypted. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00075">lib.h:75</a></div></div>
<div class="ttc" id="pool_8c_html_a08b48e2ac8849341888ee7429cc5093c"><div class="ttname"><a href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a></div><div class="ttdeci">void mutt_buffer_pool_release(struct Buffer **pbuf)</div><div class="ttdoc">Free a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00112">pool.c:112</a></div></div>
<div class="ttc" id="structBody_html_a2f795dc4337b500fbf2ae6682dc5360b"><div class="ttname"><a href="structBody.html#a2f795dc4337b500fbf2ae6682dc5360b">Body::noconv</a></div><div class="ttdeci">bool noconv</div><div class="ttdoc">Don&amp;#39;t do character set conversion. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00073">body.h:73</a></div></div>
<div class="ttc" id="crypt_8c_html_a4073ce5b5fcec6e245dbfa9369016b8e"><div class="ttname"><a href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a></div><div class="ttdeci">SecurityFlags mutt_is_application_smime(struct Body *b)</div><div class="ttdoc">Does the message use S/MIME? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00623">crypt.c:623</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a4c2560f787bd1226b977992c16860c98"><div class="ttname"><a href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00370">string.c:370</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="structBody_html_ac55cdfce46eed13151dcfe9b329d254c"><div class="ttname"><a href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">Body::next</a></div><div class="ttdeci">struct Body * next</div><div class="ttdoc">next attachment in the list </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00053">body.h:53</a></div></div>
<div class="ttc" id="structState_html_a88fc722d3012ebf69d3a061cbf6bc296"><div class="ttname"><a href="structState.html#a88fc722d3012ebf69d3a061cbf6bc296">State::fp_out</a></div><div class="ttdeci">FILE * fp_out</div><div class="ttdoc">File to write to. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00047">state.h:47</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a2073a168ca3a64c3c30d13fa4917a05d"><div class="ttname"><a href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a></div><div class="ttdeci">uint16_t SecurityFlags</div><div class="ttdoc">Flags, e.g. SEC_ENCRYPT. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00071">lib.h:71</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structState_html_a9cf7e1f0c5c12399def5ca38b13054ae"><div class="ttname"><a href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">State::fp_in</a></div><div class="ttdeci">FILE * fp_in</div><div class="ttdoc">File to read from. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00046">state.h:46</a></div></div>
<div class="ttc" id="structBody_html"><div class="ttname"><a href="structBody.html">Body</a></div><div class="ttdoc">The body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00034">body.h:34</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a074f827472ad45f11ec1132cdfed2daf"><div class="ttname"><a href="ncrypt_2lib_8h.html#a074f827472ad45f11ec1132cdfed2daf">SEC_INLINE</a></div><div class="ttdeci">#define SEC_INLINE</div><div class="ttdoc">Email has an inline signature. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00082">lib.h:82</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="structState_html_a5d855f7d518fde2ac4e8e409cbb24ad3"><div class="ttname"><a href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">State::flags</a></div><div class="ttdeci">StateFlags flags</div><div class="ttdoc">Flags, e.g. MUTT_DISPLAY. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00049">state.h:49</a></div></div>
<div class="ttc" id="mx_8c_html_a2172d90c08b5a2b293d22ed13ee0e7a8"><div class="ttname"><a href="mx_8c.html#a2172d90c08b5a2b293d22ed13ee0e7a8">mx_msg_close</a></div><div class="ttdeci">int mx_msg_close(struct Mailbox *m, struct Message **msg)</div><div class="ttdoc">Close a message. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01186">mx.c:1186</a></div></div>
<div class="ttc" id="crypt_8c_html_a4ee7f1419a7e39b0e9f1f9d550f4de43"><div class="ttname"><a href="crypt_8c.html#a4ee7f1419a7e39b0e9f1f9d550f4de43">crypt_valid_passphrase</a></div><div class="ttdeci">bool crypt_valid_passphrase(SecurityFlags flags)</div><div class="ttdoc">Check that we have a usable passphrase, ask if not. </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00135">crypt.c:135</a></div></div>
<div class="ttc" id="structEnvelope_html_a50418c13a849bf27b22922bd5867e5e1"><div class="ttname"><a href="structEnvelope.html#a50418c13a849bf27b22922bd5867e5e1">Envelope::message_id</a></div><div class="ttdeci">char * message_id</div><div class="ttdoc">Message ID. </div><div class="ttdef"><b>Definition:</b> <a href="envelope_8h_source.html#l00069">envelope.h:69</a></div></div>
<div class="ttc" id="crypt_8c_html_a832e4b9f5a0e463876a3d8cfe852f12d"><div class="ttname"><a href="crypt_8c.html#a832e4b9f5a0e463876a3d8cfe852f12d">mutt_is_multipart_encrypted</a></div><div class="ttdeci">SecurityFlags mutt_is_multipart_encrypted(struct Body *b)</div><div class="ttdoc">Does the message have encrypted parts? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00460">crypt.c:460</a></div></div>
<div class="ttc" id="file_8c_html_a31f49795ff5b9558db5476e5777e63b6"><div class="ttname"><a href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a></div><div class="ttdeci">int mutt_file_fclose(FILE **fp)</div><div class="ttdoc">Close a FILE handle (and NULL the pointer) </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00153">file.c:153</a></div></div>
<div class="ttc" id="structEmail_html_a34cc4493729d7a3b1f4ed783e739a9ec"><div class="ttname"><a href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">Email::env</a></div><div class="ttdeci">struct Envelope * env</div><div class="ttdoc">Envelope information. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00090">email.h:90</a></div></div>
<div class="ttc" id="crypt_8c_html_a345fb1ff241b3fc778632947c2b08d37"><div class="ttname"><a href="crypt_8c.html#a345fb1ff241b3fc778632947c2b08d37">mutt_is_multipart_signed</a></div><div class="ttdeci">SecurityFlags mutt_is_multipart_signed(struct Body *b)</div><div class="ttdoc">Is a message signed? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00420">crypt.c:420</a></div></div>
<div class="ttc" id="rfc3676_8c_html_a47bfc67ef302e9b51cee14c713a70f35"><div class="ttname"><a href="rfc3676_8c.html#a47bfc67ef302e9b51cee14c713a70f35">mutt_rfc3676_space_unstuff</a></div><div class="ttdeci">void mutt_rfc3676_space_unstuff(struct Email *e)</div><div class="ttdoc">Remove RFC3676 space stuffing. </div><div class="ttdef"><b>Definition:</b> <a href="rfc3676_8c_source.html#l00496">rfc3676.c:496</a></div></div>
<div class="ttc" id="mutt__logging_8c_html_af068b3f524a31fad293b2fb61dfc4534"><div class="ttname"><a href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a></div><div class="ttdeci">void mutt_clear_error(void)</div><div class="ttdoc">Clear the message line (bottom line of screen) </div><div class="ttdef"><b>Definition:</b> <a href="mutt__logging_8c_source.html#l00112">mutt_logging.c:112</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a29db81d6f5a7dd216cbea75ecf8a5885"><div class="ttname"><a href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a></div><div class="ttdeci">bool mutt_istr_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings, ignoring case. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00916">string.c:916</a></div></div>
<div class="ttc" id="structBody_html_ace00f9cba9b46a2d434764335d2fa43a"><div class="ttname"><a href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">Body::subtype</a></div><div class="ttdeci">char * subtype</div><div class="ttdoc">content-type subtype </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00037">body.h:37</a></div></div>
<div class="ttc" id="parameter_8c_html_a34454ee6af9d43eeabf80898dc7270b8"><div class="ttname"><a href="parameter_8c.html#a34454ee6af9d43eeabf80898dc7270b8">mutt_param_delete</a></div><div class="ttdeci">void mutt_param_delete(struct ParameterList *pl, const char *attribute)</div><div class="ttdoc">Delete a matching Parameter. </div><div class="ttdef"><b>Definition:</b> <a href="parameter_8c_source.html#l00142">parameter.c:142</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a798dfac1e8839ca89375b4ec62b3eff2"><div class="ttname"><a href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a></div><div class="ttdeci">#define APPLICATION_SMIME</div><div class="ttdoc">Use SMIME to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00088">lib.h:88</a></div></div>
<div class="ttc" id="multipart_8c_html_a71d5ccd20fbbbe2fa56e6d1f577e34ae"><div class="ttname"><a href="multipart_8c.html#a71d5ccd20fbbbe2fa56e6d1f577e34ae">mutt_remove_multipart</a></div><div class="ttdeci">struct Body * mutt_remove_multipart(struct Body *b)</div><div class="ttdoc">Extract the multipart body if it exists. </div><div class="ttdef"><b>Definition:</b> <a href="multipart_8c_source.html#l00126">multipart.c:126</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a587e679a4c9cc44f11f0c467bb22b0af"><div class="ttname"><a href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a></div><div class="ttdeci">#define APPLICATION_PGP</div><div class="ttdoc">Use PGP to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="structMessage_html"><div class="ttname"><a href="structMessage.html">Message</a></div><div class="ttdoc">A local copy of an email. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00041">mxapi.h:41</a></div></div>
<div class="ttc" id="structBody_html_a6f92d7ec8568ca04ae07931c56dd0790"><div class="ttname"><a href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">Body::length</a></div><div class="ttdeci">LOFF_T length</div><div class="ttdoc">length (in bytes) of attachment </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00045">body.h:45</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a></div><div class="ttdoc">Type: &amp;#39;text/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00038">mime.h:38</a></div></div>
<div class="ttc" id="cryptglue_8c_html_a3f60f47f4d4dee7f43f502b7244af35f"><div class="ttname"><a href="cryptglue_8c.html#a3f60f47f4d4dee7f43f502b7244af35f">crypt_smime_getkeys</a></div><div class="ttdeci">void crypt_smime_getkeys(struct Envelope *env)</div><div class="ttdoc">Wrapper for CryptModuleSpecs::smime_getkeys() </div><div class="ttdef"><b>Definition:</b> <a href="cryptglue_8c_source.html#l00463">cryptglue.c:463</a></div></div>
<div class="ttc" id="structBody_html_a0b87b7bdb6faef44d9aac4854975f805"><div class="ttname"><a href="structBody.html#a0b87b7bdb6faef44d9aac4854975f805">Body::parts</a></div><div class="ttdeci">struct Body * parts</div><div class="ttdoc">parts of a multipart or message/rfc822 </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00054">body.h:54</a></div></div>
<div class="ttc" id="email_2body_8c_html_a129af1c316fcbc26b55fb48957bab2cb"><div class="ttname"><a href="email_2body_8c.html#a129af1c316fcbc26b55fb48957bab2cb">mutt_body_free</a></div><div class="ttdeci">void mutt_body_free(struct Body **ptr)</div><div class="ttdoc">Free a Body. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8c_source.html#l00057">body.c:57</a></div></div>
<div class="ttc" id="structEmail_html_a570a81cd747437c9ea4357947731ae10"><div class="ttname"><a href="structEmail.html#a570a81cd747437c9ea4357947731ae10">Email::security</a></div><div class="ttdeci">SecurityFlags security</div><div class="ttdoc">bit 0-10: flags, bit 11,12: application, bit 13: traditional pgp See: ncrypt/lib.h pgplib...</div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00039">email.h:39</a></div></div>
<div class="ttc" id="buffer_8c_html_a4bcc481586ae3af02645b4e23e48e0d7"><div class="ttname"><a href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a></div><div class="ttdeci">size_t mutt_buffer_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00312">buffer.c:312</a></div></div>
<div class="ttc" id="structBody_html_af77d79aadb278bef8f2829c268f2486f"><div class="ttname"><a href="structBody.html#af77d79aadb278bef8f2829c268f2486f">Body::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdoc">content-type primary type, ContentType </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00065">body.h:65</a></div></div>
<div class="ttc" id="structEmail_html_a8d35ff6f232f83e89e2d46af416708cc"><div class="ttname"><a href="structEmail.html#a8d35ff6f232f83e89e2d46af416708cc">Email::offset</a></div><div class="ttdeci">LOFF_T offset</div><div class="ttdoc">Where in the stream does this message begin? </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00084">email.h:84</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ae12c003463c99d28f65f1d6b8b053b2c"><div class="ttname"><a href="ncrypt_2lib_8h.html#ae12c003463c99d28f65f1d6b8b053b2c">SEC_SIGN</a></div><div class="ttdeci">#define SEC_SIGN</div><div class="ttdoc">Email is signed. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00076">lib.h:76</a></div></div>
<div class="ttc" id="parse_8c_html_a0b38ac4f44b3414d0e18d26324861369"><div class="ttname"><a href="parse_8c.html#a0b38ac4f44b3414d0e18d26324861369">mutt_parse_part</a></div><div class="ttdeci">void mutt_parse_part(FILE *fp, struct Body *b)</div><div class="ttdoc">Parse a MIME part. </div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l01678">parse.c:1678</a></div></div>
<div class="ttc" id="cryptglue_8c_html_aa8e21077ffe83ed3b10dc22acdd6c2e2"><div class="ttname"><a href="cryptglue_8c.html#aa8e21077ffe83ed3b10dc22acdd6c2e2">crypt_pgp_decrypt_mime</a></div><div class="ttdeci">int crypt_pgp_decrypt_mime(FILE *fp_in, FILE **fp_out, struct Body *b, struct Body **cur)</div><div class="ttdoc">Wrapper for CryptModuleSpecs::decrypt_mime() </div><div class="ttdef"><b>Definition:</b> <a href="cryptglue_8c_source.html#l00212">cryptglue.c:212</a></div></div>
<div class="ttc" id="structEnvelope_html_aa3d22c82ed26a0727508d26363e98ea7"><div class="ttname"><a href="structEnvelope.html#aa3d22c82ed26a0727508d26363e98ea7">Envelope::subject</a></div><div class="ttdeci">char * subject</div><div class="ttdoc">Email&amp;#39;s subject. </div><div class="ttdef"><b>Definition:</b> <a href="envelope_8h_source.html#l00066">envelope.h:66</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a></div><div class="ttdoc">Type: &amp;#39;multipart/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00037">mime.h:37</a></div></div>
<div class="ttc" id="structBody_html_a86721d1d557276cbc9cf69777af8c305"><div class="ttname"><a href="structBody.html#a86721d1d557276cbc9cf69777af8c305">Body::use_disp</a></div><div class="ttdeci">bool use_disp</div><div class="ttdoc">Content-Disposition uses filename= ? </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00068">body.h:68</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ae9b6bbaa52b6ce51f2a384fe500e028e"><div class="ttname"><a href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a></div><div class="ttdeci">char * mutt_str_replace(char **p, const char *s)</div><div class="ttdoc">Replace one string with another. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00446">string.c:446</a></div></div>
<div class="ttc" id="logging_8h_html_acc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00084">logging.h:84</a></div></div>
<div class="ttc" id="crypt_8c_html_a159d0d34a10b662acb2cc80099e5ecc7"><div class="ttname"><a href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a></div><div class="ttdeci">SecurityFlags mutt_is_application_pgp(struct Body *b)</div><div class="ttdoc">Does the message use PGP? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00565">crypt.c:565</a></div></div>
<div class="ttc" id="structBody_html_a47191eabf16d34d0deb412c898ed629b"><div class="ttname"><a href="structBody.html#a47191eabf16d34d0deb412c898ed629b">Body::unlink</a></div><div class="ttdeci">bool unlink</div><div class="ttdoc">If true, filename should be unlink()ed before free()ing this structure. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00069">body.h:69</a></div></div>
<div class="ttc" id="structMessage_html_a11d53ee4319e8735c1677d8780a7b517"><div class="ttname"><a href="structMessage.html#a11d53ee4319e8735c1677d8780a7b517">Message::fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdoc">pointer to the message data </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00043">mxapi.h:43</a></div></div>
<div class="ttc" id="muttlib_8c_html_acf3a46e57ab84223b270c763ccb166ca"><div class="ttname"><a href="muttlib_8c.html#acf3a46e57ab84223b270c763ccb166ca">mutt_adv_mktemp</a></div><div class="ttdeci">void mutt_adv_mktemp(struct Buffer *buf)</div><div class="ttdoc">Create a temporary file. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00083">muttlib.c:83</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="parameter_8c_html_a0c6d54a87e015a496c8dbecfcd4002c9"><div class="ttname"><a href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a></div><div class="ttdeci">char * mutt_param_get(const struct ParameterList *pl, const char *s)</div><div class="ttdoc">Find a matching Parameter. </div><div class="ttdef"><b>Definition:</b> <a href="parameter_8c_source.html#l00084">parameter.c:84</a></div></div>
<div class="ttc" id="structState_html"><div class="ttname"><a href="structState.html">State</a></div><div class="ttdoc">Keep track when processing files. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00044">state.h:44</a></div></div>
<div class="ttc" id="handler_8c_html_adae8bf0eec9bee0bd62f639bbcf8599f"><div class="ttname"><a href="handler_8c.html#adae8bf0eec9bee0bd62f639bbcf8599f">mutt_body_handler</a></div><div class="ttdeci">int mutt_body_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Handler for the Body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01604">handler.c:1604</a></div></div>
<div class="ttc" id="structBody_html_a0a77f105609a64f37c359b9c81d1f263"><div class="ttname"><a href="structBody.html#a0a77f105609a64f37c359b9c81d1f263">Body::d_filename</a></div><div class="ttdeci">char * d_filename</div><div class="ttdoc">filename to be used for the content-disposition header. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00047">body.h:47</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="file_8c_html_ae1c0c19fec03274220b3ca065ad1e2e5"><div class="ttname"><a href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a></div><div class="ttdeci">FILE * mutt_file_fopen(const char *path, const char *mode)</div><div class="ttdoc">Call fopen() safely. </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00589">file.c:589</a></div></div>
<div class="ttc" id="parse_8c_html_a32cd9ed48d31f100bd8525018e1450da"><div class="ttname"><a href="parse_8c.html#a32cd9ed48d31f100bd8525018e1450da">mutt_rfc822_read_header</a></div><div class="ttdeci">struct Envelope * mutt_rfc822_read_header(FILE *fp, struct Email *e, bool user_hdrs, bool weed)</div><div class="ttdoc">parses an RFC822 header </div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l01124">parse.c:1124</a></div></div>
<div class="ttc" id="structBody_html_a782cee95e0064e3895b88248bdfc781a"><div class="ttname"><a href="structBody.html#a782cee95e0064e3895b88248bdfc781a">Body::parameter</a></div><div class="ttdeci">struct ParameterList parameter</div><div class="ttdoc">parameters of the content-type </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00039">body.h:39</a></div></div>
<div class="ttc" id="structBody_html_a8e10ba22522218bd12bd3cb38dd3fcc9"><div class="ttname"><a href="structBody.html#a8e10ba22522218bd12bd3cb38dd3fcc9">Body::email</a></div><div class="ttdeci">struct Email * email</div><div class="ttdoc">header information for message/rfc822 </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00055">body.h:55</a></div></div>
<div class="ttc" id="mx_8c_html_a7df2f9d4d83ce9fca2cf48e08f8a4bc0"><div class="ttname"><a href="mx_8c.html#a7df2f9d4d83ce9fca2cf48e08f8a4bc0">mx_msg_open</a></div><div class="ttdeci">struct Message * mx_msg_open(struct Mailbox *m, int msgno)</div><div class="ttdoc">return a stream pointer for a message </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01140">mx.c:1140</a></div></div>
<div class="ttc" id="structEnvelope_html"><div class="ttname"><a href="structEnvelope.html">Envelope</a></div><div class="ttdoc">The header of an Email. </div><div class="ttdef"><b>Definition:</b> <a href="envelope_8h_source.html#l00054">envelope.h:54</a></div></div>
<div class="ttc" id="structEmail_html_abd3d551204f4ea232a304c1c4c4c149d"><div class="ttname"><a href="structEmail.html#abd3d551204f4ea232a304c1c4c4c149d">Email::msgno</a></div><div class="ttdeci">int msgno</div><div class="ttdoc">Number displayed to the user. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00087">email.h:87</a></div></div>
</div><!-- fragment --><div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aad14aaca518d6c005ec318f14114d5ec_cgraph.svg" width="1054" height="1726"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aad14aaca518d6c005ec318f14114d5ec_icgraph.svg" width="406" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ae45373a28b592394bdea7a2a4d9f0a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae45373a28b592394bdea7a2a4d9f0a5f">&#9670;&nbsp;</a></span>mutt_enter_string_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_enter_string_full </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mutt_8h.html#aa551207529ef0be5a655fa2f471f070b">CompletionFlags</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>multiple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char ***&#160;</td>
          <td class="paramname"><em>files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>numfiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEnterState.html">EnterState</a> *&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask the user for a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer. ">Buffer</a> to store the string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buflen</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer. ">Buffer</a> length </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">col</td><td>Initial cursor position </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Flags, see <a class="el" href="mutt_8h.html#aa551207529ef0be5a655fa2f471f070b" title="Flags for mutt_enter_string_full(), e.g. MUTT_ALIAS. ">CompletionFlags</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">multiple</td><td>Allow multiple matches </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">files</td><td>List of files selected </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">numfiles</td><td>Number of files selected </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">state</td><td>Current state (if function is called repeatedly) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Redraw the screen and call the function again </td></tr>
    <tr><td class="paramname">0</td><td>Selection made </td></tr>
    <tr><td class="paramname">-1</td><td>Aborted </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="enter_8c_source.html#l00150">150</a> of file <a class="el" href="enter_8c_source.html">enter.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMuttWindow.html">MuttWindow</a> *win = <a class="code" href="msgwin_8c.html#aa22c662a1a837c50b33c1fd80c5c79ff">msgwin_get_window</a>();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keywordflow">if</span> (!win)</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordtype">int</span> width = win-&gt;<a class="code" href="structMuttWindow.html#a406b976fc50b1cb5beca6c85e7a3be7f">state</a>.<a class="code" href="structWindowState.html#a557cf2197f9df8fe60f6e1dbfd49ec43">cols</a> - col - 1;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keyword">enum</span> <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621fee">EnterRedrawFlags</a> redraw = <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feea2627f26f2a9d54f09f865827f0d191fb">ENTER_REDRAW_NONE</a>;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordtype">bool</span> pass = (flags &amp; <a class="code" href="mutt_8h.html#ad9d33c1486f2c5eae54348cfc8b7dc33">MUTT_PASS</a>);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">int</span> ch;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordtype">wchar_t</span> *tempbuf = NULL;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">size_t</span> templen = 0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keyword">enum</span> <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234">HistoryClass</a> hclass;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordtype">int</span> rc = 0;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  mbstate_t mbstate;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  memset(&amp;mbstate, 0, <span class="keyword">sizeof</span>(mbstate));</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>)</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">/* Coming back after return 1 */</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    redraw = <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeab0fad473043bf721bdd8abe50fffa206">ENTER_REDRAW_LINE</a>;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    first = <span class="keyword">false</span>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">/* Initialise wbuf from buf */</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    state-&gt;<a class="code" href="structEnterState.html#a5d9c1199297f13de8875dbf00d4fb5f6">wbuflen</a> = 0;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> = <a class="code" href="mbyte_8c.html#a8c94bd5ff6c53cfe02ed45f2e7955117">mutt_mb_mbstowcs</a>(&amp;state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, &amp;state-&gt;<a class="code" href="structEnterState.html#a5d9c1199297f13de8875dbf00d4fb5f6">wbuflen</a>, 0, buf);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    redraw = <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeac52834ac18755756b58bc3ec86b6ba73">ENTER_REDRAW_INIT</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#af03a3b6aab3f2f7caf8945357ebd6419">MUTT_FILE</a>)</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    hclass = <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a313ffe25b1e9a86bb1f9afb44e15925c">HC_FILE</a>;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#a65174d91b7b1a8b876db12f0de6829e2">MUTT_EFILE</a>)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    hclass = <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a268178c32488395d8afeac98117a88ee">HC_MBOX</a>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#ab9eedd4dd04bc51834fcc292753a57bf">MUTT_CMD</a>)</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    hclass = <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234aff1655e936d39511e2576e9eebd7aba3">HC_CMD</a>;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#aa576482dcb86d7d547476221029b176a">MUTT_ALIAS</a>)</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    hclass = <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a7087d625c6e65aa739171b10a68907c5">HC_ALIAS</a>;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#aba240267eaeba0db19194cb25be07dc4">MUTT_COMMAND</a>)</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    hclass = <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a3cda685722d8561b4d28aa4fad865007">HC_COMMAND</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#a188e749e346470b3fe95a9b81b499867">MUTT_PATTERN</a>)</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    hclass = <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234aede85bc3dcca6122e349576277dcef4b">HC_PATTERN</a>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    hclass = <a class="code" href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234aee9379d265cad600929abe5cc271019a">HC_OTHER</a>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordflow">if</span> (!pass)</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    {</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <span class="keywordflow">if</span> (redraw == <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeac52834ac18755756b58bc3ec86b6ba73">ENTER_REDRAW_INIT</a>)</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="comment">/* Go to end of line */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a> = <a class="code" href="mbyte_8c.html#a6b9ecc962be914e12b3f35ef88dff1ad">mutt_mb_width_ceiling</a>(</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>,</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="mbyte_8c.html#ac1cd90aaff468feb7e744aaee372ac57">mutt_mb_wcswidth</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) - width + 1);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;      <span class="keywordflow">if</span> ((state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &lt; state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a>) ||</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          (<a class="code" href="mbyte_8c.html#ac1cd90aaff468feb7e744aaee372ac57">mutt_mb_wcswidth</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a>) &gt;= width))</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      {</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a> = <a class="code" href="mbyte_8c.html#a6b9ecc962be914e12b3f35ef88dff1ad">mutt_mb_width_ceiling</a>(</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>,</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="mbyte_8c.html#ac1cd90aaff468feb7e744aaee372ac57">mutt_mb_wcswidth</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>) - (width / 2));</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      }</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="mutt__window_8c.html#a882e79c6c69caad2eb7588c1f542767b">mutt_window_move</a>(win, col, 0);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="keywordtype">int</span> w = 0;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a>; i &lt; state-&gt;lastchar; i++)</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      {</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        w += <a class="code" href="mbyte_8c.html#aecb9fe7c3a2b5e90b0aa4396c32e5a64">mutt_mb_wcwidth</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i]);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span> (w &gt; width)</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <a class="code" href="enter_8c.html#a84ec6c7d17a7bfe2b334d144a554bf54">my_addwch</a>(win, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i]);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      }</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      <a class="code" href="mutt__window_8c.html#ae2ba61d0bc2413c09e6a12f1fe345ab4">mutt_window_clrtoeol</a>(win);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      <a class="code" href="mutt__window_8c.html#a882e79c6c69caad2eb7588c1f542767b">mutt_window_move</a>(win,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                       col + <a class="code" href="mbyte_8c.html#ac1cd90aaff468feb7e744aaee372ac57">mutt_mb_wcswidth</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a>,</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - state-&gt;<a class="code" href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">begin</a>),</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                       0);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="curs__lib_8c.html#a99dc8e687f3d5688695d0d7a1bab3c3f">mutt_refresh</a>();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    ch = <a class="code" href="keymap_8c.html#a5e8e32677bf6b21a23e4cf970b41e461">km_dokey</a>(<a class="code" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a>);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (ch &lt; 0)</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      rc = (<a class="code" href="mutt__globals_8h.html#a1866b139ff0c11ff05f20cca458a1c06">SigWinch</a> &amp;&amp; (ch == -2)) ? 1 : -1;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;      <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    }</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">if</span> (ch != OP_NULL)</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    {</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      first = <span class="keyword">false</span>;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="keywordflow">if</span> ((ch != OP_EDITOR_COMPLETE) &amp;&amp; (ch != OP_EDITOR_COMPLETE_QUERY))</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a> = 0;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      redraw = <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeab0fad473043bf721bdd8abe50fffa206">ENTER_REDRAW_LINE</a>;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      <span class="keywordflow">switch</span> (ch)</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      {</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_HISTORY_UP:</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="history_8c.html#a493d2064e68bab2fe5cee4b4769c2d49">mutt_hist_at_scratch</a>(hclass))</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          {</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="history_8c.html#a2d26cab55cd51b83f6e2a45a8ce44799">mutt_hist_save_scratch</a>(hclass, buf);</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;          }</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;          <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, 0, <a class="code" href="history_8c.html#a9c81cb82877d80de3874bc359c473d12">mutt_hist_prev</a>(hclass));</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;          redraw = <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeac52834ac18755756b58bc3ec86b6ba73">ENTER_REDRAW_INIT</a>;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_HISTORY_DOWN:</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="history_8c.html#a493d2064e68bab2fe5cee4b4769c2d49">mutt_hist_at_scratch</a>(hclass))</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;          {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            <a class="code" href="history_8c.html#a2d26cab55cd51b83f6e2a45a8ce44799">mutt_hist_save_scratch</a>(hclass, buf);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;          <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, 0, <a class="code" href="history_8c.html#a3bd0e4a7ce28aae28736c86f577968b9">mutt_hist_next</a>(hclass));</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;          redraw = <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeac52834ac18755756b58bc3ec86b6ba73">ENTER_REDRAW_INIT</a>;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_HISTORY_SEARCH:</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;          <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          <a class="code" href="mutt__history_8c.html#a9115fdadb99ef83565f9e4d5e436d3be">mutt_hist_complete</a>(buf, buflen, hclass);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;          <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, 0, buf);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;          rc = 1;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;          <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_BACKSPACE:</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == 0)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="comment">// Pressing backspace when no text is in the command prompt should exit the prompt</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> c_abort_backspace =</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;abort_backspace&quot;</span>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">if</span> (c_abort_backspace &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> == 0))</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;              <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="comment">// Pressing backspace with text in the command prompt should just beep</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;          {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            <span class="keywordtype">size_t</span> i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">while</span> ((i &gt; 0) &amp;&amp; <a class="code" href="enter_8c.html#a66372184a12fcfde34405660417b61b7">COMB_CHAR</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1]))</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;              i--;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">if</span> (i &gt; 0)</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;              i--;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            memmove(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>,</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>) * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> -= state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - i;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = i;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;          }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_BOL:</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = 0;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_EOL:</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;          redraw = <a class="code" href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeac52834ac18755756b58bc3ec86b6ba73">ENTER_REDRAW_INIT</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_KILL_LINE:</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = 0;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> = 0;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_KILL_EOL:</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_BACKWARD_CHAR:</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == 0)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          {</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <span class="keywordflow">while</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &amp;&amp; <a class="code" href="enter_8c.html#a66372184a12fcfde34405660417b61b7">COMB_CHAR</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - 1]))</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>--;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>--;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          }</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_FORWARD_CHAR:</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;          {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">while</span> ((state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                   <a class="code" href="enter_8c.html#a66372184a12fcfde34405660417b61b7">COMB_CHAR</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]))</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            }</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_BACKWARD_WORD:</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == 0)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;          {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordflow">while</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &amp;&amp; iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - 1]))</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>--;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="keywordflow">while</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &amp;&amp; !iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - 1]))</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>--;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;          }</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_FORWARD_WORD:</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>)</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;          {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keywordflow">while</span> ((state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                   iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]))</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            }</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            <span class="keywordflow">while</span> ((state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                   !iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]))</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;            {</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            }</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;          }</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_CAPITALIZE_WORD:</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_UPCASE_WORD:</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_DOWNCASE_WORD:</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>)</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;          {</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;          }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;          <span class="keywordflow">while</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &amp;&amp; !iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]))</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>--;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          <span class="keywordflow">while</span> ((state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp; iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]))</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;          <span class="keywordflow">while</span> ((state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                 !iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]))</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;            <span class="keywordflow">if</span> (ch == OP_EDITOR_DOWNCASE_WORD)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>] = towlower(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]);</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>] = towupper(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>]);</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;              <span class="keywordflow">if</span> (ch == OP_EDITOR_CAPITALIZE_WORD)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                ch = OP_EDITOR_DOWNCASE_WORD;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;            }</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          }</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_DELETE_CHAR:</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>)</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;          {</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;            <span class="keywordtype">size_t</span> i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;            <span class="keywordflow">while</span> ((i &lt; state-&gt;lastchar) &amp;&amp; <a class="code" href="enter_8c.html#a66372184a12fcfde34405660417b61b7">COMB_CHAR</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i]))</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;              i++;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;            <span class="keywordflow">if</span> (i &lt; state-&gt;lastchar)</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;              i++;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;            <span class="keywordflow">while</span> ((i &lt; state-&gt;lastchar) &amp;&amp; <a class="code" href="enter_8c.html#a66372184a12fcfde34405660417b61b7">COMB_CHAR</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i]))</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;              i++;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;            memmove(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i,</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - i) * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> -= i - state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;          }</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_KILL_WORD:</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;          <span class="comment">/* delete to beginning of word */</span></div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> != 0)</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;            <span class="keywordtype">size_t</span> i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;            <span class="keywordflow">while</span> (i &amp;&amp; iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1]))</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;              i--;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;            <span class="keywordflow">if</span> (i &gt; 0)</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            {</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;              <span class="keywordflow">if</span> (iswalnum(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1]))</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;              {</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                <span class="keywordflow">for</span> (--i; (i &gt; 0) &amp;&amp; iswalnum(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1]); i--)</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                  ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;              }</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;              <span class="keywordflow">else</span></div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                i--;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;            }</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            memmove(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>,</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;                    (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>) * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> += i - state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = i;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_KILL_EOW:</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          <span class="comment">/* delete to end of word */</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          <span class="comment">/* first skip over whitespace */</span></div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;          <span class="keywordflow">for</span> (i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>; (i &lt; state-&gt;lastchar) &amp;&amp; iswspace(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i]); i++)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          <span class="comment">/* if there are any characters left.. */</span></div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          <span class="keywordflow">if</span> (i &lt; state-&gt;lastchar)</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          {</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="comment">/* if the current character is alphanumeric.. */</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;            <span class="keywordflow">if</span> (iswalnum(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i]))</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;              <span class="comment">/* skip over the rest of the word consistent of only alphanumerics */</span></div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;              <span class="keywordflow">for</span> (; (i &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp; iswalnum(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i]); i++)</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;            }</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;              <span class="comment">/* skip over one non-alphanumeric character */</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;              i++;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;          }</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          memmove(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i,</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                  (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - i) * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> += state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - i;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_MAILBOX_CYCLE:</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          <span class="keywordflow">if</span> (flags &amp; MUTT_EFILE)</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            first = <span class="keyword">true</span>; <span class="comment">/* clear input if user types a real key later */</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *pool = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <a class="code" href="buffer_8c.html#a958e87c1ae9de976eb76f759dbaaa601">mutt_buffer_addstr</a>(pool, buf);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <a class="code" href="mutt__mailbox_8c.html#a4a77c0185d4129b0a7ab77c30481b9ef">mutt_mailbox_next</a>(m, pool);</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(pool), buflen);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;pool);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> =</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <a class="code" href="mbyte_8c.html#a8c94bd5ff6c53cfe02ed45f2e7955117">mutt_mb_mbstowcs</a>(&amp;state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, &amp;state-&gt;<a class="code" href="structEnterState.html#a5d9c1199297f13de8875dbf00d4fb5f6">wbuflen</a>, 0, buf);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;          }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(flags &amp; MUTT_FILE))</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          {</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            <span class="keywordflow">goto</span> self_insert;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;          }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;          <span class="comment">/* fallthrough */</span></div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_COMPLETE:</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_COMPLETE_QUERY:</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a>++;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;          <span class="keywordflow">if</span> (flags &amp; MUTT_CMD)</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;          {</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            <span class="keywordflow">for</span> (i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                 (i &gt; 0) &amp;&amp; !<a class="code" href="mbyte_8c.html#a277cca96e7362df5105c3d4d225b8421">mutt_mb_is_shell_char</a>(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1]); i--)</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;            {</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;            }</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - i);</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <span class="keywordflow">if</span> (tempbuf &amp;&amp; (templen == (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - i)) &amp;&amp;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;                (memcmp(tempbuf, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - i) * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>)) == 0))</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            {</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;              <a class="code" href="browser_8c.html#a07499fa5cd1c0d96ae185e49b1eb9221">mutt_select_file</a>(buf, buflen, (flags &amp; MUTT_EFILE) ? <a class="code" href="browser_8h.html#a3bdfd6d174ddcbbd6488554080d54889">MUTT_SEL_FOLDER</a> : <a class="code" href="browser_8h.html#aef17206dea5302001a39f3c633e731d3">MUTT_SEL_NO_FLAGS</a>,</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                               m, NULL, NULL);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;              <span class="keywordflow">if</span> (buf[0] != <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, i, buf);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;              rc = 1;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;              <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="complete_8c.html#a72b3c85bc14241321c26350fd4a26b37">mutt_complete</a>(buf, buflen) == 0)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;              templen = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - i;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;              <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;tempbuf, templen * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;              <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, i, buf);</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; MUTT_ALIAS) &amp;&amp; (ch == OP_EDITOR_COMPLETE))</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          {</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <span class="comment">/* invoke the alias-menu to get more addresses */</span></div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;            <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            <span class="keywordflow">for</span> (i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                 (i &gt; 0) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] != <span class="charliteral">&#39;,&#39;</span>) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] != <span class="charliteral">&#39;:&#39;</span>); i--)</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;            {</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">for</span> (; (i &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i] == <span class="charliteral">&#39; &#39;</span>); i++)</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;              ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - i);</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            <span class="keywordtype">int</span> rc2 = <a class="code" href="dlgalias_8c.html#ac497f221c91e788faa8c110f70d26aee">alias_complete</a>(buf, buflen, <a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>);</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, i, buf);</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <span class="keywordflow">if</span> (rc2 != 1)</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            {</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;              rc = 1;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;              <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;            }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="mutt_8h.html#a6c3c4777ea55b8c97c5f3bf0a2956d62">MUTT_LABEL</a>) &amp;&amp; (ch == OP_EDITOR_COMPLETE))</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;          {</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">for</span> (i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                 (i &gt; 0) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] != <span class="charliteral">&#39;,&#39;</span>) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] != <span class="charliteral">&#39;:&#39;</span>); i--)</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            {</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            }</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;            <span class="keywordflow">for</span> (; (i &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i] == <span class="charliteral">&#39; &#39;</span>); i++)</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;              ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - i);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            <span class="keywordtype">int</span> rc2 = <a class="code" href="init_8c.html#a5a8b0c83a6dcb7d57edae458041869ad">mutt_label_complete</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, i, buf);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">if</span> (rc2 != 1)</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;            {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;              rc = 1;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;              <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;          }</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; MUTT_PATTERN) &amp;&amp; (ch == OP_EDITOR_COMPLETE))</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;          {</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordtype">size_t</span> i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            <span class="keywordflow">if</span> (i &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] == <span class="charliteral">&#39;~&#39;</span>))</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;            {</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;              <span class="keywordflow">if</span> (<a class="code" href="dlgpattern_8c.html#a0a33d91a2e7d8c02e922003ea3d155f5">dlg_select_pattern</a>(buf, buflen))</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, i - 1, buf);</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;              rc = 1;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;              <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            }</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">for</span> (; (i &gt; 0) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] != <span class="charliteral">&#39;~&#39;</span>); i--)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;              ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">if</span> ((i &gt; 0) &amp;&amp; (i &lt; state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] == <span class="charliteral">&#39;~&#39;</span>) &amp;&amp;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i] == <span class="charliteral">&#39;y&#39;</span>))</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;              i++;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;              <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - i);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;              <span class="keywordtype">int</span> rc2 = <a class="code" href="init_8c.html#a5a8b0c83a6dcb7d57edae458041869ad">mutt_label_complete</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a>);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;              <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, i, buf);</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;              <span class="keywordflow">if</span> (rc2 != 1)</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;              {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                rc = 1;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;              }</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            }</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;              <span class="keywordflow">goto</span> self_insert;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;          }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((flags &amp; MUTT_ALIAS) &amp;&amp; (ch == OP_EDITOR_COMPLETE_QUERY))</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;          {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;            <span class="keywordtype">size_t</span> i = state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            <span class="keywordflow">if</span> (i != 0)</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;              <span class="keywordflow">for</span> (; (i &gt; 0) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i - 1] != <span class="charliteral">&#39;,&#39;</span>); i--)</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;                ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;              <span class="keywordflow">for</span> (; (i &lt; state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>) &amp;&amp; (state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[i] == <span class="charliteral">&#39; &#39;</span>); i++)</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;                ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            }</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + i, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - i);</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <a class="code" href="dlgquery_8c.html#aed95bba2770f684ed0caadf42d924860">query_complete</a>(buf, buflen, <a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, i, buf);</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            rc = 1;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;            <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;          }</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; MUTT_COMMAND)</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;          {</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            <span class="keywordtype">size_t</span> i = strlen(buf);</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;            <span class="keywordflow">if</span> ((i != 0) &amp;&amp; (buf[i - 1] == <span class="charliteral">&#39;=&#39;</span>) &amp;&amp;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                (<a class="code" href="init_8c.html#a173ae67a86a1c7bfc88e98a0edbe514f">mutt_var_value_complete</a>(buf, buflen, i) != 0))</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            {</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a> = 0;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;            }</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="init_8c.html#ad41f1b6fbd5aeeee1bfc56f620ff0f44">mutt_command_complete</a>(buf, buflen, i, state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a>) == 0)</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;              <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, 0, buf);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; (MUTT_FILE | MUTT_EFILE))</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;          {</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;            <span class="comment">/* see if the path has changed from the last time */</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">if</span> ((!tempbuf &amp;&amp; !state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) ||</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                (tempbuf &amp;&amp; (templen == state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>) &amp;&amp;</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                 (memcmp(tempbuf, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>)) == 0)))</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;            {</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;              <a class="code" href="browser_8c.html#a07499fa5cd1c0d96ae185e49b1eb9221">mutt_select_file</a>(buf, buflen,</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                               ((flags &amp; MUTT_EFILE) ? <a class="code" href="browser_8h.html#a3bdfd6d174ddcbbd6488554080d54889">MUTT_SEL_FOLDER</a> : <a class="code" href="browser_8h.html#aef17206dea5302001a39f3c633e731d3">MUTT_SEL_NO_FLAGS</a>) |</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                                   (multiple ? <a class="code" href="browser_8h.html#a3c8fc96890e5df4412f83fbc2a87cc91">MUTT_SEL_MULTI</a> : MUTT_SEL_NO_FLAGS),</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                               m, files, numfiles);</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;              <span class="keywordflow">if</span> (buf[0] != <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;              {</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                <a class="code" href="dump_8c.html#ab9cf3d06c285c7d21065ef96a32aa6c6">mutt_pretty_mailbox</a>(buf, buflen);</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                <span class="keywordflow">if</span> (!pass)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                  <a class="code" href="history_8c.html#a541c9c8be36706c87b62c896a897f680">mutt_hist_add</a>(hclass, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                rc = 0;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;              }</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;              <span class="comment">/* file selection cancelled */</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;              rc = 1;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;              <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;            }</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="complete_8c.html#a72b3c85bc14241321c26350fd4a26b37">mutt_complete</a>(buf, buflen) == 0)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;            {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;              templen = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;              <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;tempbuf, templen * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;              memcpy(tempbuf, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, templen * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;            }</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;            <span class="keywordflow">else</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;              <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>); <span class="comment">/* let the user know that nothing matched */</span></div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, 0, buf);</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;          }</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;<span class="preprocessor">#ifdef USE_NOTMUCH</span></div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#a340ca49378b322929d0b819365b97f47">MUTT_NM_QUERY</a>)</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;          {</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="keywordtype">size_t</span> len = strlen(buf);</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="init_8c.html#a17d5ac51e166d61b729ebdd66cd25c88">mutt_nm_query_complete</a>(buf, buflen, len, state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a>))</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;              <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, 0, buf);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;          }</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#adfeb5c55938526a79fcedc2e954eba08">MUTT_NM_TAG</a>)</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;          {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;            <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="init_8c.html#a8f739fa0c68ded6e209f2ceccd9bcfdf">mutt_nm_tag_complete</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a>))</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;              <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;            <a class="code" href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a>(state, 0, buf);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;          }</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="keywordflow">goto</span> self_insert;</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_QUOTE_CHAR:</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;          <span class="keyword">struct </span><a class="code" href="structKeyEvent.html">KeyEvent</a> event;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;          <span class="keywordflow">do</span></div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          {</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keyword">event</span> = <a class="code" href="curs__lib_8c.html#a6bde4da049798871747b54bff8d83b4f">mutt_getch</a>();</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;          } <span class="keywordflow">while</span> (event.ch == -2); <span class="comment">// Timeout</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;          <span class="keywordflow">if</span> (event.ch &gt;= 0)</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;          {</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <a class="code" href="keymap_8c.html#a715fabcdc382c085e09d0bd3a8a44419">LastKey</a> = <span class="keyword">event</span>.ch;</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            <span class="keywordflow">goto</span> self_insert;</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;          }</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        }</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">case</span> OP_EDITOR_TRANSPOSE_CHARS:</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;          <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> &lt; 2)</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;          {</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="keywordtype">wchar_t</span> t;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> == 0)</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = 2;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> &lt; state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>)</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;              state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            t = state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - 2];</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - 2] = state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - 1];</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> - 1] = t;</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;          }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">default</span>:</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;          <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;      }</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    }</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    {</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    self_insert:</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      state-&gt;<a class="code" href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">tabs</a> = 0;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="keywordtype">wchar_t</span> wc;</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="comment">/* use the raw keypress */</span></div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      ch = <a class="code" href="keymap_8c.html#a715fabcdc382c085e09d0bd3a8a44419">LastKey</a>;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="comment">/* quietly ignore all other function keys */</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">if</span> (ch &amp; ~0xff)</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="comment">/* gather the octets into a wide character */</span></div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;      {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordtype">char</span> c = <a class="code" href="structKeyEvent.html#acece69c3519a730c7105cdc96af1e105">ch</a>;</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;        <span class="keywordtype">size_t</span> k = mbrtowc(&amp;wc, &amp;c, 1, &amp;mbstate);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        <span class="keywordflow">if</span> (k == (<span class="keywordtype">size_t</span>) (-2))</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((k != 0) &amp;&amp; (k != 1))</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        {</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;          memset(&amp;mbstate, 0, <span class="keyword">sizeof</span>(mbstate));</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        }</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      }</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;      <span class="keywordflow">if</span> (first &amp;&amp; (flags &amp; <a class="code" href="mutt_8h.html#a172560a328e2ed4c8e0e786e9b9d6e17">MUTT_CLEAR</a>))</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      {</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        first = <span class="keyword">false</span>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mbyte_8h.html#ac15ed1bc3e367f33ed66c9d76d16334d">IsWPrint</a>(wc)) <span class="comment">/* why? */</span></div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        {</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> = 0;</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> = 0;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;      }</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;      <span class="keywordflow">if</span> ((wc == <span class="charliteral">&#39;\r&#39;</span>) || (wc == <span class="charliteral">&#39;\n&#39;</span>))</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;      {</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;        <span class="comment">/* Convert from wide characters */</span></div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;        <a class="code" href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a>(buf, buflen, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>);</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <span class="keywordflow">if</span> (!pass)</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;          <a class="code" href="history_8c.html#a541c9c8be36706c87b62c896a897f680">mutt_hist_add</a>(hclass, buf, <span class="keyword">true</span>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        <span class="keywordflow">if</span> (multiple)</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        {</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;          <span class="keywordtype">char</span> **tfiles = NULL;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;          *numfiles = 1;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;          tfiles = <a class="code" href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a>(*numfiles, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span> *));</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;          <a class="code" href="muttlib_8c.html#a483f037de523c624d449b4296a3ddfb2">mutt_expand_path</a>(buf, buflen);</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;          tfiles[0] = <a class="code" href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a>(buf);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;          *files = tfiles;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        }</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        rc = 0;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">goto</span> bye;</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;      }</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (wc &amp;&amp; ((wc &lt; <span class="charliteral">&#39; &#39;</span>) || <a class="code" href="mbyte_8h.html#ac15ed1bc3e367f33ed66c9d76d16334d">IsWPrint</a>(wc))) <span class="comment">/* why? */</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;      {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">if</span> (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> &gt;= state-&gt;<a class="code" href="structEnterState.html#a5d9c1199297f13de8875dbf00d4fb5f6">wbuflen</a>)</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        {</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;          state-&gt;<a class="code" href="structEnterState.html#a5d9c1199297f13de8875dbf00d4fb5f6">wbuflen</a> = state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> + 20;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>, state-&gt;<a class="code" href="structEnterState.html#a5d9c1199297f13de8875dbf00d4fb5f6">wbuflen</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        memmove(state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a> + 1, state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a> + state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>,</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;                (state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a> - state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>) * <span class="keyword">sizeof</span>(<span class="keywordtype">wchar_t</span>));</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        state-&gt;<a class="code" href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">wbuf</a>[state-&gt;<a class="code" href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">curpos</a>++] = wc;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        state-&gt;<a class="code" href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">lastchar</a>++;</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      }</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      {</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <a class="code" href="curs__lib_8c.html#a31e6cf5a50bccf3cb75b6a7f2ecf1405">mutt_flushinp</a>();</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <a class="code" href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      }</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  }</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;bye:</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <a class="code" href="history_8c.html#a6197a536a3da0385551bac50a45d6a7a">mutt_hist_reset_state</a>(hclass);</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;tempbuf);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;}</div><div class="ttc" id="dump_8c_html_ab9cf3d06c285c7d21065ef96a32aa6c6"><div class="ttname"><a href="dump_8c.html#ab9cf3d06c285c7d21065ef96a32aa6c6">mutt_pretty_mailbox</a></div><div class="ttdeci">void mutt_pretty_mailbox(char *buf, size_t buflen)</div><div class="ttdoc">Shorten a mailbox path using &amp;#39;~&amp;#39; or &amp;#39;=&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00526">muttlib.c:526</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234a3cda685722d8561b4d28aa4fad865007"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a3cda685722d8561b4d28aa4fad865007">HC_COMMAND</a></div><div class="ttdoc">NeoMutt commands. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00050">lib.h:50</a></div></div>
<div class="ttc" id="memory_8c_html_a4c1612d209c7825d55e6a014df352f03"><div class="ttname"><a href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a></div><div class="ttdeci">void * mutt_mem_calloc(size_t nmemb, size_t size)</div><div class="ttdoc">Allocate zeroed memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00050">memory.c:50</a></div></div>
<div class="ttc" id="structEnterState_html_a8f8b1e34aea240cc5d59a70643fe7012"><div class="ttname"><a href="structEnterState.html#a8f8b1e34aea240cc5d59a70643fe7012">EnterState::wbuf</a></div><div class="ttdeci">wchar_t * wbuf</div><div class="ttdef"><b>Definition:</b> <a href="enter__state_8h_source.html#l00034">enter_state.h:34</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00071">helpers.c:71</a></div></div>
<div class="ttc" id="mutt_8h_html_a172560a328e2ed4c8e0e786e9b9d6e17"><div class="ttname"><a href="mutt_8h.html#a172560a328e2ed4c8e0e786e9b9d6e17">MUTT_CLEAR</a></div><div class="ttdeci">#define MUTT_CLEAR</div><div class="ttdoc">Clear input if printable character is pressed. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00058">mutt.h:58</a></div></div>
<div class="ttc" id="pool_8c_html_a2129d5ea0085753afdd37cf62161845d"><div class="ttname"><a href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a></div><div class="ttdeci">struct Buffer * mutt_buffer_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00101">pool.c:101</a></div></div>
<div class="ttc" id="history_8c_html_a3bd0e4a7ce28aae28736c86f577968b9"><div class="ttname"><a href="history_8c.html#a3bd0e4a7ce28aae28736c86f577968b9">mutt_hist_next</a></div><div class="ttdeci">char * mutt_hist_next(enum HistoryClass hclass)</div><div class="ttdoc">Get the next string in a History. </div><div class="ttdef"><b>Definition:</b> <a href="history_8c_source.html#l00529">history.c:529</a></div></div>
<div class="ttc" id="mutt_8h_html_aa576482dcb86d7d547476221029b176a"><div class="ttname"><a href="mutt_8h.html#aa576482dcb86d7d547476221029b176a">MUTT_ALIAS</a></div><div class="ttdeci">#define MUTT_ALIAS</div><div class="ttdoc">Do alias &quot;completion&quot; by calling up the alias-menu. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00053">mutt.h:53</a></div></div>
<div class="ttc" id="mbyte_8h_html_ac15ed1bc3e367f33ed66c9d76d16334d"><div class="ttname"><a href="mbyte_8h.html#ac15ed1bc3e367f33ed66c9d76d16334d">IsWPrint</a></div><div class="ttdeci">#define IsWPrint(wc)</div><div class="ttdef"><b>Definition:</b> <a href="mbyte_8h_source.html#l00039">mbyte.h:39</a></div></div>
<div class="ttc" id="mutt__history_8c_html_a9115fdadb99ef83565f9e4d5e436d3be"><div class="ttname"><a href="mutt__history_8c.html#a9115fdadb99ef83565f9e4d5e436d3be">mutt_hist_complete</a></div><div class="ttdeci">void mutt_hist_complete(char *buf, size_t buflen, enum HistoryClass hclass)</div><div class="ttdoc">Complete a string from a history list. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__history_8c_source.html#l00043">mutt_history.c:43</a></div></div>
<div class="ttc" id="init_8c_html_a5a8b0c83a6dcb7d57edae458041869ad"><div class="ttname"><a href="init_8c.html#a5a8b0c83a6dcb7d57edae458041869ad">mutt_label_complete</a></div><div class="ttdeci">int mutt_label_complete(char *buf, size_t buflen, int numtabs)</div><div class="ttdoc">Complete a label name. </div><div class="ttdef"><b>Definition:</b> <a href="init_8c_source.html#l01308">init.c:1308</a></div></div>
<div class="ttc" id="mutt_8h_html_a6c3c4777ea55b8c97c5f3bf0a2956d62"><div class="ttname"><a href="mutt_8h.html#a6c3c4777ea55b8c97c5f3bf0a2956d62">MUTT_LABEL</a></div><div class="ttdeci">#define MUTT_LABEL</div><div class="ttdoc">Do label completion. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00061">mutt.h:61</a></div></div>
<div class="ttc" id="curs__lib_8c_html_a31e6cf5a50bccf3cb75b6a7f2ecf1405"><div class="ttname"><a href="curs__lib_8c.html#a31e6cf5a50bccf3cb75b6a7f2ecf1405">mutt_flushinp</a></div><div class="ttdeci">void mutt_flushinp(void)</div><div class="ttdoc">Empty all the keyboard buffers. </div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00668">curs_lib.c:668</a></div></div>
<div class="ttc" id="mutt__window_8c_html_ae2ba61d0bc2413c09e6a12f1fe345ab4"><div class="ttname"><a href="mutt__window_8c.html#ae2ba61d0bc2413c09e6a12f1fe345ab4">mutt_window_clrtoeol</a></div><div class="ttdeci">void mutt_window_clrtoeol(struct MuttWindow *win)</div><div class="ttdoc">Clear to the end of the line. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8c_source.html#l00259">mutt_window.c:259</a></div></div>
<div class="ttc" id="dlgquery_8c_html_aed95bba2770f684ed0caadf42d924860"><div class="ttname"><a href="dlgquery_8c.html#aed95bba2770f684ed0caadf42d924860">query_complete</a></div><div class="ttdeci">int query_complete(char *buf, size_t buflen, struct ConfigSubset *sub)</div><div class="ttdoc">Perform auto-complete using an Address Query. </div><div class="ttdef"><b>Definition:</b> <a href="dlgquery_8c_source.html#l00698">dlgquery.c:698</a></div></div>
<div class="ttc" id="pool_8c_html_a08b48e2ac8849341888ee7429cc5093c"><div class="ttname"><a href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a></div><div class="ttdeci">void mutt_buffer_pool_release(struct Buffer **pbuf)</div><div class="ttdoc">Free a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00112">pool.c:112</a></div></div>
<div class="ttc" id="history_8c_html_a541c9c8be36706c87b62c896a897f680"><div class="ttname"><a href="history_8c.html#a541c9c8be36706c87b62c896a897f680">mutt_hist_add</a></div><div class="ttdeci">void mutt_hist_add(enum HistoryClass hclass, const char *str, bool save)</div><div class="ttdoc">Add a string to a history. </div><div class="ttdef"><b>Definition:</b> <a href="history_8c_source.html#l00486">history.c:486</a></div></div>
<div class="ttc" id="structEnterState_html_a5d9c1199297f13de8875dbf00d4fb5f6"><div class="ttname"><a href="structEnterState.html#a5d9c1199297f13de8875dbf00d4fb5f6">EnterState::wbuflen</a></div><div class="ttdeci">size_t wbuflen</div><div class="ttdef"><b>Definition:</b> <a href="enter__state_8h_source.html#l00035">enter_state.h:35</a></div></div>
<div class="ttc" id="init_8c_html_a8f739fa0c68ded6e209f2ceccd9bcfdf"><div class="ttname"><a href="init_8c.html#a8f739fa0c68ded6e209f2ceccd9bcfdf">mutt_nm_tag_complete</a></div><div class="ttdeci">bool mutt_nm_tag_complete(char *buf, size_t buflen, int numtabs)</div><div class="ttdoc">Complete to the nearest notmuch tag. </div><div class="ttdef"><b>Definition:</b> <a href="init_8c_source.html#l01429">init.c:1429</a></div></div>
<div class="ttc" id="mutt_8h_html_a340ca49378b322929d0b819365b97f47"><div class="ttname"><a href="mutt_8h.html#a340ca49378b322929d0b819365b97f47">MUTT_NM_QUERY</a></div><div class="ttdeci">#define MUTT_NM_QUERY</div><div class="ttdoc">Notmuch query mode. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00062">mutt.h:62</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a4c2560f787bd1226b977992c16860c98"><div class="ttname"><a href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00370">string.c:370</a></div></div>
<div class="ttc" id="init_8c_html_ad41f1b6fbd5aeeee1bfc56f620ff0f44"><div class="ttname"><a href="init_8c.html#ad41f1b6fbd5aeeee1bfc56f620ff0f44">mutt_command_complete</a></div><div class="ttdeci">int mutt_command_complete(char *buf, size_t buflen, int pos, int numtabs)</div><div class="ttdoc">Complete a command name. </div><div class="ttdef"><b>Definition:</b> <a href="init_8c_source.html#l01126">init.c:1126</a></div></div>
<div class="ttc" id="structKeyEvent_html_acece69c3519a730c7105cdc96af1e105"><div class="ttname"><a href="structKeyEvent.html#acece69c3519a730c7105cdc96af1e105">KeyEvent::ch</a></div><div class="ttdeci">int ch</div><div class="ttdoc">raw key pressed </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8h_source.html#l00066">keymap.h:66</a></div></div>
<div class="ttc" id="browser_8h_html_aef17206dea5302001a39f3c633e731d3"><div class="ttname"><a href="browser_8h.html#aef17206dea5302001a39f3c633e731d3">MUTT_SEL_NO_FLAGS</a></div><div class="ttdeci">#define MUTT_SEL_NO_FLAGS</div><div class="ttdoc">No flags are set. </div><div class="ttdef"><b>Definition:</b> <a href="browser_8h_source.html#l00036">browser.h:36</a></div></div>
<div class="ttc" id="structMuttWindow_html"><div class="ttname"><a href="structMuttWindow.html">MuttWindow</a></div><div class="ttdoc">A division of the screen. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8h_source.html#l00118">mutt_window.h:118</a></div></div>
<div class="ttc" id="mbyte_8c_html_a6b9ecc962be914e12b3f35ef88dff1ad"><div class="ttname"><a href="mbyte_8c.html#a6b9ecc962be914e12b3f35ef88dff1ad">mutt_mb_width_ceiling</a></div><div class="ttdeci">size_t mutt_mb_width_ceiling(const wchar_t *s, size_t n, int w1)</div><div class="ttdoc">Keep the end of the string on-screen. </div><div class="ttdef"><b>Definition:</b> <a href="mbyte_8c_source.html#l00216">mbyte.c:216</a></div></div>
<div class="ttc" id="mutt__mailbox_8c_html_a4a77c0185d4129b0a7ab77c30481b9ef"><div class="ttname"><a href="mutt__mailbox_8c.html#a4a77c0185d4129b0a7ab77c30481b9ef">mutt_mailbox_next</a></div><div class="ttdeci">struct Mailbox * mutt_mailbox_next(struct Mailbox *m_cur, struct Buffer *s)</div><div class="ttdoc">incoming folders completion routine </div><div class="ttdef"><b>Definition:</b> <a href="mutt__mailbox_8c_source.html#l00314">mutt_mailbox.c:314</a></div></div>
<div class="ttc" id="init_8c_html_a17d5ac51e166d61b729ebdd66cd25c88"><div class="ttname"><a href="init_8c.html#a17d5ac51e166d61b729ebdd66cd25c88">mutt_nm_query_complete</a></div><div class="ttdeci">bool mutt_nm_query_complete(char *buf, size_t buflen, int pos, int numtabs)</div><div class="ttdoc">Complete to the nearest notmuch tag. </div><div class="ttdef"><b>Definition:</b> <a href="init_8c_source.html#l01372">init.c:1372</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="mutt_8h_html_a188e749e346470b3fe95a9b81b499867"><div class="ttname"><a href="mutt_8h.html#a188e749e346470b3fe95a9b81b499867">MUTT_PATTERN</a></div><div class="ttdeci">#define MUTT_PATTERN</div><div class="ttdoc">Pattern mode - only used for history classes. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00060">mutt.h:60</a></div></div>
<div class="ttc" id="mutt__window_8c_html_a882e79c6c69caad2eb7588c1f542767b"><div class="ttname"><a href="mutt__window_8c.html#a882e79c6c69caad2eb7588c1f542767b">mutt_window_move</a></div><div class="ttdeci">int mutt_window_move(struct MuttWindow *win, int col, int row)</div><div class="ttdoc">Move the cursor in a Window. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8c_source.html#l00310">mutt_window.c:310</a></div></div>
<div class="ttc" id="browser_8h_html_a3bdfd6d174ddcbbd6488554080d54889"><div class="ttname"><a href="browser_8h.html#a3bdfd6d174ddcbbd6488554080d54889">MUTT_SEL_FOLDER</a></div><div class="ttdeci">#define MUTT_SEL_FOLDER</div><div class="ttdoc">Select a local directory. </div><div class="ttdef"><b>Definition:</b> <a href="browser_8h_source.html#l00039">browser.h:39</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234a268178c32488395d8afeac98117a88ee"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a268178c32488395d8afeac98117a88ee">HC_MBOX</a></div><div class="ttdoc">Mailboxes. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00054">lib.h:54</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="mbyte_8c_html_a2357bee73a6c5acd9301c12ba3cdb1ff"><div class="ttname"><a href="mbyte_8c.html#a2357bee73a6c5acd9301c12ba3cdb1ff">mutt_mb_wcstombs</a></div><div class="ttdeci">void mutt_mb_wcstombs(char *dest, size_t dlen, const wchar_t *src, size_t slen)</div><div class="ttdoc">Convert a string from wide to multibyte characters. </div><div class="ttdef"><b>Definition:</b> <a href="mbyte_8c_source.html#l00236">mbyte.c:236</a></div></div>
<div class="ttc" id="curs__lib_8c_html_ad4d7b60fedea755304f7d72461d860ca"><div class="ttname"><a href="curs__lib_8c.html#ad4d7b60fedea755304f7d72461d860ca">mutt_beep</a></div><div class="ttdeci">void mutt_beep(bool force)</div><div class="ttdoc">Irritate the user. </div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00105">curs_lib.c:105</a></div></div>
<div class="ttc" id="muttlib_8c_html_a483f037de523c624d449b4296a3ddfb2"><div class="ttname"><a href="muttlib_8c.html#a483f037de523c624d449b4296a3ddfb2">mutt_expand_path</a></div><div class="ttdeci">char * mutt_expand_path(char *buf, size_t buflen)</div><div class="ttdoc">Create the canonical path. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00122">muttlib.c:122</a></div></div>
<div class="ttc" id="type_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ae2cddde362090e3d9d1da10828ef9270">MENU_EDITOR</a></div><div class="ttdoc">Text entry area. </div><div class="ttdef"><b>Definition:</b> <a href="type_8h_source.html#l00043">type.h:43</a></div></div>
<div class="ttc" id="structEnterState_html_a6aa88a89598cb7ffe00a8a2f2581bc9b"><div class="ttname"><a href="structEnterState.html#a6aa88a89598cb7ffe00a8a2f2581bc9b">EnterState::tabs</a></div><div class="ttdeci">int tabs</div><div class="ttdef"><b>Definition:</b> <a href="enter__state_8h_source.html#l00039">enter_state.h:39</a></div></div>
<div class="ttc" id="msgwin_8c_html_aa22c662a1a837c50b33c1fd80c5c79ff"><div class="ttname"><a href="msgwin_8c.html#aa22c662a1a837c50b33c1fd80c5c79ff">msgwin_get_window</a></div><div class="ttdeci">struct MuttWindow * msgwin_get_window(void)</div><div class="ttdoc">Get the Message Window pointer. </div><div class="ttdef"><b>Definition:</b> <a href="msgwin_8c_source.html#l00253">msgwin.c:253</a></div></div>
<div class="ttc" id="mutt_8h_html_adfeb5c55938526a79fcedc2e954eba08"><div class="ttname"><a href="mutt_8h.html#adfeb5c55938526a79fcedc2e954eba08">MUTT_NM_TAG</a></div><div class="ttdeci">#define MUTT_NM_TAG</div><div class="ttdoc">Notmuch tag +/- mode. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00063">mutt.h:63</a></div></div>
<div class="ttc" id="keymap_8c_html_a715fabcdc382c085e09d0bd3a8a44419"><div class="ttname"><a href="keymap_8c.html#a715fabcdc382c085e09d0bd3a8a44419">LastKey</a></div><div class="ttdeci">int LastKey</div><div class="ttdoc">contains the last key the user pressed </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8c_source.html#l00123">keymap.c:123</a></div></div>
<div class="ttc" id="mbyte_8c_html_ac1cd90aaff468feb7e744aaee372ac57"><div class="ttname"><a href="mbyte_8c.html#ac1cd90aaff468feb7e744aaee372ac57">mutt_mb_wcswidth</a></div><div class="ttdeci">int mutt_mb_wcswidth(const wchar_t *s, size_t n)</div><div class="ttdoc">Measure the screen width of a string. </div><div class="ttdef"><b>Definition:</b> <a href="mbyte_8c_source.html#l00195">mbyte.c:195</a></div></div>
<div class="ttc" id="mutt_8h_html_aba240267eaeba0db19194cb25be07dc4"><div class="ttname"><a href="mutt_8h.html#aba240267eaeba0db19194cb25be07dc4">MUTT_COMMAND</a></div><div class="ttdeci">#define MUTT_COMMAND</div><div class="ttdoc">Do command completion. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00059">mutt.h:59</a></div></div>
<div class="ttc" id="buffer_8c_html_a958e87c1ae9de976eb76f759dbaaa601"><div class="ttname"><a href="buffer_8c.html#a958e87c1ae9de976eb76f759dbaaa601">mutt_buffer_addstr</a></div><div class="ttdeci">size_t mutt_buffer_addstr(struct Buffer *buf, const char *s)</div><div class="ttdoc">Add a string to a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00225">buffer.c:225</a></div></div>
<div class="ttc" id="dlgpattern_8c_html_a0a33d91a2e7d8c02e922003ea3d155f5"><div class="ttname"><a href="dlgpattern_8c.html#a0a33d91a2e7d8c02e922003ea3d155f5">dlg_select_pattern</a></div><div class="ttdeci">bool dlg_select_pattern(char *buf, size_t buflen)</div><div class="ttdoc">Show menu to select a Pattern. </div><div class="ttdef"><b>Definition:</b> <a href="dlgpattern_8c_source.html#l00347">dlgpattern.c:347</a></div></div>
<div class="ttc" id="memory_8c_html_af778eb8166966fc0666c64849f6c7c5b"><div class="ttname"><a href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a></div><div class="ttdeci">void mutt_mem_realloc(void *ptr, size_t size)</div><div class="ttdoc">Resize a block of memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00114">memory.c:114</a></div></div>
<div class="ttc" id="structWindowState_html_a557cf2197f9df8fe60f6e1dbfd49ec43"><div class="ttname"><a href="structWindowState.html#a557cf2197f9df8fe60f6e1dbfd49ec43">WindowState::cols</a></div><div class="ttdeci">short cols</div><div class="ttdoc">Number of columns, can be MUTT_WIN_SIZE_UNLIMITED. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8h_source.html#l00060">mutt_window.h:60</a></div></div>
<div class="ttc" id="mutt_8h_html_ab9eedd4dd04bc51834fcc292753a57bf"><div class="ttname"><a href="mutt_8h.html#ab9eedd4dd04bc51834fcc292753a57bf">MUTT_CMD</a></div><div class="ttdeci">#define MUTT_CMD</div><div class="ttdoc">Do completion on previous word. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00056">mutt.h:56</a></div></div>
<div class="ttc" id="structEnterState_html_a83071b07ce7cfa6c49852fd9379768d9"><div class="ttname"><a href="structEnterState.html#a83071b07ce7cfa6c49852fd9379768d9">EnterState::begin</a></div><div class="ttdeci">size_t begin</div><div class="ttdef"><b>Definition:</b> <a href="enter__state_8h_source.html#l00038">enter_state.h:38</a></div></div>
<div class="ttc" id="curs__lib_8c_html_a99dc8e687f3d5688695d0d7a1bab3c3f"><div class="ttname"><a href="curs__lib_8c.html#a99dc8e687f3d5688695d0d7a1bab3c3f">mutt_refresh</a></div><div class="ttdeci">void mutt_refresh(void)</div><div class="ttdoc">Force a refresh of the screen. </div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00115">curs_lib.c:115</a></div></div>
<div class="ttc" id="enter_8c_html_afc807bd170b70c27ead3ffca2e621feea2627f26f2a9d54f09f865827f0d191fb"><div class="ttname"><a href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feea2627f26f2a9d54f09f865827f0d191fb">ENTER_REDRAW_NONE</a></div><div class="ttdoc">Nothing to redraw. </div><div class="ttdef"><b>Definition:</b> <a href="enter_8c_source.html#l00061">enter.c:61</a></div></div>
<div class="ttc" id="mutt_8h_html_ad9d33c1486f2c5eae54348cfc8b7dc33"><div class="ttname"><a href="mutt_8h.html#ad9d33c1486f2c5eae54348cfc8b7dc33">MUTT_PASS</a></div><div class="ttdeci">#define MUTT_PASS</div><div class="ttdoc">Password mode (no echo) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00057">mutt.h:57</a></div></div>
<div class="ttc" id="structMuttWindow_html_a406b976fc50b1cb5beca6c85e7a3be7f"><div class="ttname"><a href="structMuttWindow.html#a406b976fc50b1cb5beca6c85e7a3be7f">MuttWindow::state</a></div><div class="ttdeci">struct WindowState state</div><div class="ttdoc">Current state of the Window. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__window_8h_source.html#l00123">mutt_window.h:123</a></div></div>
<div class="ttc" id="history_8c_html_a493d2064e68bab2fe5cee4b4769c2d49"><div class="ttname"><a href="history_8c.html#a493d2064e68bab2fe5cee4b4769c2d49">mutt_hist_at_scratch</a></div><div class="ttdeci">bool mutt_hist_at_scratch(enum HistoryClass hclass)</div><div class="ttdoc">Is the current History position at the &amp;#39;scratch&amp;#39; place? </div><div class="ttdef"><b>Definition:</b> <a href="history_8c_source.html#l00652">history.c:652</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234aff1655e936d39511e2576e9eebd7aba3"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234aff1655e936d39511e2576e9eebd7aba3">HC_CMD</a></div><div class="ttdoc">External commands. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00048">lib.h:48</a></div></div>
<div class="ttc" id="history_8c_html_a2d26cab55cd51b83f6e2a45a8ce44799"><div class="ttname"><a href="history_8c.html#a2d26cab55cd51b83f6e2a45a8ce44799">mutt_hist_save_scratch</a></div><div class="ttdeci">void mutt_hist_save_scratch(enum HistoryClass hclass, const char *str)</div><div class="ttdoc">Save a temporary string to the History. </div><div class="ttdef"><b>Definition:</b> <a href="history_8c_source.html#l00669">history.c:669</a></div></div>
<div class="ttc" id="dlgalias_8c_html_ac497f221c91e788faa8c110f70d26aee"><div class="ttname"><a href="dlgalias_8c.html#ac497f221c91e788faa8c110f70d26aee">alias_complete</a></div><div class="ttdeci">int alias_complete(char *buf, size_t buflen, struct ConfigSubset *sub)</div><div class="ttdoc">alias completion routine </div><div class="ttdef"><b>Definition:</b> <a href="dlgalias_8c_source.html#l00466">dlgalias.c:466</a></div></div>
<div class="ttc" id="structKeyEvent_html"><div class="ttname"><a href="structKeyEvent.html">KeyEvent</a></div><div class="ttdoc">An event such as a keypress. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8h_source.html#l00064">keymap.h:64</a></div></div>
<div class="ttc" id="structEnterState_html_a1f5daab31c407100c8ed9266b4d8e5f8"><div class="ttname"><a href="structEnterState.html#a1f5daab31c407100c8ed9266b4d8e5f8">EnterState::curpos</a></div><div class="ttdeci">size_t curpos</div><div class="ttdef"><b>Definition:</b> <a href="enter__state_8h_source.html#l00037">enter_state.h:37</a></div></div>
<div class="ttc" id="curs__lib_8c_html_a6bde4da049798871747b54bff8d83b4f"><div class="ttname"><a href="curs__lib_8c.html#a6bde4da049798871747b54bff8d83b4f">mutt_getch</a></div><div class="ttdeci">struct KeyEvent mutt_getch(void)</div><div class="ttdoc">Read a character from the input buffer. </div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00196">curs_lib.c:196</a></div></div>
<div class="ttc" id="enter_8c_html_a66372184a12fcfde34405660417b61b7"><div class="ttname"><a href="enter_8c.html#a66372184a12fcfde34405660417b61b7">COMB_CHAR</a></div><div class="ttdeci">#define COMB_CHAR(wc)</div><div class="ttdef"><b>Definition:</b> <a href="enter_8c_source.html#l00067">enter.c:67</a></div></div>
<div class="ttc" id="browser_8c_html_a07499fa5cd1c0d96ae185e49b1eb9221"><div class="ttname"><a href="browser_8c.html#a07499fa5cd1c0d96ae185e49b1eb9221">mutt_select_file</a></div><div class="ttdeci">void mutt_select_file(char *file, size_t filelen, SelectFileFlags flags, struct Mailbox *m, char ***files, int *numfiles)</div><div class="ttdoc">Let the user select a file. </div><div class="ttdef"><b>Definition:</b> <a href="browser_8c_source.html#l02345">browser.c:2345</a></div></div>
<div class="ttc" id="enter_8c_html_aee2885e93ba4e712c261b65bf587dbb3"><div class="ttname"><a href="enter_8c.html#aee2885e93ba4e712c261b65bf587dbb3">replace_part</a></div><div class="ttdeci">static void replace_part(struct EnterState *state, size_t from, char *buf)</div><div class="ttdoc">Search and replace on a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="enter_8c_source.html#l00094">enter.c:94</a></div></div>
<div class="ttc" id="browser_8h_html_a3c8fc96890e5df4412f83fbc2a87cc91"><div class="ttname"><a href="browser_8h.html#a3c8fc96890e5df4412f83fbc2a87cc91">MUTT_SEL_MULTI</a></div><div class="ttdeci">#define MUTT_SEL_MULTI</div><div class="ttdoc">Multi-selection is enabled. </div><div class="ttdef"><b>Definition:</b> <a href="browser_8h_source.html#l00038">browser.h:38</a></div></div>
<div class="ttc" id="mutt_8h_html_af03a3b6aab3f2f7caf8945357ebd6419"><div class="ttname"><a href="mutt_8h.html#af03a3b6aab3f2f7caf8945357ebd6419">MUTT_FILE</a></div><div class="ttdeci">#define MUTT_FILE</div><div class="ttdoc">Do file completion. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00054">mutt.h:54</a></div></div>
<div class="ttc" id="history_8c_html_a9c81cb82877d80de3874bc359c473d12"><div class="ttname"><a href="history_8c.html#a9c81cb82877d80de3874bc359c473d12">mutt_hist_prev</a></div><div class="ttdeci">char * mutt_hist_prev(enum HistoryClass hclass)</div><div class="ttdoc">Get the previous string in a History. </div><div class="ttdef"><b>Definition:</b> <a href="history_8c_source.html#l00557">history.c:557</a></div></div>
<div class="ttc" id="complete_8c_html_a72b3c85bc14241321c26350fd4a26b37"><div class="ttname"><a href="complete_8c.html#a72b3c85bc14241321c26350fd4a26b37">mutt_complete</a></div><div class="ttdeci">int mutt_complete(char *buf, size_t buflen)</div><div class="ttdoc">Attempt to complete a partial pathname. </div><div class="ttdef"><b>Definition:</b> <a href="complete_8c_source.html#l00057">complete.c:57</a></div></div>
<div class="ttc" id="enter_8c_html_afc807bd170b70c27ead3ffca2e621fee"><div class="ttname"><a href="enter_8c.html#afc807bd170b70c27ead3ffca2e621fee">EnterRedrawFlags</a></div><div class="ttdeci">EnterRedrawFlags</div><div class="ttdoc">redraw flags for mutt_enter_string_full() </div><div class="ttdef"><b>Definition:</b> <a href="enter_8c_source.html#l00059">enter.c:59</a></div></div>
<div class="ttc" id="mbyte_8c_html_a277cca96e7362df5105c3d4d225b8421"><div class="ttname"><a href="mbyte_8c.html#a277cca96e7362df5105c3d4d225b8421">mutt_mb_is_shell_char</a></div><div class="ttdeci">bool mutt_mb_is_shell_char(wchar_t ch)</div><div class="ttdoc">Is character not typically part of a pathname. </div><div class="ttdef"><b>Definition:</b> <a href="mbyte_8c_source.html#l00343">mbyte.c:343</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234">HistoryClass</a></div><div class="ttdeci">HistoryClass</div><div class="ttdoc">Type to differentiate different histories. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00046">lib.h:46</a></div></div>
<div class="ttc" id="enter_8c_html_afc807bd170b70c27ead3ffca2e621feeac52834ac18755756b58bc3ec86b6ba73"><div class="ttname"><a href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeac52834ac18755756b58bc3ec86b6ba73">ENTER_REDRAW_INIT</a></div><div class="ttdoc">Go to end of line and redraw. </div><div class="ttdef"><b>Definition:</b> <a href="enter_8c_source.html#l00062">enter.c:62</a></div></div>
<div class="ttc" id="mutt_8h_html_a65174d91b7b1a8b876db12f0de6829e2"><div class="ttname"><a href="mutt_8h.html#a65174d91b7b1a8b876db12f0de6829e2">MUTT_EFILE</a></div><div class="ttdeci">#define MUTT_EFILE</div><div class="ttdoc">Do file completion, plus incoming folders. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00055">mutt.h:55</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234aede85bc3dcca6122e349576277dcef4b"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234aede85bc3dcca6122e349576277dcef4b">HC_PATTERN</a></div><div class="ttdoc">Patterns. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00052">lib.h:52</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00749">string.c:749</a></div></div>
<div class="ttc" id="enter_8c_html_a84ec6c7d17a7bfe2b334d144a554bf54"><div class="ttname"><a href="enter_8c.html#a84ec6c7d17a7bfe2b334d144a554bf54">my_addwch</a></div><div class="ttdeci">static int my_addwch(struct MuttWindow *win, wchar_t wc)</div><div class="ttdoc">Display one wide character on screen. </div><div class="ttdef"><b>Definition:</b> <a href="enter_8c_source.html#l00076">enter.c:76</a></div></div>
<div class="ttc" id="enter_8c_html_afc807bd170b70c27ead3ffca2e621feeab0fad473043bf721bdd8abe50fffa206"><div class="ttname"><a href="enter_8c.html#afc807bd170b70c27ead3ffca2e621feeab0fad473043bf721bdd8abe50fffa206">ENTER_REDRAW_LINE</a></div><div class="ttdoc">Redraw entire line. </div><div class="ttdef"><b>Definition:</b> <a href="enter_8c_source.html#l00063">enter.c:63</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="mbyte_8c_html_aecb9fe7c3a2b5e90b0aa4396c32e5a64"><div class="ttname"><a href="mbyte_8c.html#aecb9fe7c3a2b5e90b0aa4396c32e5a64">mutt_mb_wcwidth</a></div><div class="ttdeci">int mutt_mb_wcwidth(wchar_t wc)</div><div class="ttdoc">Measure the screen width of a character. </div><div class="ttdef"><b>Definition:</b> <a href="mbyte_8c_source.html#l00177">mbyte.c:177</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234a7087d625c6e65aa739171b10a68907c5"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a7087d625c6e65aa739171b10a68907c5">HC_ALIAS</a></div><div class="ttdoc">Aliases. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00049">lib.h:49</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="mbyte_8c_html_a8c94bd5ff6c53cfe02ed45f2e7955117"><div class="ttname"><a href="mbyte_8c.html#a8c94bd5ff6c53cfe02ed45f2e7955117">mutt_mb_mbstowcs</a></div><div class="ttdeci">size_t mutt_mb_mbstowcs(wchar_t **pwbuf, size_t *pwbuflen, size_t i, const char *buf)</div><div class="ttdoc">Convert a string from multibyte to wide characters. </div><div class="ttdef"><b>Definition:</b> <a href="mbyte_8c_source.html#l00294">mbyte.c:294</a></div></div>
<div class="ttc" id="history_8c_html_a6197a536a3da0385551bac50a45d6a7a"><div class="ttname"><a href="history_8c.html#a6197a536a3da0385551bac50a45d6a7a">mutt_hist_reset_state</a></div><div class="ttdeci">void mutt_hist_reset_state(enum HistoryClass hclass)</div><div class="ttdoc">Move the &amp;#39;current&amp;#39; position to the end of the History. </div><div class="ttdef"><b>Definition:</b> <a href="history_8c_source.html#l00585">history.c:585</a></div></div>
<div class="ttc" id="keymap_8c_html_a5e8e32677bf6b21a23e4cf970b41e461"><div class="ttname"><a href="keymap_8c.html#a5e8e32677bf6b21a23e4cf970b41e461">km_dokey</a></div><div class="ttdeci">int km_dokey(enum MenuType mtype)</div><div class="ttdoc">Determine what a keypress should do. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8c_source.html#l00635">keymap.c:635</a></div></div>
<div class="ttc" id="mutt__globals_8h_html_a1866b139ff0c11ff05f20cca458a1c06"><div class="ttname"><a href="mutt__globals_8h.html#a1866b139ff0c11ff05f20cca458a1c06">SigWinch</a></div><div class="ttdeci">WHERE SIG_ATOMIC_VOLATILE_T SigWinch</div><div class="ttdoc">true after SIGWINCH is received </div><div class="ttdef"><b>Definition:</b> <a href="mutt__globals_8h_source.html#l00068">mutt_globals.h:68</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234aee9379d265cad600929abe5cc271019a"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234aee9379d265cad600929abe5cc271019a">HC_OTHER</a></div><div class="ttdoc">Miscellaneous strings. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00053">lib.h:53</a></div></div>
<div class="ttc" id="structEnterState_html_ab94327a0300b5c132e37416c87d44699"><div class="ttname"><a href="structEnterState.html#ab94327a0300b5c132e37416c87d44699">EnterState::lastchar</a></div><div class="ttdeci">size_t lastchar</div><div class="ttdef"><b>Definition:</b> <a href="enter__state_8h_source.html#l00036">enter_state.h:36</a></div></div>
<div class="ttc" id="history_2lib_8h_html_acb0a49d94e5b4fe512c30e2c12621234a313ffe25b1e9a86bb1f9afb44e15925c"><div class="ttname"><a href="history_2lib_8h.html#acb0a49d94e5b4fe512c30e2c12621234a313ffe25b1e9a86bb1f9afb44e15925c">HC_FILE</a></div><div class="ttdoc">Files. </div><div class="ttdef"><b>Definition:</b> <a href="history_2lib_8h_source.html#l00051">lib.h:51</a></div></div>
<div class="ttc" id="init_8c_html_a173ae67a86a1c7bfc88e98a0edbe514f"><div class="ttname"><a href="init_8c.html#a173ae67a86a1c7bfc88e98a0edbe514f">mutt_var_value_complete</a></div><div class="ttdeci">int mutt_var_value_complete(char *buf, size_t buflen, int pos)</div><div class="ttdoc">Complete a variable/value. </div><div class="ttdef"><b>Definition:</b> <a href="init_8c_source.html#l01482">init.c:1482</a></div></div>
</div><!-- fragment --><div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ae45373a28b592394bdea7a2a4d9f0a5f_cgraph.svg" width="848" height="2267"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ae45373a28b592394bdea7a2a4d9f0a5f_icgraph.svg" width="387" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aacde94d20e952e822eac92e0fbf74682"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacde94d20e952e822eac92e0fbf74682">&#9670;&nbsp;</a></span>mutt_get_postponed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_get_postponed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m_cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> **&#160;</td>
          <td class="paramname"><em>cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structBuffer.html">Buffer</a> *&#160;</td>
          <td class="paramname"><em>fcc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recall a postponed message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">m_cur</td><td>Current mailbox </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hdr</td><td>envelope/attachment info for recalled message </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">cur</td><td>if message was a reply, 'cur' is set to the message which 'hdr' is in reply to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fcc</td><td>fcc for the recalled message </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>Error/no messages </td></tr>
    <tr><td class="paramname">0</td><td>Normal exit </td></tr>
    <tr><td class="paramname"><a class="el" href="send_8h.html#ac23e1891bcbc52cc25b5824acfb42d3c" title="Reply to sender. ">SEND_REPLY</a></td><td>Recalled message is a reply </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="postpone_8c_source.html#l00425">425</a> of file <a class="el" href="postpone_8c_source.html">postpone.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;{</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_postponed = <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;postponed&quot;</span>);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordflow">if</span> (!c_postponed)</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  <span class="keyword">struct </span><a class="code" href="structEmail.html">Email</a> *e = NULL;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordtype">int</span> rc = <a class="code" href="send_8h.html#a819cb72f23fd5b12401baf2963bc694f">SEND_POSTPONED</a>;</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *p = NULL;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMailbox.html">Mailbox</a> *m = <a class="code" href="mx_8c.html#ab437d031227dc741c63cf2791c6b4562">mx_path_resolve</a>(c_postponed);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  <span class="keywordflow">if</span> (m_cur != m)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mx_8c.html#a6c4f4c51fa0b086d86a8638197c40578">mx_mbox_open</a>(m, <a class="code" href="mxapi_8h.html#a9aa2964ccc101dbfdb11771b00b1de90">MUTT_NOSORT</a>))</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = 0;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;No postponed messages&quot;</span>));</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      <a class="code" href="mailbox_8c.html#aba915aae97477d1ecc6428a06f92dac9">mailbox_free</a>(&amp;m);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  }</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <a class="code" href="mx_8c.html#ae1a77c15ee90fe85716badfd92e856ba">mx_mbox_check</a>(m);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> == 0)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  {</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = 0;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;No postponed messages&quot;</span>));</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">if</span> (m_cur != m)</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="mx_8c.html#ac883dc0d1391457ac62efe762067a544">mx_fastclose_mailbox</a>(m);</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    }</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;  }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="comment">/* avoid the &quot;purge deleted messages&quot; prompt */</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35db">QuadOption</a> c_delete = <a class="code" href="helpers_8c.html#a9154ba713ce99b0937f475eec7c61af9">cs_subset_quad</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;delete&quot;</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;delete&quot;</span>, <a class="code" href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7">MUTT_YES</a>, NULL);</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;  <span class="keyword">struct </span><a class="code" href="structContext.html">Context</a> *ctx = (m_cur != m) ? <a class="code" href="context_8c.html#a277306cf26d4e75052d80cc100cbdbab">ctx_new</a>(m) : NULL;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> == 1)</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  {</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="comment">/* only one message, so just use that one. */</span></div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    e = m-&gt;<a class="code" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[0];</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  }</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!(e = <a class="code" href="postpone_8c.html#aa4e2a5e4b76af37831e2fe0c2760e502">dlg_select_postponed_email</a>(m)))</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;  {</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    rc = -1;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keywordflow">goto</span> cleanup;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="postpone_8c.html#aad14aaca518d6c005ec318f14114d5ec">mutt_prepare_template</a>(NULL, m, hdr, e, <span class="keyword">false</span>) &lt; 0)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  {</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    rc = -1;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">goto</span> cleanup;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  }</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="comment">/* finished with this message, so delete it. */</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, e, <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf">MUTT_DELETE</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, e, <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77">MUTT_PURGE</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="comment">/* update the count for the status display */</span></div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> - m-&gt;<a class="code" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="keyword">struct </span><a class="code" href="structListNode.html">ListNode</a> *np = NULL, *tmp = NULL;</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="queue_8h.html#ac3203dcce73148c142df4586eb55ce55">STAILQ_FOREACH_SAFE</a>(np, &amp;hdr-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code" href="structEnvelope.html#a005f4bd665ae1ae362add27948753fe1">userhdrs</a>, entries, tmp)</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  {</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="pgppacket_8c.html#af86b82f9e1d828f6609218d3787e6ea1">plen</a> = <a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="stringliteral">&quot;X-Mutt-References:&quot;</span>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordflow">if</span> (plen)</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    {</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <span class="comment">/* if a mailbox is currently open, look to see if the original message</span></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="comment">       * the user attempted to reply to is in this mailbox */</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      p = <a class="code" href="mutt_2string_8c.html#aa5fb929533630a48c6d2e893267ce208">mutt_str_skip_email_wsp</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a> + plen);</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      <span class="keywordflow">if</span> (!m_cur-&gt;<a class="code" href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">id_hash</a>)</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        m_cur-&gt;<a class="code" href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">id_hash</a> = <a class="code" href="mutt__thread_8c.html#a956d35c89142f8232d3b28bc3c696f0c">mutt_make_id_hash</a>(m_cur);</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      *cur = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(m_cur-&gt;<a class="code" href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">id_hash</a>, p);</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">if</span> (*cur)</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        rc |= <a class="code" href="send_8h.html#ac23e1891bcbc52cc25b5824acfb42d3c">SEND_REPLY</a>;</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((plen = <a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="stringliteral">&quot;X-Mutt-Fcc:&quot;</span>)))</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    {</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;      p = <a class="code" href="mutt_2string_8c.html#aa5fb929533630a48c6d2e893267ce208">mutt_str_skip_email_wsp</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a> + plen);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(fcc, p);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;      <a class="code" href="muttlib_8c.html#a1c0d55a453ec4d4da581de386715f780">mutt_buffer_pretty_mailbox</a>(fcc);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      <span class="comment">/* note that x-mutt-fcc was present.  we do this because we want to add a</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">       * default fcc if the header was missing, but preserve the request of the</span></div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">       * user to not make a copy if the header field is present, but empty.</span></div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">       * see http://dev.mutt.org/trac/ticket/3653 */</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;      rc |= <a class="code" href="send_8h.html#a0124ba8cc117eff717a4ddf672c22018">SEND_POSTPONED_FCC</a>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp;</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;             <span class="comment">/* this is generated by old neomutt versions */</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;             (<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="stringliteral">&quot;Pgp:&quot;</span>) ||</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;              <span class="comment">/* this is the new way */</span></div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;              <a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="stringliteral">&quot;X-Mutt-PGP:&quot;</span>)))</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    {</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      hdr-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> = <a class="code" href="postpone_8c.html#a286933c50f193dd341ae2e6a015aeb67">mutt_parse_crypt_hdr</a>(strchr(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="charliteral">&#39;:&#39;</span>) + 1, <span class="keyword">true</span>, APPLICATION_PGP);</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      hdr-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>;</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    }</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>) != 0) &amp;&amp;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;             <a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="stringliteral">&quot;X-Mutt-SMIME:&quot;</span>))</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      hdr-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> = <a class="code" href="postpone_8c.html#a286933c50f193dd341ae2e6a015aeb67">mutt_parse_crypt_hdr</a>(strchr(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="charliteral">&#39;:&#39;</span>) + 1, <span class="keyword">true</span>, APPLICATION_SMIME);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      hdr-&gt;<a class="code" href="structEmail.html#a570a81cd747437c9ea4357947731ae10">security</a> |= <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;<span class="preprocessor">#ifdef MIXMASTER</span></div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>, <span class="stringliteral">&quot;X-Mutt-Mix:&quot;</span>))</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    {</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <a class="code" href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a>(&amp;hdr-&gt;<a class="code" href="structEmail.html#a9a3c73dc042313773159d921a711c830">chain</a>);</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      <span class="keywordtype">char</span> *t = strtok(np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a> + 11, <span class="stringliteral">&quot; \t\n&quot;</span>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">while</span> (t)</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <a class="code" href="list_8c.html#ace47a64c8bec9d1b24be6524f650293d">mutt_list_insert_tail</a>(&amp;hdr-&gt;<a class="code" href="structEmail.html#a9a3c73dc042313773159d921a711c830">chain</a>, <a class="code" href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a>(t));</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        t = strtok(NULL, <span class="stringliteral">&quot; \t\n&quot;</span>);</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;      }</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    }</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    {</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;      <span class="comment">// skip header removal</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="comment">// remove the header</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    <a class="code" href="queue_8h.html#a2a0d6665f277f80bf301a16e6ab2403c">STAILQ_REMOVE</a>(&amp;hdr-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code" href="structEnvelope.html#a005f4bd665ae1ae362add27948753fe1">userhdrs</a>, np, <a class="code" href="structListNode.html">ListNode</a>, entries);</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;np);</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_crypt_opportunistic_encrypt =</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;crypt_opportunistic_encrypt&quot;</span>);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  <span class="keywordflow">if</span> (c_crypt_opportunistic_encrypt)</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="crypt_8c.html#a8ebc13a33b0dd650151d5b1b37cb99e4">crypt_opportunistic_encrypt</a>(m_cur, hdr);</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;cleanup:</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordflow">if</span> (m_cur != m)</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  {</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="postpone_8c.html#af07c354edc44c87ec845b293331eb325">hardclose</a>(m);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <a class="code" href="context_8c.html#a438aad8b9b9193a15648a4f1f8039cfb">ctx_free</a>(&amp;ctx);</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  }</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <a class="code" href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;delete&quot;</span>, c_delete, NULL);</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="structMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00099">mailbox.h:99</a></div></div>
<div class="ttc" id="structContext_html"><div class="ttname"><a href="structContext.html">Context</a></div><div class="ttdoc">The &quot;current&quot; mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="context_8h_source.html#l00037">context.h:37</a></div></div>
<div class="ttc" id="queue_8h_html_a2a0d6665f277f80bf301a16e6ab2403c"><div class="ttname"><a href="queue_8h.html#a2a0d6665f277f80bf301a16e6ab2403c">STAILQ_REMOVE</a></div><div class="ttdeci">#define STAILQ_REMOVE(head, elm, type, field)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00399">queue.h:399</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="protos_8h_html_a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"><div class="ttname"><a href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a></div><div class="ttdeci">#define mutt_set_flag(m, e, flag, bf)</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00066">protos.h:66</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00071">helpers.c:71</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00113">lib.h:113</a></div></div>
<div class="ttc" id="mx_8c_html_a6c4f4c51fa0b086d86a8638197c40578"><div class="ttname"><a href="mx_8c.html#a6c4f4c51fa0b086d86a8638197c40578">mx_mbox_open</a></div><div class="ttdeci">bool mx_mbox_open(struct Mailbox *m, OpenMailboxFlags flags)</div><div class="ttdoc">Open a mailbox and parse it. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l00304">mx.c:304</a></div></div>
<div class="ttc" id="send_8h_html_a0124ba8cc117eff717a4ddf672c22018"><div class="ttname"><a href="send_8h.html#a0124ba8cc117eff717a4ddf672c22018">SEND_POSTPONED_FCC</a></div><div class="ttdeci">#define SEND_POSTPONED_FCC</div><div class="ttdoc">Used by mutt_get_postponed() to signal that the x-mutt-fcc header field was present. </div><div class="ttdef"><b>Definition:</b> <a href="send_8h_source.html#l00048">send.h:48</a></div></div>
<div class="ttc" id="structEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00037">email.h:37</a></div></div>
<div class="ttc" id="structMailbox_html_ab5863d8f516c6db52e2fadb531bf8557"><div class="ttname"><a href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">Mailbox::msg_deleted</a></div><div class="ttdeci">int msg_deleted</div><div class="ttdoc">Number of deleted messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00096">mailbox.h:96</a></div></div>
<div class="ttc" id="pgppacket_8c_html_af86b82f9e1d828f6609218d3787e6ea1"><div class="ttname"><a href="pgppacket_8c.html#af86b82f9e1d828f6609218d3787e6ea1">plen</a></div><div class="ttdeci">static size_t plen</div><div class="ttdoc">Length of cached packet. </div><div class="ttdef"><b>Definition:</b> <a href="pgppacket_8c_source.html#l00039">pgppacket.c:39</a></div></div>
<div class="ttc" id="mutt__thread_8c_html_a956d35c89142f8232d3b28bc3c696f0c"><div class="ttname"><a href="mutt__thread_8c.html#a956d35c89142f8232d3b28bc3c696f0c">mutt_make_id_hash</a></div><div class="ttdeci">struct HashTable * mutt_make_id_hash(struct Mailbox *m)</div><div class="ttdoc">Create a Hash Table for message-ids. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__thread_8c_source.html#l01522">mutt_thread.c:1522</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a4c2560f787bd1226b977992c16860c98"><div class="ttname"><a href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00370">string.c:370</a></div></div>
<div class="ttc" id="structEnvelope_html_a005f4bd665ae1ae362add27948753fe1"><div class="ttname"><a href="structEnvelope.html#a005f4bd665ae1ae362add27948753fe1">Envelope::userhdrs</a></div><div class="ttdeci">struct ListHead userhdrs</div><div class="ttdoc">user defined headers </div><div class="ttdef"><b>Definition:</b> <a href="envelope_8h_source.html#l00083">envelope.h:83</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a7fb7b2e9048606a37d4c34802ea38c77">MUTT_PURGE</a></div><div class="ttdoc">Messages to be purged (bypass trash) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00096">mutt.h:96</a></div></div>
<div class="ttc" id="postpone_8c_html_af07c354edc44c87ec845b293331eb325"><div class="ttname"><a href="postpone_8c.html#af07c354edc44c87ec845b293331eb325">hardclose</a></div><div class="ttdeci">static void hardclose(struct Mailbox *m)</div><div class="ttdoc">try hard to close a mailbox </div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00404">postpone.c:404</a></div></div>
<div class="ttc" id="send_8h_html_a819cb72f23fd5b12401baf2963bc694f"><div class="ttname"><a href="send_8h.html#a819cb72f23fd5b12401baf2963bc694f">SEND_POSTPONED</a></div><div class="ttdeci">#define SEND_POSTPONED</div><div class="ttdoc">Recall a postponed email. </div><div class="ttdef"><b>Definition:</b> <a href="send_8h_source.html#l00044">send.h:44</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="muttlib_8c_html_a1c0d55a453ec4d4da581de386715f780"><div class="ttname"><a href="muttlib_8c.html#a1c0d55a453ec4d4da581de386715f780">mutt_buffer_pretty_mailbox</a></div><div class="ttdeci">void mutt_buffer_pretty_mailbox(struct Buffer *buf)</div><div class="ttdoc">Shorten a mailbox path using &amp;#39;~&amp;#39; or &amp;#39;=&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00603">muttlib.c:603</a></div></div>
<div class="ttc" id="list_8c_html_ab5c53ce94cc2aafa4299dbc81a37f4a4"><div class="ttname"><a href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a></div><div class="ttdeci">void mutt_list_free(struct ListHead *h)</div><div class="ttdoc">Free a List AND its strings. </div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00122">list.c:122</a></div></div>
<div class="ttc" id="quad_8h_html_a738f558a271fe5035e0ee3b700ee35db"><div class="ttname"><a href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35db">QuadOption</a></div><div class="ttdeci">QuadOption</div><div class="ttdoc">Possible values for a quad-option. </div><div class="ttdef"><b>Definition:</b> <a href="quad_8h_source.html#l00035">quad.h:35</a></div></div>
<div class="ttc" id="subset_8c_html_a6ee598a96defed645b11cad6e6cb6512"><div class="ttname"><a href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a></div><div class="ttdeci">int cs_subset_str_native_set(const struct ConfigSubset *sub, const char *name, intptr_t value, struct Buffer *err)</div><div class="ttdoc">Natively set the value of a string config item. </div><div class="ttdef"><b>Definition:</b> <a href="subset_8c_source.html#l00305">subset.c:305</a></div></div>
<div class="ttc" id="mx_8c_html_ae1a77c15ee90fe85716badfd92e856ba"><div class="ttname"><a href="mx_8c.html#ae1a77c15ee90fe85716badfd92e856ba">mx_mbox_check</a></div><div class="ttdeci">enum MxStatus mx_mbox_check(struct Mailbox *m)</div><div class="ttdoc">Check for new mail - Wrapper for MxOps::mbox_check() </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01119">mx.c:1119</a></div></div>
<div class="ttc" id="structMailbox_html_aa179b922336df79d4674b836ca5ef4fb"><div class="ttname"><a href="structMailbox.html#aa179b922336df79d4674b836ca5ef4fb">Mailbox::id_hash</a></div><div class="ttdeci">struct HashTable * id_hash</div><div class="ttdoc">Hash Table by msg id. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00127">mailbox.h:127</a></div></div>
<div class="ttc" id="mailbox_8c_html_aba915aae97477d1ecc6428a06f92dac9"><div class="ttname"><a href="mailbox_8c.html#aba915aae97477d1ecc6428a06f92dac9">mailbox_free</a></div><div class="ttdeci">void mailbox_free(struct Mailbox **ptr)</div><div class="ttdoc">Free a Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8c_source.html#l00087">mailbox.c:87</a></div></div>
<div class="ttc" id="crypt_8c_html_a8ebc13a33b0dd650151d5b1b37cb99e4"><div class="ttname"><a href="crypt_8c.html#a8ebc13a33b0dd650151d5b1b37cb99e4">crypt_opportunistic_encrypt</a></div><div class="ttdeci">void crypt_opportunistic_encrypt(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Can all recipients be determined. </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l01054">crypt.c:1054</a></div></div>
<div class="ttc" id="structEmail_html_a34cc4493729d7a3b1f4ed783e739a9ec"><div class="ttname"><a href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">Email::env</a></div><div class="ttdeci">struct Envelope * env</div><div class="ttdoc">Envelope information. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00090">email.h:90</a></div></div>
<div class="ttc" id="mx_8c_html_ac883dc0d1391457ac62efe762067a544"><div class="ttname"><a href="mx_8c.html#ac883dc0d1391457ac62efe762067a544">mx_fastclose_mailbox</a></div><div class="ttdeci">void mx_fastclose_mailbox(struct Mailbox *m)</div><div class="ttdoc">free up memory associated with the Mailbox </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l00429">mx.c:429</a></div></div>
<div class="ttc" id="queue_8h_html_ac3203dcce73148c142df4586eb55ce55"><div class="ttname"><a href="queue_8h.html#ac3203dcce73148c142df4586eb55ce55">STAILQ_FOREACH_SAFE</a></div><div class="ttdeci">#define STAILQ_FOREACH_SAFE(var, head, field, tvar)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00359">queue.h:359</a></div></div>
<div class="ttc" id="list_8c_html_ace47a64c8bec9d1b24be6524f650293d"><div class="ttname"><a href="list_8c.html#ace47a64c8bec9d1b24be6524f650293d">mutt_list_insert_tail</a></div><div class="ttdeci">struct ListNode * mutt_list_insert_tail(struct ListHead *h, char *s)</div><div class="ttdoc">Append a string to the end of a List. </div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00064">list.c:64</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a798dfac1e8839ca89375b4ec62b3eff2"><div class="ttname"><a href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a></div><div class="ttdeci">#define APPLICATION_SMIME</div><div class="ttdoc">Use SMIME to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00088">lib.h:88</a></div></div>
<div class="ttc" id="structEmail_html_a9a3c73dc042313773159d921a711c830"><div class="ttname"><a href="structEmail.html#a9a3c73dc042313773159d921a711c830">Email::chain</a></div><div class="ttdeci">struct ListHead chain</div><div class="ttdoc">Mixmaster chain. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00102">email.h:102</a></div></div>
<div class="ttc" id="context_8c_html_a277306cf26d4e75052d80cc100cbdbab"><div class="ttname"><a href="context_8c.html#a277306cf26d4e75052d80cc100cbdbab">ctx_new</a></div><div class="ttdeci">struct Context * ctx_new(struct Mailbox *m)</div><div class="ttdoc">Create a new Context. </div><div class="ttdef"><b>Definition:</b> <a href="context_8c_source.html#l00077">context.c:77</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a587e679a4c9cc44f11f0c467bb22b0af"><div class="ttname"><a href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a></div><div class="ttdeci">#define APPLICATION_PGP</div><div class="ttdoc">Use PGP to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00160">string.c:160</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf">MUTT_DELETE</a></div><div class="ttdoc">Messages to be deleted. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00094">mutt.h:94</a></div></div>
<div class="ttc" id="structMailbox_html"><div class="ttname"><a href="structMailbox.html">Mailbox</a></div><div class="ttdoc">A mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00081">mailbox.h:81</a></div></div>
<div class="ttc" id="postpone_8c_html_a813a6eba284cc0eb882c66dcc4a9ba31"><div class="ttname"><a href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a></div><div class="ttdeci">static short PostCount</div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00117">postpone.c:117</a></div></div>
<div class="ttc" id="helpers_8c_html_ac477c591155aa4ae0452bbabc0affffe"><div class="ttname"><a href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00295">helpers.c:295</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_aa5fb929533630a48c6d2e893267ce208"><div class="ttname"><a href="mutt_2string_8c.html#aa5fb929533630a48c6d2e893267ce208">mutt_str_skip_email_wsp</a></div><div class="ttdeci">char * mutt_str_skip_email_wsp(const char *s)</div><div class="ttdoc">Skip over whitespace as defined by RFC5322. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00776">string.c:776</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_aebd2a8a3f8a30062c31fa1474d87cc41"><div class="ttname"><a href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a></div><div class="ttdeci">size_t mutt_istr_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix, ignoring case. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00172">string.c:172</a></div></div>
<div class="ttc" id="structEmail_html_a570a81cd747437c9ea4357947731ae10"><div class="ttname"><a href="structEmail.html#a570a81cd747437c9ea4357947731ae10">Email::security</a></div><div class="ttdeci">SecurityFlags security</div><div class="ttdoc">bit 0-10: flags, bit 11,12: application, bit 13: traditional pgp See: ncrypt/lib.h pgplib...</div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00039">email.h:39</a></div></div>
<div class="ttc" id="send_8h_html_ac23e1891bcbc52cc25b5824acfb42d3c"><div class="ttname"><a href="send_8h.html#ac23e1891bcbc52cc25b5824acfb42d3c">SEND_REPLY</a></div><div class="ttdeci">#define SEND_REPLY</div><div class="ttdoc">Reply to sender. </div><div class="ttdef"><b>Definition:</b> <a href="send_8h_source.html#l00040">send.h:40</a></div></div>
<div class="ttc" id="helpers_8c_html_a9154ba713ce99b0937f475eec7c61af9"><div class="ttname"><a href="helpers_8c.html#a9154ba713ce99b0937f475eec7c61af9">cs_subset_quad</a></div><div class="ttdeci">enum QuadOption cs_subset_quad(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a quad-value config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00204">helpers.c:204</a></div></div>
<div class="ttc" id="buffer_8c_html_a4bcc481586ae3af02645b4e23e48e0d7"><div class="ttname"><a href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a></div><div class="ttdeci">size_t mutt_buffer_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00312">buffer.c:312</a></div></div>
<div class="ttc" id="postpone_8c_html_a286933c50f193dd341ae2e6a015aeb67"><div class="ttname"><a href="postpone_8c.html#a286933c50f193dd341ae2e6a015aeb67">mutt_parse_crypt_hdr</a></div><div class="ttdeci">SecurityFlags mutt_parse_crypt_hdr(const char *p, bool set_empty_signas, SecurityFlags crypt_app)</div><div class="ttdoc">Parse a crypto header string. </div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00581">postpone.c:581</a></div></div>
<div class="ttc" id="structListNode_html_aafe688d670318196766392d8235d00a7"><div class="ttname"><a href="structListNode.html#aafe688d670318196766392d8235d00a7">ListNode::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">String. </div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00036">list.h:36</a></div></div>
<div class="ttc" id="logging_8h_html_acc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00084">logging.h:84</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="mx_8c_html_ab437d031227dc741c63cf2791c6b4562"><div class="ttname"><a href="mx_8c.html#ab437d031227dc741c63cf2791c6b4562">mx_path_resolve</a></div><div class="ttdeci">struct Mailbox * mx_path_resolve(const char *path)</div><div class="ttdoc">Get a Mailbox for a path. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01668">mx.c:1668</a></div></div>
<div class="ttc" id="context_8c_html_a438aad8b9b9193a15648a4f1f8039cfb"><div class="ttname"><a href="context_8c.html#a438aad8b9b9193a15648a4f1f8039cfb">ctx_free</a></div><div class="ttdeci">void ctx_free(struct Context **ptr)</div><div class="ttdoc">Free a Context. </div><div class="ttdef"><b>Definition:</b> <a href="context_8c_source.html#l00049">context.c:49</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="structListNode_html"><div class="ttname"><a href="structListNode.html">ListNode</a></div><div class="ttdoc">A List node for strings. </div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00034">list.h:34</a></div></div>
<div class="ttc" id="mxapi_8h_html_a9aa2964ccc101dbfdb11771b00b1de90"><div class="ttname"><a href="mxapi_8h.html#a9aa2964ccc101dbfdb11771b00b1de90">MUTT_NOSORT</a></div><div class="ttdeci">#define MUTT_NOSORT</div><div class="ttdoc">Do not sort the mailbox after opening it. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00061">mxapi.h:61</a></div></div>
<div class="ttc" id="postpone_8c_html_aad14aaca518d6c005ec318f14114d5ec"><div class="ttname"><a href="postpone_8c.html#aad14aaca518d6c005ec318f14114d5ec">mutt_prepare_template</a></div><div class="ttdeci">int mutt_prepare_template(FILE *fp, struct Mailbox *m, struct Email *e_new, struct Email *e, bool resend)</div><div class="ttdoc">Prepare a message template. </div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00737">postpone.c:737</a></div></div>
<div class="ttc" id="postpone_8c_html_aa4e2a5e4b76af37831e2fe0c2760e502"><div class="ttname"><a href="postpone_8c.html#aa4e2a5e4b76af37831e2fe0c2760e502">dlg_select_postponed_email</a></div><div class="ttdeci">static struct Email * dlg_select_postponed_email(struct Mailbox *m)</div><div class="ttdoc">Create a Menu to select a postponed message. </div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00315">postpone.c:315</a></div></div>
<div class="ttc" id="quad_8h_html_a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7"><div class="ttname"><a href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7">MUTT_YES</a></div><div class="ttdoc">User answered &amp;#39;Yes&amp;#39;, or assume &amp;#39;Yes&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="quad_8h_source.html#l00039">quad.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aacde94d20e952e822eac92e0fbf74682_cgraph.svg" width="627" height="1352"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aacde94d20e952e822eac92e0fbf74682_icgraph.svg" width="372" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a286933c50f193dd341ae2e6a015aeb67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a286933c50f193dd341ae2e6a015aeb67">&#9670;&nbsp;</a></span>mutt_parse_crypt_hdr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a> mutt_parse_crypt_hdr </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>set_empty_signas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a>&#160;</td>
          <td class="paramname"><em>crypt_app</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse a crypto header string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Header string to parse </td></tr>
    <tr><td class="paramname">set_empty_signas</td><td>Allow an empty "Sign as" </td></tr>
    <tr><td class="paramname">crypt_app</td><td>App, e.g. <a class="el" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af" title="Use PGP to encrypt/sign. ">APPLICATION_PGP</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">num</td><td>SecurityFlags, see <a class="el" href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d" title="Flags, e.g. SEC_ENCRYPT. ">SecurityFlags</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="postpone_8c_source.html#l00581">581</a> of file <a class="el" href="postpone_8c_source.html">postpone.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;{</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordtype">char</span> smime_cryptalg[1024] = { 0 };</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordtype">char</span> sign_as[1024] = { 0 };</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  <span class="keywordtype">char</span> *q = NULL;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  <a class="code" href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a> flags = <a class="code" href="ncrypt_2lib_8h.html#a95845954210adfc850d5602843f858d4">SEC_NO_FLAGS</a>;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a>)</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="ncrypt_2lib_8h.html#a95845954210adfc850d5602843f858d4">SEC_NO_FLAGS</a>;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  p = <a class="code" href="mutt_2string_8c.html#aa5fb929533630a48c6d2e893267ce208">mutt_str_skip_email_wsp</a>(p);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordflow">for</span> (; p[0] != <span class="charliteral">&#39;\0&#39;</span>; p++)</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  {</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">switch</span> (p[0])</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    {</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        q = smime_cryptalg;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordflow">if</span> (p[1] == <span class="charliteral">&#39;&lt;&#39;</span>)</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        {</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;          <span class="keywordflow">for</span> (p += 2; (p[0] != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (p[0] != <span class="charliteral">&#39;&gt;&#39;</span>) &amp;&amp;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                       (q &lt; (smime_cryptalg + <span class="keyword">sizeof</span>(smime_cryptalg) - 1));</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;               *q++ = *p++)</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;          {</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;          }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;          <span class="keywordflow">if</span> (p[0] != <span class="charliteral">&#39;&gt;&#39;</span>)</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;          {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Illegal S/MIME header&quot;</span>));</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ncrypt_2lib_8h.html#a95845954210adfc850d5602843f858d4">SEC_NO_FLAGS</a>;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;          }</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        }</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        *q = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>:</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        flags |= <a class="code" href="ncrypt_2lib_8h.html#aacaa4abd4c0696e260b7a0f1d466360a">SEC_ENCRYPT</a>;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        flags |= <a class="code" href="ncrypt_2lib_8h.html#a074f827472ad45f11ec1132cdfed2daf">SEC_INLINE</a>;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      <span class="comment">/* This used to be the micalg parameter.</span></div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;<span class="comment">       *</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;<span class="comment">       * It&#39;s no longer needed, so we just skip the parameter in order</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">       * to be able to recall old messages.  */</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>:</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>:</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">if</span> (p[1] != <span class="charliteral">&#39;&lt;&#39;</span>)</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">for</span> (p += 2; (p[0] != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (p[0] != <span class="charliteral">&#39;&gt;&#39;</span>); p++)</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;          ; <span class="comment">// do nothing</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span> (p[0] != <span class="charliteral">&#39;&gt;&#39;</span>)</div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        {</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;          <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Illegal crypto header&quot;</span>));</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="ncrypt_2lib_8h.html#a95845954210adfc850d5602843f858d4">SEC_NO_FLAGS</a>;</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        }</div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;o&#39;</span>:</div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        flags |= <a class="code" href="ncrypt_2lib_8h.html#a2fb0b0aa796d8d79a746001d09c2a2c7">SEC_OPPENCRYPT</a>;</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>:</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="preprocessor">#ifdef USE_AUTOCRYPT</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        flags |= <a class="code" href="ncrypt_2lib_8h.html#a0b36be5c32ca90d8f2caef9ea9d627fc">SEC_AUTOCRYPT</a>;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;z&#39;</span>:</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;Z&#39;</span>:</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="preprocessor">#ifdef USE_AUTOCRYPT</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        flags |= <a class="code" href="ncrypt_2lib_8h.html#ae0ce4a742538f3ee3e1bfbf143c794fb">SEC_AUTOCRYPT_OVERRIDE</a>;</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>:</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        flags |= <a class="code" href="ncrypt_2lib_8h.html#ae12c003463c99d28f65f1d6b8b053b2c">SEC_SIGN</a>;</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        q = sign_as;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordflow">if</span> (p[1] == <span class="charliteral">&#39;&lt;&#39;</span>)</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        {</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;          <span class="keywordflow">for</span> (p += 2;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;               (p[0] != <span class="charliteral">&#39;\0&#39;</span>) &amp;&amp; (*p != <span class="charliteral">&#39;&gt;&#39;</span>) &amp;&amp; (q &lt; (sign_as + <span class="keyword">sizeof</span>(sign_as) - 1));</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;               *q++ = *p++)</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;          {</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;          }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;          <span class="keywordflow">if</span> (p[0] != <span class="charliteral">&#39;&gt;&#39;</span>)</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;          {</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;            <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Illegal crypto header&quot;</span>));</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="ncrypt_2lib_8h.html#a95845954210adfc850d5602843f858d4">SEC_NO_FLAGS</a>;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;          }</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        q[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;      <span class="keywordflow">default</span>:</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Illegal crypto header&quot;</span>));</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="ncrypt_2lib_8h.html#a95845954210adfc850d5602843f858d4">SEC_NO_FLAGS</a>;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  <span class="comment">/* the cryptalg field must not be empty */</span></div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>) != 0) &amp;&amp; *smime_cryptalg)</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> errmsg = <a class="code" href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a>(0);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordtype">int</span> rc = <a class="code" href="subset_8c.html#a8d7d5e60bd8f7f0f8ffd8522de126b12">cs_subset_str_string_set</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;smime_encrypt_with&quot;</span>,</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                                      smime_cryptalg, &amp;errmsg);</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="set_8h.html#a8c1bfe87f83706f7d397c257401504f4">CSR_RESULT</a>(rc) != <a class="code" href="set_8h.html#ac9999a70a5f8e7cf64053a5f0861d329">CSR_SUCCESS</a>) &amp;&amp; !<a class="code" href="buffer_8c.html#a2d7c4a32422377609be66b0f620c4971">mutt_buffer_is_empty</a>(&amp;errmsg))</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;      <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;errmsg));</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a>(&amp;errmsg);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <span class="comment">/* Set {Smime,Pgp}SignAs, if desired. */</span></div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp; (crypt_app == APPLICATION_PGP) &amp;&amp;</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      (flags &amp; <a class="code" href="ncrypt_2lib_8h.html#ae12c003463c99d28f65f1d6b8b053b2c">SEC_SIGN</a>) &amp;&amp; (set_empty_signas || *sign_as))</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  {</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="subset_8c.html#a8d7d5e60bd8f7f0f8ffd8522de126b12">cs_subset_str_string_set</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;pgp_sign_as&quot;</span>, sign_as, NULL);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_SMIME) != 0) &amp;&amp; (crypt_app == APPLICATION_SMIME) &amp;&amp;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      (flags &amp; SEC_SIGN) &amp;&amp; (set_empty_signas || *sign_as))</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <a class="code" href="subset_8c.html#a8d7d5e60bd8f7f0f8ffd8522de126b12">cs_subset_str_string_set</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;smime_sign_as&quot;</span>, sign_as, NULL);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">return</span> flags;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div><div class="ttc" id="set_8h_html_ac9999a70a5f8e7cf64053a5f0861d329"><div class="ttname"><a href="set_8h.html#ac9999a70a5f8e7cf64053a5f0861d329">CSR_SUCCESS</a></div><div class="ttdeci">#define CSR_SUCCESS</div><div class="ttdoc">Action completed successfully. </div><div class="ttdef"><b>Definition:</b> <a href="set_8h_source.html#l00035">set.h:35</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00113">lib.h:113</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a95845954210adfc850d5602843f858d4"><div class="ttname"><a href="ncrypt_2lib_8h.html#a95845954210adfc850d5602843f858d4">SEC_NO_FLAGS</a></div><div class="ttdeci">#define SEC_NO_FLAGS</div><div class="ttdoc">No flags are set. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00074">lib.h:74</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_aacaa4abd4c0696e260b7a0f1d466360a"><div class="ttname"><a href="ncrypt_2lib_8h.html#aacaa4abd4c0696e260b7a0f1d466360a">SEC_ENCRYPT</a></div><div class="ttdeci">#define SEC_ENCRYPT</div><div class="ttdoc">Email is encrypted. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00075">lib.h:75</a></div></div>
<div class="ttc" id="buffer_8c_html_a0242aaa9a400d0722a99828776c0403b"><div class="ttname"><a href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a></div><div class="ttdeci">struct Buffer mutt_buffer_make(size_t size)</div><div class="ttdoc">Make a new buffer on the stack. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00061">buffer.c:61</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a0b36be5c32ca90d8f2caef9ea9d627fc"><div class="ttname"><a href="ncrypt_2lib_8h.html#a0b36be5c32ca90d8f2caef9ea9d627fc">SEC_AUTOCRYPT</a></div><div class="ttdeci">#define SEC_AUTOCRYPT</div><div class="ttdoc">(Autocrypt) Message will be, or was Autocrypt encrypt+signed </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00084">lib.h:84</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a2073a168ca3a64c3c30d13fa4917a05d"><div class="ttname"><a href="ncrypt_2lib_8h.html#a2073a168ca3a64c3c30d13fa4917a05d">SecurityFlags</a></div><div class="ttdeci">uint16_t SecurityFlags</div><div class="ttdoc">Flags, e.g. SEC_ENCRYPT. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00071">lib.h:71</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="set_8h_html_a8c1bfe87f83706f7d397c257401504f4"><div class="ttname"><a href="set_8h.html#a8c1bfe87f83706f7d397c257401504f4">CSR_RESULT</a></div><div class="ttdeci">#define CSR_RESULT(x)</div><div class="ttdef"><b>Definition:</b> <a href="set_8h_source.html#l00052">set.h:52</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a074f827472ad45f11ec1132cdfed2daf"><div class="ttname"><a href="ncrypt_2lib_8h.html#a074f827472ad45f11ec1132cdfed2daf">SEC_INLINE</a></div><div class="ttdeci">#define SEC_INLINE</div><div class="ttdoc">Email has an inline signature. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00082">lib.h:82</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="subset_8c_html_a8d7d5e60bd8f7f0f8ffd8522de126b12"><div class="ttname"><a href="subset_8c.html#a8d7d5e60bd8f7f0f8ffd8522de126b12">cs_subset_str_string_set</a></div><div class="ttdeci">int cs_subset_str_string_set(const struct ConfigSubset *sub, const char *name, const char *value, struct Buffer *err)</div><div class="ttdoc">Set a config item by string. </div><div class="ttdef"><b>Definition:</b> <a href="subset_8c_source.html#l00408">subset.c:408</a></div></div>
<div class="ttc" id="buffer_8c_html_a59b13bca38b1b314e2bc5ad142d2df49"><div class="ttname"><a href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a></div><div class="ttdeci">void mutt_buffer_dealloc(struct Buffer *buf)</div><div class="ttdoc">Release the memory allocated by a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00294">buffer.c:294</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a798dfac1e8839ca89375b4ec62b3eff2"><div class="ttname"><a href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a></div><div class="ttdeci">#define APPLICATION_SMIME</div><div class="ttdoc">Use SMIME to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00088">lib.h:88</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a587e679a4c9cc44f11f0c467bb22b0af"><div class="ttname"><a href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a></div><div class="ttdeci">#define APPLICATION_PGP</div><div class="ttdoc">Use PGP to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ae0ce4a742538f3ee3e1bfbf143c794fb"><div class="ttname"><a href="ncrypt_2lib_8h.html#ae0ce4a742538f3ee3e1bfbf143c794fb">SEC_AUTOCRYPT_OVERRIDE</a></div><div class="ttdeci">#define SEC_AUTOCRYPT_OVERRIDE</div><div class="ttdoc">(Autocrypt) Indicates manual set/unset of encryption </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00085">lib.h:85</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_aa5fb929533630a48c6d2e893267ce208"><div class="ttname"><a href="mutt_2string_8c.html#aa5fb929533630a48c6d2e893267ce208">mutt_str_skip_email_wsp</a></div><div class="ttdeci">char * mutt_str_skip_email_wsp(const char *s)</div><div class="ttdoc">Skip over whitespace as defined by RFC5322. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00776">string.c:776</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a2fb0b0aa796d8d79a746001d09c2a2c7"><div class="ttname"><a href="ncrypt_2lib_8h.html#a2fb0b0aa796d8d79a746001d09c2a2c7">SEC_OPPENCRYPT</a></div><div class="ttdeci">#define SEC_OPPENCRYPT</div><div class="ttdoc">Opportunistic encrypt mode. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00083">lib.h:83</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ae12c003463c99d28f65f1d6b8b053b2c"><div class="ttname"><a href="ncrypt_2lib_8h.html#ae12c003463c99d28f65f1d6b8b053b2c">SEC_SIGN</a></div><div class="ttdeci">#define SEC_SIGN</div><div class="ttdoc">Email is signed. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00076">lib.h:76</a></div></div>
<div class="ttc" id="logging_8h_html_acc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00084">logging.h:84</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="buffer_8c_html_a2d7c4a32422377609be66b0f620c4971"><div class="ttname"><a href="buffer_8c.html#a2d7c4a32422377609be66b0f620c4971">mutt_buffer_is_empty</a></div><div class="ttdeci">bool mutt_buffer_is_empty(const struct Buffer *buf)</div><div class="ttdoc">Is the Buffer empty? </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00252">buffer.c:252</a></div></div>
</div><!-- fragment --><div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a286933c50f193dd341ae2e6a015aeb67_cgraph.svg" width="411" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a286933c50f193dd341ae2e6a015aeb67_icgraph.svg" width="379" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a42853d2d4da10271644dc7083ae1c453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42853d2d4da10271644dc7083ae1c453">&#9670;&nbsp;</a></span>mutt_num_postponed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_num_postponed </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the number of postponed messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td>currently selected mailbox </td></tr>
    <tr><td class="paramname">force</td><td><ul>
<li>false Use a cached value if costly to get a fresh count (IMAP)</li>
<li>true Force check </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">num</td><td>Postponed messages </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="postpone_8c_source.html#l00128">128</a> of file <a class="el" href="postpone_8c_source.html">postpone.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keyword">struct </span>stat st;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keyword">static</span> time_t LastModify = 0;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">char</span> *OldPostponed = NULL;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="postpone_8c.html#a8991434073950f6fc6d2e8d9061fdd75">UpdateNumPostponed</a>)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <a class="code" href="postpone_8c.html#a8991434073950f6fc6d2e8d9061fdd75">UpdateNumPostponed</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    force = <span class="keyword">true</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_postponed = <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;postponed&quot;</span>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(c_postponed, OldPostponed))</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;OldPostponed);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    OldPostponed = <a class="code" href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a>(c_postponed);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    LastModify = 0;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    force = <span class="keyword">true</span>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="keywordflow">if</span> (!c_postponed)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="comment">// We currently are in the `$postponed` mailbox so just pick the current status</span></div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (m &amp;&amp; <a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(c_postponed, m-&gt;<a class="code" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>))</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> - m-&gt;<a class="code" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a>;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a>;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor">#ifdef USE_IMAP</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="comment">/* LastModify is useless for IMAP */</span></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="imap_8c.html#ab4f27af8eb857a20834f445be3f498de">imap_path_probe</a>(c_postponed, NULL) == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a>)</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  {</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (force)</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <span class="keywordtype">short</span> newpc;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      newpc = <a class="code" href="imap_8c.html#a0d5f24d9ba8d3ef9e95134cae1198408">imap_path_status</a>(c_postponed, <span class="keyword">false</span>);</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span> (newpc &gt;= 0)</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = newpc;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;%d postponed IMAP messages found\n&quot;</span>, <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a>);</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;      }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;using old IMAP postponed count\n&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    }</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a>;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (stat(c_postponed, &amp;st) == -1)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = 0;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    LastModify = 0;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="keywordflow">if</span> (S_ISDIR(st.st_mode))</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">/* if we have a maildir mailbox, we need to stat the &quot;new&quot; dir */</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> *buf = <a class="code" href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(buf, <span class="stringliteral">&quot;%s/new&quot;</span>, c_postponed);</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">if</span> ((access(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(buf), F_OK) == 0) &amp;&amp;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        (stat(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(buf), &amp;st) == -1))</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = 0;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      LastModify = 0;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;buf);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a>(&amp;buf);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span> (LastModify &lt; st.st_mtime)</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  {</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">#ifdef USE_NNTP</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordtype">int</span> optnews = <a class="code" href="options_8h.html#af2eca43762de7e23e0466ffc0e364780">OptNews</a>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    LastModify = st.st_mtime;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">if</span> (access(c_postponed, R_OK | F_OK) != 0)</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = 0;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="preprocessor">#ifdef USE_NNTP</span></div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">if</span> (optnews)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <a class="code" href="options_8h.html#af2eca43762de7e23e0466ffc0e364780">OptNews</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keyword">struct </span><a class="code" href="structMailbox.html">Mailbox</a> *m_post = <a class="code" href="mx_8c.html#ab437d031227dc741c63cf2791c6b4562">mx_path_resolve</a>(c_postponed);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mx_8c.html#a6c4f4c51fa0b086d86a8638197c40578">mx_mbox_open</a>(m_post, <a class="code" href="mxapi_8h.html#a9aa2964ccc101dbfdb11771b00b1de90">MUTT_NOSORT</a> | <a class="code" href="mxapi_8h.html#a75f314042a266df29efcc524d35c4b2d">MUTT_QUIET</a>))</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    {</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = m_post-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;      <a class="code" href="mailbox_8c.html#aba915aae97477d1ecc6428a06f92dac9">mailbox_free</a>(&amp;m_post);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a> = 0;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    }</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="mx_8c.html#ac883dc0d1391457ac62efe762067a544">mx_fastclose_mailbox</a>(m_post);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="preprocessor">#ifdef USE_NNTP</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordflow">if</span> (optnews)</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <a class="code" href="options_8h.html#af2eca43762de7e23e0466ffc0e364780">OptNews</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;}</div><div class="ttc" id="mutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00904">string.c:904</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="mx_8c_html_a6c4f4c51fa0b086d86a8638197c40578"><div class="ttname"><a href="mx_8c.html#a6c4f4c51fa0b086d86a8638197c40578">mx_mbox_open</a></div><div class="ttdeci">bool mx_mbox_open(struct Mailbox *m, OpenMailboxFlags flags)</div><div class="ttdoc">Open a mailbox and parse it. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l00304">mx.c:304</a></div></div>
<div class="ttc" id="pool_8c_html_a2129d5ea0085753afdd37cf62161845d"><div class="ttname"><a href="pool_8c.html#a2129d5ea0085753afdd37cf62161845d">mutt_buffer_pool_get</a></div><div class="ttdeci">struct Buffer * mutt_buffer_pool_get(void)</div><div class="ttdoc">Get a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00101">pool.c:101</a></div></div>
<div class="ttc" id="imap_8c_html_a0d5f24d9ba8d3ef9e95134cae1198408"><div class="ttname"><a href="imap_8c.html#a0d5f24d9ba8d3ef9e95134cae1198408">imap_path_status</a></div><div class="ttdeci">int imap_path_status(const char *path, bool queue)</div><div class="ttdoc">Refresh the number of total and new messages. </div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l01233">imap.c:1233</a></div></div>
<div class="ttc" id="imap_8c_html_ab4f27af8eb857a20834f445be3f498de"><div class="ttname"><a href="imap_8c.html#ab4f27af8eb857a20834f445be3f498de">imap_path_probe</a></div><div class="ttdeci">enum MailboxType imap_path_probe(const char *path, const struct stat *st)</div><div class="ttdoc">Is this an IMAP Mailbox? - Implements MxOps::path_probe() </div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l02400">imap.c:2400</a></div></div>
<div class="ttc" id="structMailbox_html_ab5863d8f516c6db52e2fadb531bf8557"><div class="ttname"><a href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">Mailbox::msg_deleted</a></div><div class="ttdeci">int msg_deleted</div><div class="ttdoc">Number of deleted messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00096">mailbox.h:96</a></div></div>
<div class="ttc" id="structMailbox_html_a1f36c27b2c78a6c7c216e3aca9f0c89f"><div class="ttname"><a href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">Mailbox::realpath</a></div><div class="ttdeci">char * realpath</div><div class="ttdoc">Used for duplicate detection, context comparison, and the sidebar. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00084">mailbox.h:84</a></div></div>
<div class="ttc" id="pool_8c_html_a08b48e2ac8849341888ee7429cc5093c"><div class="ttname"><a href="pool_8c.html#a08b48e2ac8849341888ee7429cc5093c">mutt_buffer_pool_release</a></div><div class="ttdeci">void mutt_buffer_pool_release(struct Buffer **pbuf)</div><div class="ttdoc">Free a Buffer from the pool. </div><div class="ttdef"><b>Definition:</b> <a href="pool_8c_source.html#l00112">pool.c:112</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a4c2560f787bd1226b977992c16860c98"><div class="ttname"><a href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00370">string.c:370</a></div></div>
<div class="ttc" id="buffer_8c_html_ad057ee239ae5bcfd72cab3749036ab02"><div class="ttname"><a href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a></div><div class="ttdeci">int mutt_buffer_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00160">buffer.c:160</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="mailbox_8c_html_aba915aae97477d1ecc6428a06f92dac9"><div class="ttname"><a href="mailbox_8c.html#aba915aae97477d1ecc6428a06f92dac9">mailbox_free</a></div><div class="ttdeci">void mailbox_free(struct Mailbox **ptr)</div><div class="ttdoc">Free a Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8c_source.html#l00087">mailbox.c:87</a></div></div>
<div class="ttc" id="mx_8c_html_ac883dc0d1391457ac62efe762067a544"><div class="ttname"><a href="mx_8c.html#ac883dc0d1391457ac62efe762067a544">mx_fastclose_mailbox</a></div><div class="ttdeci">void mx_fastclose_mailbox(struct Mailbox *m)</div><div class="ttdoc">free up memory associated with the Mailbox </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l00429">mx.c:429</a></div></div>
<div class="ttc" id="structMailbox_html"><div class="ttname"><a href="structMailbox.html">Mailbox</a></div><div class="ttdoc">A mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00081">mailbox.h:81</a></div></div>
<div class="ttc" id="postpone_8c_html_a813a6eba284cc0eb882c66dcc4a9ba31"><div class="ttname"><a href="postpone_8c.html#a813a6eba284cc0eb882c66dcc4a9ba31">PostCount</a></div><div class="ttdeci">static short PostCount</div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00117">postpone.c:117</a></div></div>
<div class="ttc" id="helpers_8c_html_ac477c591155aa4ae0452bbabc0affffe"><div class="ttname"><a href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00295">helpers.c:295</a></div></div>
<div class="ttc" id="mxapi_8h_html_a75f314042a266df29efcc524d35c4b2d"><div class="ttname"><a href="mxapi_8h.html#a75f314042a266df29efcc524d35c4b2d">MUTT_QUIET</a></div><div class="ttdeci">#define MUTT_QUIET</div><div class="ttdoc">Do not print any messages. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00064">mxapi.h:64</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="mx_8c_html_ab437d031227dc741c63cf2791c6b4562"><div class="ttname"><a href="mx_8c.html#ab437d031227dc741c63cf2791c6b4562">mx_path_resolve</a></div><div class="ttdeci">struct Mailbox * mx_path_resolve(const char *path)</div><div class="ttdoc">Get a Mailbox for a path. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01668">mx.c:1668</a></div></div>
<div class="ttc" id="postpone_8c_html_a8991434073950f6fc6d2e8d9061fdd75"><div class="ttname"><a href="postpone_8c.html#a8991434073950f6fc6d2e8d9061fdd75">UpdateNumPostponed</a></div><div class="ttdeci">static bool UpdateNumPostponed</div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00118">postpone.c:118</a></div></div>
<div class="ttc" id="logging_8h_html_ae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00081">logging.h:81</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="mxapi_8h_html_a9aa2964ccc101dbfdb11771b00b1de90"><div class="ttname"><a href="mxapi_8h.html#a9aa2964ccc101dbfdb11771b00b1de90">MUTT_NOSORT</a></div><div class="ttdeci">#define MUTT_NOSORT</div><div class="ttdoc">Do not sort the mailbox after opening it. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00061">mxapi.h:61</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da7f541a03089370b1a260e344f8d1809b">MUTT_IMAP</a></div><div class="ttdoc">&amp;#39;IMAP&amp;#39; Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00053">mailbox.h:53</a></div></div>
<div class="ttc" id="options_8h_html_af2eca43762de7e23e0466ffc0e364780"><div class="ttname"><a href="options_8h.html#af2eca43762de7e23e0466ffc0e364780">OptNews</a></div><div class="ttdeci">WHERE bool OptNews</div><div class="ttdoc">(pseudo) used to change reader mode </div><div class="ttdef"><b>Definition:</b> <a href="options_8h_source.html#l00044">options.h:44</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a></div><div class="ttdoc">Log at debug level 3. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00042">logging.h:42</a></div></div>
</div><!-- fragment --><div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a42853d2d4da10271644dc7083ae1c453_cgraph.svg" width="807" height="644"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a42853d2d4da10271644dc7083ae1c453_icgraph.svg" width="380" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab0b3fdf72da46166bf7d6866dbfc0c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b3fdf72da46166bf7d6866dbfc0c09">&#9670;&nbsp;</a></span>mutt_thread_set_flag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_thread_set_flag </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013">MessageType</a>&#160;</td>
          <td class="paramname"><em>flag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>subthread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a flag on an entire thread. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">e</td><td><a class="el" href="structEmail.html" title="The envelope/body of an email. ">Email</a> </td></tr>
    <tr><td class="paramname">flag</td><td>Flag to set, e.g. <a class="el" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013acf5b4fe7fd417be2beaa75728ba8dabf" title="Messages to be deleted. ">MUTT_DELETE</a> </td></tr>
    <tr><td class="paramname">bf</td><td>true: set the flag; false: clear the flag </td></tr>
    <tr><td class="paramname">subthread</td><td>If true apply to all of the thread </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="flags_8c_source.html#l00374">374</a> of file <a class="el" href="flags_8c_source.html">flags.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;{</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMuttThread.html">MuttThread</a> *start = NULL;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMuttThread.html">MuttThread</a> *cur = e-&gt;<a class="code" href="structEmail.html#af7fd9d5febf878edc4b6965ec40f312e">thread</a>;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">short</span> c_sort = <a class="code" href="helpers_8c.html#af7f3de51c3c2f5b8f527f40c8397a3fc">cs_subset_sort</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;sort&quot;</span>);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span> ((c_sort &amp; <a class="code" href="sort2_8h.html#a971f7b510c659c9c197c6c3f50714eb5">SORT_MASK</a>) != <a class="code" href="sort2_8h.html#ad7fca38b521558f128d4a566729f5803a3d3a856fe8658ee6a706804bf5d91758">SORT_THREADS</a>)</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;  {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Threading is not enabled&quot;</span>));</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  }</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordflow">if</span> (!subthread)</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">while</span> (cur-&gt;<a class="code" href="structMuttThread.html#a39d5bb1957cb943617225ff5efb9f55c">parent</a>)</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;      cur = cur-&gt;<a class="code" href="structMuttThread.html#a39d5bb1957cb943617225ff5efb9f55c">parent</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  start = cur;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="structMuttThread.html#a76cec751739177388526fb9ae65b7383">message</a> &amp;&amp; (cur != e-&gt;<a class="code" href="structEmail.html#af7fd9d5febf878edc4b6965ec40f312e">thread</a>))</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, cur-&gt;<a class="code" href="structMuttThread.html#a76cec751739177388526fb9ae65b7383">message</a>, flag, bf);</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  cur = cur-&gt;<a class="code" href="structMuttThread.html#a7067492dadd86f81def9036474086211">child</a>;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordflow">if</span> (!cur)</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  {</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="structMuttThread.html#a76cec751739177388526fb9ae65b7383">message</a> &amp;&amp; (cur != e-&gt;<a class="code" href="structEmail.html#af7fd9d5febf878edc4b6965ec40f312e">thread</a>))</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;      <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, cur-&gt;<a class="code" href="structMuttThread.html#a76cec751739177388526fb9ae65b7383">message</a>, flag, bf);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="structMuttThread.html#a7067492dadd86f81def9036474086211">child</a>)</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;      cur = cur-&gt;<a class="code" href="structMuttThread.html#a7067492dadd86f81def9036474086211">child</a>;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="structMuttThread.html#aee5a1652f34056b764d12844e15f4345">next</a>)</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;      cur = cur-&gt;<a class="code" href="structMuttThread.html#aee5a1652f34056b764d12844e15f4345">next</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;      <span class="keywordflow">while</span> (!cur-&gt;<a class="code" href="structMuttThread.html#aee5a1652f34056b764d12844e15f4345">next</a>)</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;      {</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        cur = cur-&gt;<a class="code" href="structMuttThread.html#a39d5bb1957cb943617225ff5efb9f55c">parent</a>;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        <span class="keywordflow">if</span> (cur == start)</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;          <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      cur = cur-&gt;<a class="code" href="structMuttThread.html#aee5a1652f34056b764d12844e15f4345">next</a>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  }</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;done:</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  cur = e-&gt;<a class="code" href="structEmail.html#af7fd9d5febf878edc4b6965ec40f312e">thread</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (cur-&gt;<a class="code" href="structMuttThread.html#a76cec751739177388526fb9ae65b7383">message</a>)</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, cur-&gt;<a class="code" href="structMuttThread.html#a76cec751739177388526fb9ae65b7383">message</a>, flag, bf);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;}</div><div class="ttc" id="structMuttThread_html_aee5a1652f34056b764d12844e15f4345"><div class="ttname"><a href="structMuttThread.html#aee5a1652f34056b764d12844e15f4345">MuttThread::next</a></div><div class="ttdeci">struct MuttThread * next</div><div class="ttdoc">Next sibling Thread. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00047">thread.h:47</a></div></div>
<div class="ttc" id="protos_8h_html_a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"><div class="ttname"><a href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a></div><div class="ttdeci">#define mutt_set_flag(m, e, flag, bf)</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00066">protos.h:66</a></div></div>
<div class="ttc" id="structEmail_html_af7fd9d5febf878edc4b6965ec40f312e"><div class="ttname"><a href="structEmail.html#af7fd9d5febf878edc4b6965ec40f312e">Email::thread</a></div><div class="ttdeci">struct MuttThread * thread</div><div class="ttdoc">Thread of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00095">email.h:95</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="structMuttThread_html_a39d5bb1957cb943617225ff5efb9f55c"><div class="ttname"><a href="structMuttThread.html#a39d5bb1957cb943617225ff5efb9f55c">MuttThread::parent</a></div><div class="ttdeci">struct MuttThread * parent</div><div class="ttdoc">Parent of this Thread. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00045">thread.h:45</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="helpers_8c_html_af7f3de51c3c2f5b8f527f40c8397a3fc"><div class="ttname"><a href="helpers_8c.html#af7f3de51c3c2f5b8f527f40c8397a3fc">cs_subset_sort</a></div><div class="ttdeci">short cs_subset_sort(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a sort config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00272">helpers.c:272</a></div></div>
<div class="ttc" id="structMuttThread_html_a7067492dadd86f81def9036474086211"><div class="ttname"><a href="structMuttThread.html#a7067492dadd86f81def9036474086211">MuttThread::child</a></div><div class="ttdeci">struct MuttThread * child</div><div class="ttdoc">Child of this Thread. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00046">thread.h:46</a></div></div>
<div class="ttc" id="sort2_8h_html_ad7fca38b521558f128d4a566729f5803a3d3a856fe8658ee6a706804bf5d91758"><div class="ttname"><a href="sort2_8h.html#ad7fca38b521558f128d4a566729f5803a3d3a856fe8658ee6a706804bf5d91758">SORT_THREADS</a></div><div class="ttdoc">Sort by email threads. </div><div class="ttdef"><b>Definition:</b> <a href="sort2_8h_source.html#l00049">sort2.h:49</a></div></div>
<div class="ttc" id="structMuttThread_html_a76cec751739177388526fb9ae65b7383"><div class="ttname"><a href="structMuttThread.html#a76cec751739177388526fb9ae65b7383">MuttThread::message</a></div><div class="ttdeci">struct Email * message</div><div class="ttdoc">Email this Thread refers to. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00049">thread.h:49</a></div></div>
<div class="ttc" id="structMuttThread_html"><div class="ttname"><a href="structMuttThread.html">MuttThread</a></div><div class="ttdoc">An Email conversation. </div><div class="ttdef"><b>Definition:</b> <a href="thread_8h_source.html#l00034">thread.h:34</a></div></div>
<div class="ttc" id="logging_8h_html_acc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00084">logging.h:84</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="sort2_8h_html_a971f7b510c659c9c197c6c3f50714eb5"><div class="ttname"><a href="sort2_8h.html#a971f7b510c659c9c197c6c3f50714eb5">SORT_MASK</a></div><div class="ttdeci">#define SORT_MASK</div><div class="ttdoc">Mask for the sort id. </div><div class="ttdef"><b>Definition:</b> <a href="sort2_8h_source.html#l00078">sort2.h:78</a></div></div>
</div><!-- fragment --><div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ab0b3fdf72da46166bf7d6866dbfc0c09_cgraph.svg" width="338" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_ab0b3fdf72da46166bf7d6866dbfc0c09_icgraph.svg" width="359" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6d6fb2f03b78be714443316f335c90ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d6fb2f03b78be714443316f335c90ae">&#9670;&nbsp;</a></span>mutt_update_num_postponed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_update_num_postponed </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force the update of the number of postponed messages. </p>

<p class="definition">Definition at line <a class="el" href="postpone_8c_source.html#l00241">241</a> of file <a class="el" href="postpone_8c_source.html">postpone.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <a class="code" href="postpone_8c.html#a8991434073950f6fc6d2e8d9061fdd75">UpdateNumPostponed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;}</div><div class="ttc" id="postpone_8c_html_a8991434073950f6fc6d2e8d9061fdd75"><div class="ttname"><a href="postpone_8c.html#a8991434073950f6fc6d2e8d9061fdd75">UpdateNumPostponed</a></div><div class="ttdeci">static bool UpdateNumPostponed</div><div class="ttdef"><b>Definition:</b> <a href="postpone_8c_source.html#l00118">postpone.c:118</a></div></div>
</div><!-- fragment --><div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a6d6fb2f03b78be714443316f335c90ae_icgraph.svg" width="434" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a71013cf83012028712c1469e5fdacf70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71013cf83012028712c1469e5fdacf70">&#9670;&nbsp;</a></span>mutt_is_quote_line()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_is_quote_line </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">regmatch_t *&#160;</td>
          <td class="paramname"><em>pmatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Is a line of message text a quote? </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">line</td><td><a class="el" href="structLine.html" title="A line of text in the pager. ">Line</a> to test </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pmatch</td><td><a class="el" href="structRegex.html" title="Cached regular expression. ">Regex</a> sub-matches </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td><a class="el" href="structLine.html" title="A line of text in the pager. ">Line</a> is quoted</td></tr>
  </table>
  </dd>
</dl>
<p>Checks if line matches the <code>$quote_regex</code> and doesn't match <code>$smileys</code>. This is used by the pager for calling classify_quote. </p>

<p class="definition">Definition at line <a class="el" href="dlg__pager_8c_source.html#l00968">968</a> of file <a class="el" href="dlg__pager_8c_source.html">dlg_pager.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;{</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordtype">bool</span> is_quote = <span class="keyword">false</span>;</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structRegex.html">Regex</a> *c_smileys = <a class="code" href="helpers_8c.html#ae5ccc8068dd017455c38dd01982f7908">cs_subset_regex</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;smileys&quot;</span>);</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;  regmatch_t pmatch_internal[1], smatch[1];</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordflow">if</span> (!pmatch)</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    pmatch = pmatch_internal;</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structRegex.html">Regex</a> *c_quote_regex =</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      <a class="code" href="helpers_8c.html#ae5ccc8068dd017455c38dd01982f7908">cs_subset_regex</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;quote_regex&quot;</span>);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mutt_2regex_8c.html#a45a90a0b1de4365be463061b6ac0bc36">mutt_regex_capture</a>(c_quote_regex, line, 1, pmatch))</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mutt_2regex_8c.html#a45a90a0b1de4365be463061b6ac0bc36">mutt_regex_capture</a>(c_smileys, line, 1, smatch))</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    {</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <span class="keywordflow">if</span> (smatch[0].rm_so &gt; 0)</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;      {</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="keywordtype">char</span> c = line[smatch[0].rm_so];</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        line[smatch[0].rm_so] = 0;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mutt_2regex_8c.html#a45a90a0b1de4365be463061b6ac0bc36">mutt_regex_capture</a>(c_quote_regex, line, 1, pmatch))</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;          is_quote = <span class="keyword">true</span>;</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;        line[smatch[0].rm_so] = c;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;      }</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;    }</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      is_quote = <span class="keyword">true</span>;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  }</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordflow">return</span> is_quote;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;}</div><div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="helpers_8c_html_ae5ccc8068dd017455c38dd01982f7908"><div class="ttname"><a href="helpers_8c.html#ae5ccc8068dd017455c38dd01982f7908">cs_subset_regex</a></div><div class="ttdeci">const struct Regex * cs_subset_regex(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a regex config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00227">helpers.c:227</a></div></div>
<div class="ttc" id="mutt_2regex_8c_html_a45a90a0b1de4365be463061b6ac0bc36"><div class="ttname"><a href="mutt_2regex_8c.html#a45a90a0b1de4365be463061b6ac0bc36">mutt_regex_capture</a></div><div class="ttdeci">bool mutt_regex_capture(const struct Regex *regex, const char *str, size_t nmatch, regmatch_t matches[])</div><div class="ttdoc">match a regex against a string, with provided options </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2regex_8c_source.html#l00596">regex.c:596</a></div></div>
<div class="ttc" id="structRegex_html"><div class="ttname"><a href="structRegex.html">Regex</a></div><div class="ttdoc">Cached regular expression. </div><div class="ttdef"><b>Definition:</b> <a href="regex3_8h_source.html#l00089">regex3.h:89</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a71013cf83012028712c1469e5fdacf70_cgraph.svg" width="359" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_a71013cf83012028712c1469e5fdacf70_icgraph.svg" width="382" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aece8f8a0bf2359e8f8cfc6b7c9f6303f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aece8f8a0bf2359e8f8cfc6b7c9f6303f">&#9670;&nbsp;</a></span>wcscasecmp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wcscasecmp </td>
          <td>(</td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const wchar_t *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compare two wide-character strings, ignoring case. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>First string </td></tr>
    <tr><td class="paramname">b</td><td>Second string </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">-1</td><td>a precedes b </td></tr>
    <tr><td class="paramname">0</td><td>a and b are identical </td></tr>
    <tr><td class="paramname">1</td><td>b precedes a </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="wcscasecmp_8c_source.html#l00041">41</a> of file <a class="el" href="wcscasecmp_8c_source.html">wcscasecmp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <span class="keywordflow">if</span> (!a &amp;&amp; !b)</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="keywordflow">if</span> (!a &amp;&amp; b)</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keywordflow">if</span> (a &amp;&amp; !b)</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordflow">for</span> (; *a || *b; a++, b++)</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">int</span> i = towlower(*a);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">if</span> ((i - towlower(*b)) != 0)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keywordflow">return</span> i;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;  }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div></div><!-- fragment --><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="protos_8h_aece8f8a0bf2359e8f8cfc6b7c9f6303f_icgraph.svg" width="307" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a296baf961ccb5bdc1ea1c9692e9a5d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296baf961ccb5bdc1ea1c9692e9a5d0c">&#9670;&nbsp;</a></span>mutt_reply_observer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_reply_observer </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNotifyCallback.html">NotifyCallback</a> *&#160;</td>
          <td class="paramname"><em>nc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
