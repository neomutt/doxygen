<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: nntp/private.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2021-02-05-647-g5d4e00</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nntp_2private_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">private.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Usenet network mailbox type; talk to an NNTP server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="nntp_2lib_8h_source.html">lib.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for private.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h__incl.svg" width="195" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h__dep__incl.svg" width="502" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="nntp_2private_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aaccdd399473f113674cbabfeaa5ef972"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#aaccdd399473f113674cbabfeaa5ef972">NNTP_PORT</a>&#160;&#160;&#160;119</td></tr>
<tr class="separator:aaccdd399473f113674cbabfeaa5ef972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e2acdcc22ea61457b4dcafc8825aae5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a1e2acdcc22ea61457b4dcafc8825aae5">NNTP_SSL_PORT</a>&#160;&#160;&#160;563</td></tr>
<tr class="separator:a1e2acdcc22ea61457b4dcafc8825aae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a30e5c5a44ecbd929699e93d887f39f6f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6f">NntpStatus</a> { <a class="el" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a> = 0, 
<a class="el" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>, 
<a class="el" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a>
 }<tr class="memdesc:a30e5c5a44ecbd929699e93d887f39f6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">NNTP server return values.  <a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6f">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a30e5c5a44ecbd929699e93d887f39f6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac5290f190dba237467e63bd09ddc28c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#ac5290f190dba237467e63bd09ddc28c0">nntp_acache_free</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:ac5290f190dba237467e63bd09ddc28c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all temporarily cache files.  <a href="#ac5290f190dba237467e63bd09ddc28c0">More...</a><br /></td></tr>
<tr class="separator:ac5290f190dba237467e63bd09ddc28c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b8319b59b7ef6de942cd25400e0d79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:aa8b8319b59b7ef6de942cd25400e0d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save list of all newsgroups to cache.  <a href="#aa8b8319b59b7ef6de942cd25400e0d79">More...</a><br /></td></tr>
<tr class="separator:aa8b8319b59b7ef6de942cd25400e0d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a81ebd8f2d0f68109bddeef2c87ea83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a> (char *line, void *data)</td></tr>
<tr class="memdesc:a4a81ebd8f2d0f68109bddeef2c87ea83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse newsgroup.  <a href="#a4a81ebd8f2d0f68109bddeef2c87ea83">More...</a><br /></td></tr>
<tr class="separator:a4a81ebd8f2d0f68109bddeef2c87ea83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2a364d853a786fb0b224c379d28eab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a3a2a364d853a786fb0b224c379d28eab">nntp_article_status</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structEmail.html">Email</a> *e, char *group, <a class="el" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> anum)</td></tr>
<tr class="memdesc:a3a2a364d853a786fb0b224c379d28eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get status of articles from .newsrc.  <a href="#a3a2a364d853a786fb0b224c379d28eab">More...</a><br /></td></tr>
<tr class="separator:a3a2a364d853a786fb0b224c379d28eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab103e38d32e64122d7892f29eeb67fcf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#ab103e38d32e64122d7892f29eeb67fcf">nntp_bcache_update</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:ab103e38d32e64122d7892f29eeb67fcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove stale cached messages.  <a href="#ab103e38d32e64122d7892f29eeb67fcf">More...</a><br /></td></tr>
<tr class="separator:ab103e38d32e64122d7892f29eeb67fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f4ed64d09034fa97562c2976d80d614"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a1f4ed64d09034fa97562c2976d80d614">nntp_check_new_groups</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a1f4ed64d09034fa97562c2976d80d614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check for new groups/articles in subscribed groups.  <a href="#a1f4ed64d09034fa97562c2976d80d614">More...</a><br /></td></tr>
<tr class="separator:a1f4ed64d09034fa97562c2976d80d614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a140bf8e49e3f11e0d9cb4d8253767819"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:a140bf8e49e3f11e0d9cb4d8253767819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove hcache and bcache of newsgroup.  <a href="#a140bf8e49e3f11e0d9cb4d8253767819">More...</a><br /></td></tr>
<tr class="separator:a140bf8e49e3f11e0d9cb4d8253767819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab375e79092001683947b61e4079db8c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:ab375e79092001683947b61e4079db8c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count number of unread articles using .newsrc data.  <a href="#ab375e79092001683947b61e4079db8c0">More...</a><br /></td></tr>
<tr class="separator:ab375e79092001683947b61e4079db8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6878e3c1f4e9732730a98a1fdda431e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a6878e3c1f4e9732730a98a1fdda431e7">nntp_hash_destructor_t</a> (int type, void *obj, intptr_t data)</td></tr>
<tr class="separator:a6878e3c1f4e9732730a98a1fdda431e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0875a3a6254736262cb62517ebcbf5b9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a0875a3a6254736262cb62517ebcbf5b9">nntp_hashelem_free</a> (int type, void *obj, intptr_t data)</td></tr>
<tr class="memdesc:a0875a3a6254736262cb62517ebcbf5b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free our hash table data - Implements <a class="el" href="hash_8h.html#a984643f7b9b40f093ad3d6335b7a5118" title="Prototype for Hash Destructor callback function. ">hash_hdata_free_t</a>.  <a href="#a0875a3a6254736262cb62517ebcbf5b9">More...</a><br /></td></tr>
<tr class="separator:a0875a3a6254736262cb62517ebcbf5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d95064a7efb66e51bfde2c8b12aff7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#ad8d95064a7efb66e51bfde2c8b12aff7">nntp_hcache_open</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata)</td></tr>
<tr class="memdesc:ad8d95064a7efb66e51bfde2c8b12aff7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open newsgroup hcache.  <a href="#ad8d95064a7efb66e51bfde2c8b12aff7">More...</a><br /></td></tr>
<tr class="separator:ad8d95064a7efb66e51bfde2c8b12aff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25f479090028437bbd1cc59a08942112"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a25f479090028437bbd1cc59a08942112">nntp_hcache_update</a> (struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *mdata, struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *hc)</td></tr>
<tr class="memdesc:a25f479090028437bbd1cc59a08942112"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove stale cached headers.  <a href="#a25f479090028437bbd1cc59a08942112">More...</a><br /></td></tr>
<tr class="separator:a25f479090028437bbd1cc59a08942112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d6dfb74310c442a524deed9579395a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#a21d6dfb74310c442a524deed9579395a">nntp_newsrc_gen_entries</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:a21d6dfb74310c442a524deed9579395a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate array of .newsrc entries.  <a href="#a21d6dfb74310c442a524deed9579395a">More...</a><br /></td></tr>
<tr class="separator:a21d6dfb74310c442a524deed9579395a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc4e8951366a6bf81d5d4d4ecf5ad4ba"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2private_8h.html#abc4e8951366a6bf81d5d4d4ecf5ad4ba">nntp_open_connection</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:abc4e8951366a6bf81d5d4d4ecf5ad4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect to server, authenticate and get capabilities.  <a href="#abc4e8951366a6bf81d5d4d4ecf5ad4ba">More...</a><br /></td></tr>
<tr class="separator:abc4e8951366a6bf81d5d4d4ecf5ad4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Usenet network mailbox type; talk to an NNTP server. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Richard Russon</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="aaccdd399473f113674cbabfeaa5ef972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaccdd399473f113674cbabfeaa5ef972">&#9670;&nbsp;</a></span>NNTP_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NNTP_PORT&#160;&#160;&#160;119</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2private_8h_source.html#l00036">36</a> of file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>

</div>
</div>
<a id="a1e2acdcc22ea61457b4dcafc8825aae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e2acdcc22ea61457b4dcafc8825aae5">&#9670;&nbsp;</a></span>NNTP_SSL_PORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NNTP_SSL_PORT&#160;&#160;&#160;563</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2private_8h_source.html#l00037">37</a> of file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a30e5c5a44ecbd929699e93d887f39f6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e5c5a44ecbd929699e93d887f39f6f">&#9670;&nbsp;</a></span>NntpStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6f">NntpStatus</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>NNTP server return values. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c"></a>NNTP_NONE&#160;</td><td class="fielddoc"><p>No connection to server. </p>
</td></tr>
<tr><td class="fieldname"><a id="a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03"></a>NNTP_OK&#160;</td><td class="fielddoc"><p>Connected to server. </p>
</td></tr>
<tr><td class="fieldname"><a id="a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0"></a>NNTP_BYE&#160;</td><td class="fielddoc"><p>Disconnected from server. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="nntp_2private_8h_source.html#l00042">42</a> of file <a class="el" href="nntp_2private_8h_source.html">private.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a> = 0, </div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>,       </div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a>,      </div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;};</div><div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a></div><div class="ttdoc">Disconnected from server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00046">private.h:46</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a></div><div class="ttdoc">Connected to server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00045">private.h:45</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a></div><div class="ttdoc">No connection to server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00044">private.h:44</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac5290f190dba237467e63bd09ddc28c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5290f190dba237467e63bd09ddc28c0">&#9670;&nbsp;</a></span>nntp_acache_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_acache_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td>
          <td class="paramname"><em>mdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all temporarily cache files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00102">102</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="nntp_2lib_8h.html#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a>; i++)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">acache</a>[i].<a class="code" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      unlink(mdata-&gt;<a class="code" href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">acache</a>[i].<a class="code" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">acache</a>[i].<a class="code" href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">path</a>);</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  }</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div><div class="ttc" id="structNntpAcache_html_a33c62982769726fafeb4e89d6c92905c"><div class="ttname"><a href="structNntpAcache.html#a33c62982769726fafeb4e89d6c92905c">NntpAcache::path</a></div><div class="ttdeci">char * path</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00069">lib.h:69</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac77579c4bad5769c1ed74f5990701cf5"><div class="ttname"><a href="structNntpMboxData.html#ac77579c4bad5769c1ed74f5990701cf5">NntpMboxData::acache</a></div><div class="ttdeci">struct NntpAcache acache[NNTP_ACACHE_LEN]</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00048">mdata.h:48</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_a1efe6072fe3f0f219d90675e1aa55f40"><div class="ttname"><a href="nntp_2lib_8h.html#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a></div><div class="ttdeci">#define NNTP_ACACHE_LEN</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00082">lib.h:82</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ac5290f190dba237467e63bd09ddc28c0_icgraph.svg" width="514" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aa8b8319b59b7ef6de942cd25400e0d79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8b8319b59b7ef6de942cd25400e0d79">&#9670;&nbsp;</a></span>nntp_active_save_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_active_save_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Save list of all newsgroups to cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00650">650</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;{</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">if</span> (!adata-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;  <span class="keywordtype">size_t</span> buflen = 10240;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="keywordtype">char</span> *buf = <a class="code" href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a>(1, buflen);</div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  snprintf(buf, buflen, <span class="stringliteral">&quot;%lu\n&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) adata-&gt;<a class="code" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>);</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordtype">size_t</span> off = strlen(buf);</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  {</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="keywordflow">if</span> (!mdata || mdata-&gt;<a class="code" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a>)</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">if</span> ((off + strlen(mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>) + (mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a> ? strlen(mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>) : 0) + 50) &gt; buflen)</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      buflen *= 2;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;buf, buflen);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    }</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;    snprintf(buf + off, buflen - off, <span class="stringliteral">&quot;%s %u %u %c%s%s\n&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>,</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;             mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a31c64fba641fa5ea247c33e7c563f0bd">allowed</a> ? <span class="charliteral">&#39;y&#39;</span> : <span class="charliteral">&#39;n&#39;</span>,</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;             mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a> ? <span class="stringliteral">&quot; &quot;</span> : <span class="stringliteral">&quot;&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a> ? mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    off += strlen(buf + off);</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordtype">char</span> file[<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  <a class="code" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(file, <span class="keyword">sizeof</span>(file), &amp;adata-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, <span class="stringliteral">&quot;.active&quot;</span>);</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Updating %s\n&quot;</span>, file);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  <span class="keywordtype">int</span> rc = <a class="code" href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a>(file, buf);</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;buf);</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;}</div><div class="ttc" id="memory_8c_html_a4c1612d209c7825d55e6a014df352f03"><div class="ttname"><a href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a></div><div class="ttdeci">void * mutt_mem_calloc(size_t nmemb, size_t size)</div><div class="ttdoc">Allocate zeroed memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00050">memory.c:50</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_ab1119d6a97b21d5015bef09d4debc002"><div class="ttname"><a href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">NntpAccountData::cacheable</a></div><div class="ttdeci">bool cacheable</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00049">adata.h:49</a></div></div>
<div class="ttc" id="newsrc_8c_html_a400892d96104e348988b980faace6d3f"><div class="ttname"><a href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a></div><div class="ttdeci">static int update_file(char *filename, char *buf)</div><div class="ttdoc">Update file with new contents. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00389">newsrc.c:389</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a001b86788ccf66b12160431cbbb6e0bf"><div class="ttname"><a href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">NntpAccountData::newgroups_time</a></div><div class="ttdeci">time_t newgroups_time</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00057">adata.h:57</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="memory_8c_html_af778eb8166966fc0666c64849f6c7c5b"><div class="ttname"><a href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a></div><div class="ttdeci">void mutt_mem_realloc(void *ptr, size_t size)</div><div class="ttdoc">Resize a block of memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00114">memory.c:114</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a31c64fba641fa5ea247c33e7c563f0bd"><div class="ttname"><a href="structNntpMboxData.html#a31c64fba641fa5ea247c33e7c563f0bd">NntpMboxData::allowed</a></div><div class="ttdeci">bool allowed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00043">mdata.h:43</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="newsrc_8c_html_a8d3a7328ed6d800fc41fb83e20db792a"><div class="ttname"><a href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a></div><div class="ttdeci">static void cache_expand(char *dst, size_t dstlen, struct ConnAccount *cac, const char *src)</div><div class="ttdoc">Make fully qualified cache file name. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00518">newsrc.c:518</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdoc">Log at debug level 1. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00040">logging.h:40</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2b27ff6bf080a892ab903b1504e72d5b"><div class="ttname"><a href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">NntpMboxData::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00044">mdata.h:44</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a6d1f6681e3b32714f5c85d463f38fab8"><div class="ttname"><a href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">NntpMboxData::desc</a></div><div class="ttdeci">char * desc</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00035">mdata.h:35</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_aa8b8319b59b7ef6de942cd25400e0d79_cgraph.svg" width="386" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_aa8b8319b59b7ef6de942cd25400e0d79_icgraph.svg" width="422" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4a81ebd8f2d0f68109bddeef2c87ea83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a81ebd8f2d0f68109bddeef2c87ea83">&#9670;&nbsp;</a></span>nntp_add_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_add_group </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">line</td><td>String to parse </td></tr>
    <tr><td class="paramname">data</td><td>NNTP data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Always </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00575">575</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = data;</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = NULL;</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>[1024] = { 0 };</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="keywordtype">char</span> <a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>[8192] = { 0 };</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordtype">char</span> mod;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;  <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first, last;</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="keywordflow">if</span> (!adata || !line)</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="comment">/* These sscanf limits must match the sizes of the group and desc arrays */</span></div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">if</span> (sscanf(line, <span class="stringliteral">&quot;%1023s &quot;</span> <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a> <span class="stringliteral">&quot; &quot;</span> <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a> <span class="stringliteral">&quot; %c %8191[^\n]&quot;</span>, group, &amp;last,</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;             &amp;first, &amp;mod, desc) &lt; 4)</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  {</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;Can&#39;t parse server line: %s\n&quot;</span>, line);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  }</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  mdata = <a class="code" href="newsrc_8c.html#ad95047455c17e74059e350654359062a">mdata_find</a>(adata, group);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> = first;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> = last;</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a31c64fba641fa5ea247c33e7c563f0bd">allowed</a> = (mod == <span class="charliteral">&#39;y&#39;</span>) || (mod == <span class="charliteral">&#39;m&#39;</span>);</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  <a class="code" href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>, desc);</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> || (mdata-&gt;<a class="code" href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">last_cached</a> != 0))</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a>(mdata);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> &amp;&amp; (mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> &lt;= mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>))</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> - mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> + 1;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = 0;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;}</div><div class="ttc" id="structNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00036">adata.h:36</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2869a3060aa018d6c8e8e2b6ab6cfa21"><div class="ttname"><a href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">NntpMboxData::last_cached</a></div><div class="ttdeci">anum_t last_cached</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00039">mdata.h:39</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_af213c68397b28d9da9d2aa988ebbfbde"><div class="ttname"><a href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a></div><div class="ttdeci">#define ANUM</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a31c64fba641fa5ea247c33e7c563f0bd"><div class="ttname"><a href="structNntpMboxData.html#a31c64fba641fa5ea247c33e7c563f0bd">NntpMboxData::allowed</a></div><div class="ttdeci">bool allowed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00043">mdata.h:43</a></div></div>
<div class="ttc" id="structAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends) </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00043">account.h:43</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="newsrc_8c_html_ad95047455c17e74059e350654359062a"><div class="ttname"><a href="newsrc_8c.html#ad95047455c17e74059e350654359062a">mdata_find</a></div><div class="ttdeci">static struct NntpMboxData * mdata_find(struct NntpAccountData *adata, const char *group)</div><div class="ttdoc">Find NntpMboxData for given newsgroup or add it. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00072">newsrc.c:72</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2b27ff6bf080a892ab903b1504e72d5b"><div class="ttname"><a href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">NntpMboxData::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00044">mdata.h:44</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ae9b6bbaa52b6ce51f2a384fe500e028e"><div class="ttname"><a href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a></div><div class="ttdeci">char * mutt_str_replace(char **p, const char *s)</div><div class="ttdoc">Replace one string with another. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00446">string.c:446</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a98dfbd45b53b18796fa524f87b8ce32e"><div class="ttname"><a href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">NntpMboxData::unread</a></div><div class="ttdeci">anum_t unread</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
<div class="ttc" id="newsrc_8c_html_ab375e79092001683947b61e4079db8c0"><div class="ttname"><a href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a></div><div class="ttdeci">void nntp_group_unread_stat(struct NntpMboxData *mdata)</div><div class="ttdoc">Count number of unread articles using .newsrc data. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00132">newsrc.c:132</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a6d1f6681e3b32714f5c85d463f38fab8"><div class="ttname"><a href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">NntpMboxData::desc</a></div><div class="ttdeci">char * desc</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00035">mdata.h:35</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a4a81ebd8f2d0f68109bddeef2c87ea83_cgraph.svg" width="364" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a4a81ebd8f2d0f68109bddeef2c87ea83_icgraph.svg" width="367" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a3a2a364d853a786fb0b224c379d28eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a2a364d853a786fb0b224c379d28eab">&#9670;&nbsp;</a></span>nntp_article_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_article_status </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>e</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a>&#160;</td>
          <td class="paramname"><em>anum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get status of articles from .newsrc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">e</td><td><a class="el" href="structEmail.html" title="The envelope/body of an email. ">Email</a> </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
    <tr><td class="paramname">anum</td><td>Article number</td></tr>
  </table>
  </dd>
</dl>
<p>Full status flags are not supported by nntp, but we can fake some of them: Read = a read message number is in the .newsrc New = not read and not cached Old = not read but cached </p>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01219">1219</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;{</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>)</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;    mdata = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>; i++)</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;  {</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="keywordflow">if</span> ((anum &gt;= mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[i].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a>) &amp;&amp; (anum &lt;= mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[i].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>))</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    {</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;      <span class="comment">/* can&#39;t use mutt_set_flag() because ctx_update() didn&#39;t get called yet */</span></div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    }</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  }</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  <span class="comment">/* article was not cached yet, it&#39;s new */</span></div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordflow">if</span> (anum &gt; mdata-&gt;<a class="code" href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">last_cached</a>)</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">/* article isn&#39;t read but cached, it&#39;s old */</span></div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_mark_old = <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;mark_old&quot;</span>);</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="keywordflow">if</span> (c_mark_old)</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2869a3060aa018d6c8e8e2b6ab6cfa21"><div class="ttname"><a href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">NntpMboxData::last_cached</a></div><div class="ttdeci">anum_t last_cached</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00039">mdata.h:39</a></div></div>
<div class="ttc" id="structEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00051">email.h:51</a></div></div>
<div class="ttc" id="structEmail_html_a6d9062408a8c89b19cf25584dd2ffb57"><div class="ttname"><a href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">Email::old</a></div><div class="ttdeci">bool old</div><div class="ttdoc">Email is seen, but unread. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00050">email.h:50</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a3a2a364d853a786fb0b224c379d28eab_cgraph.svg" width="328" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a3a2a364d853a786fb0b224c379d28eab_icgraph.svg" width="903" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab103e38d32e64122d7892f29eeb67fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab103e38d32e64122d7892f29eeb67fcf">&#9670;&nbsp;</a></span>nntp_bcache_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_bcache_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td>
          <td class="paramname"><em>mdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove stale cached messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00803">803</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="bcache_8c.html#a61b6432fa4ef33ea232dad524cf907bb">mutt_bcache_list</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>, <a class="code" href="newsrc_8c.html#a181aa7de0266d119dcc65f48088c306d">nntp_bcache_delete</a>, mdata);</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;}</div><div class="ttc" id="newsrc_8c_html_a181aa7de0266d119dcc65f48088c306d"><div class="ttname"><a href="newsrc_8c.html#a181aa7de0266d119dcc65f48088c306d">nntp_bcache_delete</a></div><div class="ttdeci">static int nntp_bcache_delete(const char *id, struct BodyCache *bcache, void *data)</div><div class="ttdoc">Remove bcache file - Implements bcache_list_t. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00783">newsrc.c:783</a></div></div>
<div class="ttc" id="bcache_8c_html_a61b6432fa4ef33ea232dad524cf907bb"><div class="ttname"><a href="bcache_8c.html#a61b6432fa4ef33ea232dad524cf907bb">mutt_bcache_list</a></div><div class="ttdeci">int mutt_bcache_list(struct BodyCache *bcache, bcache_list_t want_id, void *data)</div><div class="ttdoc">Find matching entries in the Body Cache. </div><div class="ttdef"><b>Definition:</b> <a href="bcache_8c_source.html#l00329">bcache.c:329</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4a0fee3ab5b7ee9b0027505083f16790"><div class="ttname"><a href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">NntpMboxData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00049">mdata.h:49</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ab103e38d32e64122d7892f29eeb67fcf_cgraph.svg" width="367" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ab103e38d32e64122d7892f29eeb67fcf_icgraph.svg" width="350" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1f4ed64d09034fa97562c2976d80d614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f4ed64d09034fa97562c2976d80d614">&#9670;&nbsp;</a></span>nntp_check_new_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_check_new_groups </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check for new groups/articles in subscribed groups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>New groups found </td></tr>
    <tr><td class="paramname">0</td><td>No new groups </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02032">2032</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;{</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata = { 0 };</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;  time_t now;</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;  <span class="keywordtype">char</span> buf[1024];</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;  <span class="keywordtype">char</span> *msg = <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Checking for new newsgroups...&quot;</span>);</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;  <span class="keywordtype">int</span> rc, update_active = <span class="keyword">false</span>;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>)</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="comment">/* check subscribed newsgroups for new articles */</span></div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_show_new_news = <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;show_new_news&quot;</span>);</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;  <span class="keywordflow">if</span> (c_show_new_news)</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  {</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    <a class="code" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Checking for new messages...&quot;</span>));</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    {</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      <span class="keywordflow">if</span> (mdata &amp;&amp; mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a>)</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;      {</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        rc = <a class="code" href="nntp_8c.html#a3dc0585ce5a5060f5c07bdc1c89e373b">nntp_group_poll</a>(mdata, <span class="keyword">true</span>);</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;        <span class="keywordflow">if</span> (rc &lt; 0)</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;          <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;        <span class="keywordflow">if</span> (rc &gt; 0)</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;          update_active = <span class="keyword">true</span>;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;      }</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    }</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;  }</div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>)</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  <span class="comment">/* get list of new groups */</span></div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;  <a class="code" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(msg);</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a>(adata, &amp;now) &lt; 0)</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;  tmp_mdata.<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="keywordflow">if</span> (m &amp;&amp; m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    tmp_mdata.<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = ((<span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *) m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)-&gt;group;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;    tmp_mdata.<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = NULL;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  i = adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>;</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;  <span class="keyword">struct </span>tm tm = <a class="code" href="date_8c.html#a76f10949abf7521c519bced738be2694">mutt_date_gmtime</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>);</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;NEWGROUPS %02d%02d%02d %02d%02d%02d GMT\r\n&quot;</span>,</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;           tm.tm_year % 100, tm.tm_mon + 1, tm.tm_mday, tm.tm_hour, tm.tm_min, tm.tm_sec);</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  rc = <a class="code" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(&amp;tmp_mdata, buf, <span class="keyword">sizeof</span>(buf), msg, <a class="code" href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a>, adata);</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keywordflow">if</span> (rc)</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  {</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;    <span class="keywordflow">if</span> (rc &gt; 0)</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    {</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;NEWGROUPS: %s&quot;</span>, buf);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    }</div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;  }</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;  <span class="comment">/* new groups found */</span></div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;  rc = 0;</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a> != i)</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;  {</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;    <span class="keywordtype">int</span> groups_num = i;</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;    adata-&gt;<a class="code" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a> = now;</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;    <span class="keywordflow">for</span> (; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    {</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;      <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *mdata = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">has_new_mail</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;    }</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;    <span class="comment">/* loading descriptions */</span></div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_nntp_load_description =</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_load_description&quot;</span>);</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;    <span class="keywordflow">if</span> (c_nntp_load_description)</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;    {</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;      <span class="keyword">struct </span><a class="code" href="structProgress.html">Progress</a> *progress = <a class="code" href="progress_2lib_8h.html#aba05e74a07a772a1336c0a19ea174614">progress_new</a>(</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;          <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Loading descriptions...&quot;</span>), <a class="code" href="progress_2lib_8h.html#a0a558d538b8742adf8b1251f2848ba75adc0a9dcc8b2f53e3698038e7164b6489">MUTT_PROGRESS_READ</a>, adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a> - i);</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;      <span class="keywordflow">for</span> (i = groups_num; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;      {</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *mdata = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a>(mdata, NULL, NULL) &lt; 0)</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;        {</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;          <a class="code" href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a>(&amp;progress);</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;          <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        }</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <a class="code" href="progress_2lib_8h.html#a7373bbf71548c41b082a305b3346727a">progress_update</a>(progress, ++count, -1);</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;      }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;      <a class="code" href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a>(&amp;progress);</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    }</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    update_active = <span class="keyword">true</span>;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    rc = 1;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;  }</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="keywordflow">if</span> (update_active)</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    <a class="code" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(adata);</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <a class="code" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;}</div><div class="ttc" id="structNntpMboxData_html_accb71afa3c82ba9ddd7189e852f4e65a"><div class="ttname"><a href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">NntpMboxData::has_new_mail</a></div><div class="ttdeci">bool has_new_mail</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00042">mdata.h:42</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="nntp_8c_html_a1e673d1df3f2dfca2ac1bf210cda8daa"><div class="ttname"><a href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a></div><div class="ttdeci">static int nntp_date(struct NntpAccountData *adata, time_t *now)</div><div class="ttdoc">Get date and time from server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01645">nntp.c:1645</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="progress_2lib_8h_html_a0a558d538b8742adf8b1251f2848ba75adc0a9dcc8b2f53e3698038e7164b6489"><div class="ttname"><a href="progress_2lib_8h.html#a0a558d538b8742adf8b1251f2848ba75adc0a9dcc8b2f53e3698038e7164b6489">MUTT_PROGRESS_READ</a></div><div class="ttdoc">Progress tracks elements, according to $read_inc </div><div class="ttdef"><b>Definition:</b> <a href="progress_2lib_8h_source.html#l00046">lib.h:46</a></div></div>
<div class="ttc" id="date_8c_html_a76f10949abf7521c519bced738be2694"><div class="ttname"><a href="date_8c.html#a76f10949abf7521c519bced738be2694">mutt_date_gmtime</a></div><div class="ttdeci">struct tm mutt_date_gmtime(time_t t)</div><div class="ttdoc">Converts calendar time to a broken-down time structure expressed in UTC timezone. ...</div><div class="ttdef"><b>Definition:</b> <a href="date_8c_source.html#l00672">date.c:672</a></div></div>
<div class="ttc" id="newsrc_8c_html_aa8b8319b59b7ef6de942cd25400e0d79"><div class="ttname"><a href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a></div><div class="ttdeci">int nntp_active_save_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Save list of all newsgroups to cache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00650">newsrc.c:650</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structProgress_html"><div class="ttname"><a href="structProgress.html">Progress</a></div><div class="ttdoc">A Progress Bar. </div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00047">progress.c:47</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a001b86788ccf66b12160431cbbb6e0bf"><div class="ttname"><a href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">NntpAccountData::newgroups_time</a></div><div class="ttdeci">time_t newgroups_time</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00057">adata.h:57</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="mutt__logging_8c_html_af068b3f524a31fad293b2fb61dfc4534"><div class="ttname"><a href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a></div><div class="ttdeci">void mutt_clear_error(void)</div><div class="ttdoc">Clear the message line (bottom line of screen) </div><div class="ttdef"><b>Definition:</b> <a href="mutt__logging_8c_source.html#l00112">mutt_logging.c:112</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="nntp_8c_html_a3dc0585ce5a5060f5c07bdc1c89e373b"><div class="ttname"><a href="nntp_8c.html#a3dc0585ce5a5060f5c07bdc1c89e373b">nntp_group_poll</a></div><div class="ttdeci">static int nntp_group_poll(struct NntpMboxData *mdata, bool update_stat)</div><div class="ttdoc">Check newsgroup for new articles. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01388">nntp.c:1388</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="newsrc_8c_html_a4a81ebd8f2d0f68109bddeef2c87ea83"><div class="ttname"><a href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a></div><div class="ttdeci">int nntp_add_group(char *line, void *data)</div><div class="ttdoc">Parse newsgroup. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00575">newsrc.c:575</a></div></div>
<div class="ttc" id="nntp_8c_html_aad1e29b1bda60fc87fa98dd0ff8b8539"><div class="ttname"><a href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a></div><div class="ttdeci">static int get_description(struct NntpMboxData *mdata, const char *wildmat, const char *msg)</div><div class="ttdoc">Fetch newsgroups descriptions. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00884">nntp.c:884</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="progress_2lib_8h_html_ab4c7a63427cdcaae2b1147ff6f010af4"><div class="ttname"><a href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a></div><div class="ttdeci">void progress_free(struct Progress **ptr)</div><div class="ttdoc">Free a Progress Bar. </div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00228">progress.c:228</a></div></div>
<div class="ttc" id="progress_2lib_8h_html_a7373bbf71548c41b082a305b3346727a"><div class="ttname"><a href="progress_2lib_8h.html#a7373bbf71548c41b082a305b3346727a">progress_update</a></div><div class="ttdeci">void progress_update(struct Progress *progress, size_t pos, int percent)</div><div class="ttdoc">Update the state of the progress bar. </div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00175">progress.c:175</a></div></div>
<div class="ttc" id="nntp_8c_html_aac2507d416301d774b449353d2e8af52"><div class="ttname"><a href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a></div><div class="ttdeci">static int nntp_fetch_lines(struct NntpMboxData *mdata, char *query, size_t qlen, const char *msg, int(*func)(char *, void *), void *data)</div><div class="ttdoc">Read lines, calling a callback function for each. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00768">nntp.c:768</a></div></div>
<div class="ttc" id="progress_2lib_8h_html_aba05e74a07a772a1336c0a19ea174614"><div class="ttname"><a href="progress_2lib_8h.html#aba05e74a07a772a1336c0a19ea174614">progress_new</a></div><div class="ttdeci">struct Progress * progress_new(const char *msg, enum ProgressType type, size_t size)</div><div class="ttdoc">Create a new Progress Bar. </div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00246">progress.c:246</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="group__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00087">logging.h:87</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a1f4ed64d09034fa97562c2976d80d614_cgraph.svg" width="956" height="595"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a1f4ed64d09034fa97562c2976d80d614_icgraph.svg" width="386" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a140bf8e49e3f11e0d9cb4d8253767819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a140bf8e49e3f11e0d9cb4d8253767819">&#9670;&nbsp;</a></span>nntp_delete_group_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_delete_group_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td>
          <td class="paramname"><em>mdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove hcache and bcache of newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00812">812</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;{</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  <span class="keywordflow">if</span> (!mdata || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;  <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> file = <a class="code" href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a>(<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>);</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  <a class="code" href="newsrc_8c.html#a2469bc6478c1b4766ed132a2bb1a4018">nntp_hcache_namer</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, &amp;file);</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <a class="code" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(file.<a class="code" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>, file.<a class="code" href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">dsize</a>, &amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>,</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;               <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;file));</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  unlink(<a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;file));</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">last_cached</a> = 0;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;file));</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  <a class="code" href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a>(&amp;file);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordflow">if</span> (!mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>)</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  {</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a> = <a class="code" href="bcache_8c.html#a3eba1237cb1746acad5efa0a123a892c">mutt_bcache_open</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  }</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>)</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  {</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s/*\n&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    <a class="code" href="bcache_8c.html#a61b6432fa4ef33ea232dad524cf907bb">mutt_bcache_list</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>, <a class="code" href="newsrc_8c.html#a181aa7de0266d119dcc65f48088c306d">nntp_bcache_delete</a>, NULL);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="bcache_8c.html#af3a22202fb2135dfb1081cb6e6c5fecb">mutt_bcache_close</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  }</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div><div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="bcache_8c_html_a3eba1237cb1746acad5efa0a123a892c"><div class="ttname"><a href="bcache_8c.html#a3eba1237cb1746acad5efa0a123a892c">mutt_bcache_open</a></div><div class="ttdeci">struct BodyCache * mutt_bcache_open(struct ConnAccount *account, const char *mailbox)</div><div class="ttdoc">Open an Email-Body Cache. </div><div class="ttdef"><b>Definition:</b> <a href="bcache_8c_source.html#l00143">bcache.c:143</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="buffer_8c_html_a0242aaa9a400d0722a99828776c0403b"><div class="ttname"><a href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a></div><div class="ttdeci">struct Buffer mutt_buffer_make(size_t size)</div><div class="ttdoc">Make a new buffer on the stack. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00061">buffer.c:61</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="newsrc_8c_html_a181aa7de0266d119dcc65f48088c306d"><div class="ttname"><a href="newsrc_8c.html#a181aa7de0266d119dcc65f48088c306d">nntp_bcache_delete</a></div><div class="ttdeci">static int nntp_bcache_delete(const char *id, struct BodyCache *bcache, void *data)</div><div class="ttdoc">Remove bcache file - Implements bcache_list_t. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00783">newsrc.c:783</a></div></div>
<div class="ttc" id="bcache_8c_html_a61b6432fa4ef33ea232dad524cf907bb"><div class="ttname"><a href="bcache_8c.html#a61b6432fa4ef33ea232dad524cf907bb">mutt_bcache_list</a></div><div class="ttdeci">int mutt_bcache_list(struct BodyCache *bcache, bcache_list_t want_id, void *data)</div><div class="ttdoc">Find matching entries in the Body Cache. </div><div class="ttdef"><b>Definition:</b> <a href="bcache_8c_source.html#l00329">bcache.c:329</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2869a3060aa018d6c8e8e2b6ab6cfa21"><div class="ttname"><a href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">NntpMboxData::last_cached</a></div><div class="ttdeci">anum_t last_cached</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00039">mdata.h:39</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="structBuffer_html_a1d9ee60bcf94de702b15ec2b5d811995"><div class="ttname"><a href="structBuffer.html#a1d9ee60bcf94de702b15ec2b5d811995">Buffer::dsize</a></div><div class="ttdeci">size_t dsize</div><div class="ttdoc">Length of data. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00037">buffer.h:37</a></div></div>
<div class="ttc" id="structNntpAccountData_html_ab1119d6a97b21d5015bef09d4debc002"><div class="ttname"><a href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">NntpAccountData::cacheable</a></div><div class="ttdeci">bool cacheable</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00049">adata.h:49</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="buffer_8c_html_a59b13bca38b1b314e2bc5ad142d2df49"><div class="ttname"><a href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a></div><div class="ttdeci">void mutt_buffer_dealloc(struct Buffer *buf)</div><div class="ttdoc">Release the memory allocated by a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00294">buffer.c:294</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4a0fee3ab5b7ee9b0027505083f16790"><div class="ttname"><a href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">NntpMboxData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00049">mdata.h:49</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="structBuffer_html_aeec1fd4af0ddf6765b0187466d4361b8"><div class="ttname"><a href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">Pointer to data. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00035">buffer.h:35</a></div></div>
<div class="ttc" id="newsrc_8c_html_a2469bc6478c1b4766ed132a2bb1a4018"><div class="ttname"><a href="newsrc_8c.html#a2469bc6478c1b4766ed132a2bb1a4018">nntp_hcache_namer</a></div><div class="ttdeci">static void nntp_hcache_namer(const char *path, struct Buffer *dest)</div><div class="ttdoc">Compose hcache file names - Implements hcache_namer_t. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00690">newsrc.c:690</a></div></div>
<div class="ttc" id="newsrc_8c_html_a8d3a7328ed6d800fc41fb83e20db792a"><div class="ttname"><a href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a></div><div class="ttdeci">static void cache_expand(char *dst, size_t dstlen, struct ConnAccount *cac, const char *src)</div><div class="ttdoc">Make fully qualified cache file name. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00518">newsrc.c:518</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="bcache_8c_html_af3a22202fb2135dfb1081cb6e6c5fecb"><div class="ttname"><a href="bcache_8c.html#af3a22202fb2135dfb1081cb6e6c5fecb">mutt_bcache_close</a></div><div class="ttdeci">void mutt_bcache_close(struct BodyCache **bcache)</div><div class="ttdoc">Close an Email-Body Cache. </div><div class="ttdef"><b>Definition:</b> <a href="bcache_8c_source.html#l00164">bcache.c:164</a></div></div>
</div><!-- fragment --><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a140bf8e49e3f11e0d9cb4d8253767819_cgraph.svg" width="595" height="443"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a140bf8e49e3f11e0d9cb4d8253767819_icgraph.svg" width="386" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ab375e79092001683947b61e4079db8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab375e79092001683947b61e4079db8c0">&#9670;&nbsp;</a></span>nntp_group_unread_stat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_group_unread_stat </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td>
          <td class="paramname"><em>mdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Count number of unread articles using .newsrc data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00132">132</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = 0;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="keywordflow">if</span> ((mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> == 0) ||</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      (mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> &gt; mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>) || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> - mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> + 1;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>; i++)</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  {</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first = mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[i].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a>;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">if</span> (first &lt; mdata-&gt;first_message)</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;      first = mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> last = mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[i].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (last &gt; mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      last = mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (first &lt;= last)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> -= last - first + 1;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;}</div><div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a98dfbd45b53b18796fa524f87b8ce32e"><div class="ttname"><a href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">NntpMboxData::unread</a></div><div class="ttdeci">anum_t unread</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ab375e79092001683947b61e4079db8c0_icgraph.svg" width="384" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6878e3c1f4e9732730a98a1fdda431e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6878e3c1f4e9732730a98a1fdda431e7">&#9670;&nbsp;</a></span>nntp_hash_destructor_t()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_hash_destructor_t </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0875a3a6254736262cb62517ebcbf5b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0875a3a6254736262cb62517ebcbf5b9">&#9670;&nbsp;</a></span>nntp_hashelem_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_hashelem_free </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">intptr_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free our hash table data - Implements <a class="el" href="hash_8h.html#a984643f7b9b40f093ad3d6335b7a5118" title="Prototype for Hash Destructor callback function. ">hash_hdata_free_t</a>. </p>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l00117">117</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <a class="code" href="nntp_2mdata_8c.html#a830794ef4d5dc483adad59833e24c4ce">nntp_mdata_free</a>(&amp;obj);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div><div class="ttc" id="nntp_2mdata_8c_html_a830794ef4d5dc483adad59833e24c4ce"><div class="ttname"><a href="nntp_2mdata_8c.html#a830794ef4d5dc483adad59833e24c4ce">nntp_mdata_free</a></div><div class="ttdeci">void nntp_mdata_free(void **ptr)</div><div class="ttdoc">Free the private Mailbox data - Implements Mailbox::mdata_free() </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8c_source.html#l00038">mdata.c:38</a></div></div>
</div><!-- fragment --><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a0875a3a6254736262cb62517ebcbf5b9_cgraph.svg" width="347" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a0875a3a6254736262cb62517ebcbf5b9_icgraph.svg" width="343" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad8d95064a7efb66e51bfde2c8b12aff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d95064a7efb66e51bfde2c8b12aff7">&#9670;&nbsp;</a></span>nntp_hcache_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structHeaderCache.html">HeaderCache</a>* nntp_hcache_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td>
          <td class="paramname"><em>mdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open newsgroup hcache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> data </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>Header cache </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00709">709</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;{</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;  <span class="keyword">struct </span><a class="code" href="structUrl.html">Url</a> url = { 0 };</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordtype">char</span> file[<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed =</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <span class="keywordflow">if</span> (!mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a> || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> ||</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      !(mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> || mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> || c_save_unsubscribed))</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  {</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  }</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <a class="code" href="mutt__account_8c.html#a7b58d7c236d1bea3a516cf682648bf3e">mutt_account_tourl</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, &amp;url);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  url.<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>;</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <a class="code" href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a>(&amp;url, file, <span class="keyword">sizeof</span>(file), <a class="code" href="url_8h.html#a2f7d340c7b07a0b212e6ba7c9d1c52fa">U_PATH</a>);</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_news_cache_dir =</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;      <a class="code" href="helpers_8c.html#acadf9e29fd733422508496a70a080c09">cs_subset_path</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;news_cache_dir&quot;</span>);</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="hcache_8c.html#a2577271f963bef5d602562b0f3391f4d">mutt_hcache_open</a>(c_news_cache_dir, file, <a class="code" href="newsrc_8c.html#a2469bc6478c1b4766ed132a2bb1a4018">nntp_hcache_namer</a>);</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div><div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="structUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2 </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00068">url.h:68</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="hcache_8c_html_a2577271f963bef5d602562b0f3391f4d"><div class="ttname"><a href="hcache_8c.html#a2577271f963bef5d602562b0f3391f4d">mutt_hcache_open</a></div><div class="ttdeci">struct HeaderCache * mutt_hcache_open(const char *path, const char *folder, hcache_namer_t namer)</div><div class="ttdoc">Multiplexor for StoreOps::open. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00332">hcache.c:332</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="mutt__account_8c_html_a7b58d7c236d1bea3a516cf682648bf3e"><div class="ttname"><a href="mutt__account_8c.html#a7b58d7c236d1bea3a516cf682648bf3e">mutt_account_tourl</a></div><div class="ttdeci">void mutt_account_tourl(struct ConnAccount *cac, struct Url *url)</div><div class="ttdoc">Fill URL with info from account. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__account_8c_source.html#l00079">mutt_account.c:79</a></div></div>
<div class="ttc" id="structNntpAccountData_html_ab1119d6a97b21d5015bef09d4debc002"><div class="ttname"><a href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">NntpAccountData::cacheable</a></div><div class="ttdeci">bool cacheable</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00049">adata.h:49</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="url_8c_html_a4cdc82c89b3fa52b384a16ef0e971d68"><div class="ttname"><a href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a></div><div class="ttdeci">int url_tostring(struct Url *url, char *dest, size_t len, uint8_t flags)</div><div class="ttdoc">Output the URL string for a given Url object. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00418">url.c:418</a></div></div>
<div class="ttc" id="newsrc_8c_html_a2469bc6478c1b4766ed132a2bb1a4018"><div class="ttname"><a href="newsrc_8c.html#a2469bc6478c1b4766ed132a2bb1a4018">nntp_hcache_namer</a></div><div class="ttdeci">static void nntp_hcache_namer(const char *path, struct Buffer *dest)</div><div class="ttdoc">Compose hcache file names - Implements hcache_namer_t. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00690">newsrc.c:690</a></div></div>
<div class="ttc" id="helpers_8c_html_acadf9e29fd733422508496a70a080c09"><div class="ttname"><a href="helpers_8c.html#acadf9e29fd733422508496a70a080c09">cs_subset_path</a></div><div class="ttdeci">const char * cs_subset_path(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a path config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00194">helpers.c:194</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="url_8h_html_a2f7d340c7b07a0b212e6ba7c9d1c52fa"><div class="ttname"><a href="url_8h.html#a2f7d340c7b07a0b212e6ba7c9d1c52fa">U_PATH</a></div><div class="ttdeci">#define U_PATH</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00050">url.h:50</a></div></div>
</div><!-- fragment --><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ad8d95064a7efb66e51bfde2c8b12aff7_cgraph.svg" width="355" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_ad8d95064a7efb66e51bfde2c8b12aff7_icgraph.svg" width="539" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a25f479090028437bbd1cc59a08942112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25f479090028437bbd1cc59a08942112">&#9670;&nbsp;</a></span>nntp_hcache_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_hcache_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td>
          <td class="paramname"><em>mdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structHeaderCache.html">HeaderCache</a> *&#160;</td>
          <td class="paramname"><em>hc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove stale cached headers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mdata</td><td>NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> data </td></tr>
    <tr><td class="paramname">hc</td><td>Header cache </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00735">735</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;{</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">if</span> (!hc)</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  <span class="keywordtype">char</span> buf[32];</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordtype">bool</span> old = <span class="keyword">false</span>;</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first = 0, last = 0;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="comment">/* fetch previous values of first and last */</span></div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordtype">size_t</span> dlen = 0;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordtype">void</span> *hdata = <a class="code" href="hcache_8c.html#afafbb66bd655d35f263db1272440aeb1">mutt_hcache_fetch_raw</a>(hc, <span class="stringliteral">&quot;index&quot;</span>, 5, &amp;dlen);</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordflow">if</span> (hdata)</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  {</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;mutt_hcache_fetch index: %s\n&quot;</span>, (<span class="keywordtype">char</span> *) hdata);</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keywordflow">if</span> (sscanf(hdata, <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a> <span class="stringliteral">&quot; &quot;</span> <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a>, &amp;first, &amp;last) == 2)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      old = <span class="keyword">true</span>;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">last_cached</a> = last;</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;      <span class="comment">/* clean removed headers from cache */</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      <span class="keywordflow">for</span> (<a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> current = first; current &lt;= last; current++)</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      {</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        <span class="keywordflow">if</span> ((current &gt;= mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>) &amp;&amp; (current &lt;= mdata-&gt;last_message))</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;%u&quot;</span>, current);</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;mutt_hcache_delete_record %s\n&quot;</span>, buf);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;        <a class="code" href="hcache_8c.html#a50c594f02ea355bcabfdad21dc655988">mutt_hcache_delete_record</a>(hc, buf, strlen(buf));</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      }</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    }</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <a class="code" href="hcache_8c.html#aa5d4bb535ed54cc8d4a8a4117ceff9fa">mutt_hcache_free_raw</a>(hc, &amp;hdata);</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  }</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="comment">/* store current values of first and last */</span></div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keywordflow">if</span> (!old || (mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> != first) || (mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> != last))</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  {</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;%u %u&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>);</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;mutt_hcache_store index: %s\n&quot;</span>, buf);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <a class="code" href="hcache_8c.html#a83689af1668a07b7cdd75a4470b08c72">mutt_hcache_store_raw</a>(hc, <span class="stringliteral">&quot;index&quot;</span>, 5, buf, strlen(buf) + 1);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  }</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;}</div><div class="ttc" id="hcache_8c_html_aa5d4bb535ed54cc8d4a8a4117ceff9fa"><div class="ttname"><a href="hcache_8c.html#aa5d4bb535ed54cc8d4a8a4117ceff9fa">mutt_hcache_free_raw</a></div><div class="ttdeci">void mutt_hcache_free_raw(struct HeaderCache *hc, void **data)</div><div class="ttdoc">Multiplexor for StoreOps::free. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00541">hcache.c:541</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2869a3060aa018d6c8e8e2b6ab6cfa21"><div class="ttname"><a href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">NntpMboxData::last_cached</a></div><div class="ttdeci">anum_t last_cached</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00039">mdata.h:39</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_af213c68397b28d9da9d2aa988ebbfbde"><div class="ttname"><a href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a></div><div class="ttdeci">#define ANUM</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="hcache_8c_html_a50c594f02ea355bcabfdad21dc655988"><div class="ttname"><a href="hcache_8c.html#a50c594f02ea355bcabfdad21dc655988">mutt_hcache_delete_record</a></div><div class="ttdeci">int mutt_hcache_delete_record(struct HeaderCache *hc, const char *key, size_t keylen)</div><div class="ttdoc">Multiplexor for StoreOps::delete_record. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00637">hcache.c:637</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="hcache_8c_html_a83689af1668a07b7cdd75a4470b08c72"><div class="ttname"><a href="hcache_8c.html#a83689af1668a07b7cdd75a4470b08c72">mutt_hcache_store_raw</a></div><div class="ttdeci">int mutt_hcache_store_raw(struct HeaderCache *hc, const char *key, size_t keylen, void *data, size_t dlen)</div><div class="ttdoc">store a key / data pair </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00615">hcache.c:615</a></div></div>
<div class="ttc" id="hcache_8c_html_afafbb66bd655d35f263db1272440aeb1"><div class="ttname"><a href="hcache_8c.html#afafbb66bd655d35f263db1272440aeb1">mutt_hcache_fetch_raw</a></div><div class="ttdeci">void * mutt_hcache_fetch_raw(struct HeaderCache *hc, const char *key, size_t keylen, size_t *dlen)</div><div class="ttdoc">Fetch a message&amp;#39;s header from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00521">hcache.c:521</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a25f479090028437bbd1cc59a08942112_cgraph.svg" width="392" height="206"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a25f479090028437bbd1cc59a08942112_icgraph.svg" width="350" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a21d6dfb74310c442a524deed9579395a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d6dfb74310c442a524deed9579395a">&#9670;&nbsp;</a></span>nntp_newsrc_gen_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_newsrc_gen_entries </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate array of .newsrc entries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00296">296</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;{</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (!m)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> last = 0, first = 1;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordtype">bool</span> series;</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> entries;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">short</span> c_sort = <a class="code" href="helpers_8c.html#af7f3de51c3c2f5b8f527f40c8397a3fc">cs_subset_sort</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;sort&quot;</span>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keywordflow">if</span> (c_sort != <a class="code" href="sort2_8h.html#ad7fca38b521558f128d4a566729f5803a33b771290a5128beb6a0f053da322c61">SORT_ORDER</a>)</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <a class="code" href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;sort&quot;</span>, <a class="code" href="sort2_8h.html#ad7fca38b521558f128d4a566729f5803a33b771290a5128beb6a0f053da322c61">SORT_ORDER</a>, NULL);</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code" href="mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f">NT_MAILBOX_RESORT</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  entries = mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span> (!entries)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    entries = 5;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> = <a class="code" href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a>(entries, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="comment">/* Set up to fake initial sequence from 1 to the article before the</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">   * first article in our list */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = 0;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  series = <span class="keyword">true</span>;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; i++)</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keyword">struct </span><a class="code" href="structEmail.html">Email</a> *e = m-&gt;<a class="code" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[i];</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (!e)</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">/* search for first unread */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <span class="keywordflow">if</span> (series)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <span class="comment">/* We don&#39;t actually check sequential order, since we mark</span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">       * &quot;missing&quot; entries as read/deleted */</span></div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      last = <a class="code" href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a>(e)-&gt;<a class="code" href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">article_num</a>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;      <span class="keywordflow">if</span> ((last &gt;= mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>) &amp;&amp; !e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> &amp;&amp; !e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      {</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> &gt;= entries)</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;          entries *= 2;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;          <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = first;</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = last - 1;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>++;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        series = <span class="keyword">false</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">/* search for first read */</span></div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    {</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;      <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> || e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a>)</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      {</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        first = last + 1;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        series = <span class="keyword">true</span>;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;      }</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      last = <a class="code" href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a>(e)-&gt;<a class="code" href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">article_num</a>;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  }</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;  <span class="keywordflow">if</span> (series &amp;&amp; (first &lt;= mdata-&gt;last_loaded))</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> &gt;= entries)</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    {</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      entries++;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, entries * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = first;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a>;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>++;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;  }</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;  <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;  <span class="keywordflow">if</span> (c_sort != <a class="code" href="sort2_8h.html#ad7fca38b521558f128d4a566729f5803a33b771290a5128beb6a0f053da322c61">SORT_ORDER</a>)</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;  {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <a class="code" href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;sort&quot;</span>, c_sort, NULL);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <a class="code" href="mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code" href="mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f">NT_MAILBOX_RESORT</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  }</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;}</div><div class="ttc" id="structMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00099">mailbox.h:99</a></div></div>
<div class="ttc" id="memory_8c_html_a4c1612d209c7825d55e6a014df352f03"><div class="ttname"><a href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a></div><div class="ttdeci">void * mutt_mem_calloc(size_t nmemb, size_t size)</div><div class="ttdoc">Allocate zeroed memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00050">memory.c:50</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="structEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00037">email.h:37</a></div></div>
<div class="ttc" id="structNntpEmailData_html_a664cb7fd06434c6a0769467038b99f8a"><div class="ttname"><a href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">NntpEmailData::article_num</a></div><div class="ttdeci">anum_t article_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2edata_8h_source.html#l00036">edata.h:36</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="subset_8c_html_a6ee598a96defed645b11cad6e6cb6512"><div class="ttname"><a href="subset_8c.html#a6ee598a96defed645b11cad6e6cb6512">cs_subset_str_native_set</a></div><div class="ttdeci">int cs_subset_str_native_set(const struct ConfigSubset *sub, const char *name, intptr_t value, struct Buffer *err)</div><div class="ttdoc">Natively set the value of a string config item. </div><div class="ttdef"><b>Definition:</b> <a href="subset_8c_source.html#l00305">subset.c:305</a></div></div>
<div class="ttc" id="structEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00051">email.h:51</a></div></div>
<div class="ttc" id="sort2_8h_html_ad7fca38b521558f128d4a566729f5803a33b771290a5128beb6a0f053da322c61"><div class="ttname"><a href="sort2_8h.html#ad7fca38b521558f128d4a566729f5803a33b771290a5128beb6a0f053da322c61">SORT_ORDER</a></div><div class="ttdoc">Sort by the order the messages appear in the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="sort2_8h_source.html#l00048">sort2.h:48</a></div></div>
<div class="ttc" id="structNewsrcEntry_html"><div class="ttname"><a href="structNewsrcEntry.html">NewsrcEntry</a></div><div class="ttdoc">An entry in a .newsrc (subscribed newsgroups) </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00075">lib.h:75</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9cecad8ca33cea69ef91939fc3088e72"><div class="ttname"><a href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">NntpMboxData::last_loaded</a></div><div class="ttdeci">anum_t last_loaded</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00038">mdata.h:38</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="memory_8c_html_af778eb8166966fc0666c64849f6c7c5b"><div class="ttname"><a href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a></div><div class="ttdeci">void mutt_mem_realloc(void *ptr, size_t size)</div><div class="ttdoc">Resize a block of memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00114">memory.c:114</a></div></div>
<div class="ttc" id="helpers_8c_html_af7f3de51c3c2f5b8f527f40c8397a3fc"><div class="ttname"><a href="helpers_8c.html#af7f3de51c3c2f5b8f527f40c8397a3fc">cs_subset_sort</a></div><div class="ttdeci">short cs_subset_sort(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a sort config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00292">helpers.c:292</a></div></div>
<div class="ttc" id="mailbox_8h_html_a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f"><div class="ttname"><a href="mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4a96d28ff20a133d31e2e6ce8bb4e8b78f">NT_MAILBOX_RESORT</a></div><div class="ttdoc">Email list needs resorting. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00181">mailbox.h:181</a></div></div>
<div class="ttc" id="nntp_2edata_8c_html_af8254ee05551fd9c812a24ee01d72eae"><div class="ttname"><a href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2edata_8c_source.html#l00058">edata.c:58</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="structEmail_html_ac5db33e3d6d9723d8e496078d5769567"><div class="ttname"><a href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">Email::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdoc">Email is deleted. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00045">email.h:45</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="mailbox_8c_html_af09ac36728ca3255523cd3b0bfd1f172"><div class="ttname"><a href="mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a></div><div class="ttdeci">void mailbox_changed(struct Mailbox *m, enum NotifyMailbox action)</div><div class="ttdoc">Notify observers of a change to a Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8c_source.html#l00208">mailbox.c:208</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
</div><!-- fragment --><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a21d6dfb74310c442a524deed9579395a_cgraph.svg" width="431" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_a21d6dfb74310c442a524deed9579395a_icgraph.svg" width="378" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="abc4e8951366a6bf81d5d4d4ecf5ad4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc4e8951366a6bf81d5d4d4ecf5ad4ba">&#9670;&nbsp;</a></span>nntp_open_connection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_open_connection </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connect to server, authenticate and get capabilities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l01712">1712</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;{</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;  <span class="keyword">struct </span><a class="code" href="structConnection.html">Connection</a> *conn = adata-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>;</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordtype">char</span> buf[256];</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;  <span class="keywordtype">int</span> cap;</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  <span class="keywordtype">bool</span> posting = <span class="keyword">false</span>, auth = <span class="keyword">true</span>;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> == <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>)</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> == <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a>)</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> = <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a>;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="socket_8c.html#ada78f2615db2775bb7ccd042e6df2774">mutt_socket_open</a>(conn) &lt; 0)</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mutt__socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0)</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;200&quot;</span>))</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;    posting = <span class="keyword">true</span>;</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;201&quot;</span>))</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;  {</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;    <a class="code" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <a class="code" href="mutt_2string_8c.html#a1d343dcbce0482f8979fe2a298913225">mutt_str_remove_trailing_ws</a>(buf);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;%s&quot;</span>, buf);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;  }</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;  <span class="comment">/* get initial capabilities */</span></div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;  cap = <a class="code" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;  <span class="keywordflow">if</span> (cap &lt; 0)</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="comment">/* tell news server to switch to mode reader if it isn&#39;t so */</span></div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;  <span class="keywordflow">if</span> (cap &gt; 0)</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  {</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="mutt__socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a>(conn, <span class="stringliteral">&quot;MODE READER\r\n&quot;</span>) &lt; 0) ||</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        (<a class="code" href="mutt__socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0))</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;    {</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    }</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;200&quot;</span>))</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;      posting = <span class="keyword">true</span>;</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;201&quot;</span>))</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      posting = <span class="keyword">false</span>;</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;    <span class="comment">/* error if has capabilities, ignore result if no capabilities */</span></div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">hasCAPABILITIES</a>)</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;    {</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;      <a class="code" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;      <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not switch to reader mode&quot;</span>));</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    }</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;    <span class="comment">/* recheck capabilities after MODE READER */</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">hasCAPABILITIES</a>)</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    {</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;      cap = <a class="code" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      <span class="keywordflow">if</span> (cap &lt; 0)</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  }</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;  <a class="code" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Connected to %s. %s&quot;</span>), conn-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code" href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">host</a>,</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;               posting ? <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Posting is ok&quot;</span>) : <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Posting is NOT ok&quot;</span>));</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  <a class="code" href="muttlib_8c.html#a6fbcbe533be7c4e05d99b0eb9cdb2581">mutt_sleep</a>(1);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;<span class="preprocessor">#ifdef USE_SSL</span></div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;  <span class="comment">/* Attempt STARTTLS if available and desired. */</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_ssl_force_tls = <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;ssl_force_tls&quot;</span>);</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;  <span class="keywordflow">if</span> ((adata-&gt;<a class="code" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> != 1) &amp;&amp; (adata-&gt;<a class="code" href="structNntpAccountData.html#a5c9a3b821b5983affecbcefb3a9c4e81">hasSTARTTLS</a> || c_ssl_force_tls))</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;  {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;    <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> == 0)</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    {</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;      <span class="keyword">const</span> <span class="keyword">enum</span> <a class="code" href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35db">QuadOption</a> c_ssl_starttls =</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;          <a class="code" href="helpers_8c.html#a9154ba713ce99b0937f475eec7c61af9">cs_subset_quad</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;ssl_starttls&quot;</span>);</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      adata-&gt;<a class="code" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> =</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;          c_ssl_force_tls ||</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;                  (<a class="code" href="question_2lib_8h.html#ab02047769214ff014b9a8a1782babadc">query_quadoption</a>(c_ssl_starttls,</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                                    <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Secure connection with TLS?&quot;</span>)) == <a class="code" href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7">MUTT_YES</a>) ?</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;              2 :</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;              1;</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;    }</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;    <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> == 2)</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;    {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;      <span class="keywordflow">if</span> ((<a class="code" href="mutt__socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a>(conn, <span class="stringliteral">&quot;STARTTLS\r\n&quot;</span>) &lt; 0) ||</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;          (<a class="code" href="mutt__socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0))</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;      {</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;      }</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;      <span class="comment">// Clear any data after the STARTTLS acknowledgement</span></div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;      <a class="code" href="socket_8c.html#a90c5b50a98f0f9a0b73b82e90c096aba">mutt_socket_empty</a>(conn);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;382&quot;</span>))</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;      {</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;        adata-&gt;<a class="code" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> = 0;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;        <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;STARTTLS: %s&quot;</span>, buf);</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;      }</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="gnutls_8c.html#a23591e82bf992ceb5e62c459fd787b8a">mutt_ssl_starttls</a>(conn))</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;      {</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        adata-&gt;<a class="code" href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">use_tls</a> = 0;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        adata-&gt;<a class="code" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> = <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a>;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <a class="code" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>);</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;        <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not negotiate TLS connection&quot;</span>));</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;        <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      }</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;      {</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <span class="comment">/* recheck capabilities after STARTTLS */</span></div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;        cap = <a class="code" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        <span class="keywordflow">if</span> (cap &lt; 0)</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;          <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;      }</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;    }</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;  }</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="comment">/* authentication required? */</span></div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> &amp; <a class="code" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>)</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;  {</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    <span class="keywordflow">if</span> (!conn-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code" href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">user</a>[0])</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      auth = <span class="keyword">false</span>;</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;  }</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;  {</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="mutt__socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a>(conn, <span class="stringliteral">&quot;STAT\r\n&quot;</span>) &lt; 0) ||</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        (<a class="code" href="mutt__socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), conn) &lt; 0))</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    {</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(adata);</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;    }</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;480&quot;</span>))</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;      auth = <span class="keyword">false</span>;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  }</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="comment">/* authenticate */</span></div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;  <span class="keywordflow">if</span> (auth &amp;&amp; (<a class="code" href="nntp_8c.html#a1c9cc18654661195df4df904c2918625">nntp_auth</a>(adata) &lt; 0))</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;  <span class="comment">/* get final capabilities after authentication */</span></div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">hasCAPABILITIES</a> &amp;&amp; (auth || (cap &gt; 0)))</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;  {</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    cap = <a class="code" href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a>(adata);</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    <span class="keywordflow">if</span> (cap &lt; 0)</div><div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> (cap &gt; 0)</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;    {</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      <a class="code" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Could not switch to reader mode&quot;</span>));</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;    }</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;  }</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  <span class="comment">/* attempt features */</span></div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#acfb626f8ed9a2b7f351519882f254cbb">nntp_attempt_features</a>(adata) &lt; 0)</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> = <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a>;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;}</div><div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="nntp_8c_html_a1c9cc18654661195df4df904c2918625"><div class="ttname"><a href="nntp_8c.html#a1c9cc18654661195df4df904c2918625">nntp_auth</a></div><div class="ttdeci">static int nntp_auth(struct NntpAccountData *adata)</div><div class="ttdoc">Get login, password and authenticate. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00427">nntp.c:427</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="mutt__socket_8h_html_acddd830551629051c41026a4bc13d916"><div class="ttname"><a href="mutt__socket_8h.html#acddd830551629051c41026a4bc13d916">mutt_socket_send</a></div><div class="ttdeci">#define mutt_socket_send(conn, buf)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__socket_8h_source.html#l00037">mutt_socket.h:37</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="nntp_8c_html_acfb626f8ed9a2b7f351519882f254cbb"><div class="ttname"><a href="nntp_8c.html#acfb626f8ed9a2b7f351519882f254cbb">nntp_attempt_features</a></div><div class="ttdeci">static int nntp_attempt_features(struct NntpAccountData *adata)</div><div class="ttdoc">Detect supported commands. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00244">nntp.c:244</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a></div><div class="ttdoc">Disconnected from server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00046">private.h:46</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa1190c4a54a3b733533e3f34cd199ec8"><div class="ttname"><a href="structNntpAccountData.html#aa1190c4a54a3b733533e3f34cd199ec8">NntpAccountData::use_tls</a></div><div class="ttdeci">unsigned int use_tls</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00047">adata.h:47</a></div></div>
<div class="ttc" id="structConnection_html"><div class="ttname"><a href="structConnection.html">Connection</a></div><div class="ttdoc">An open network connection (socket) </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00034">connection.h:34</a></div></div>
<div class="ttc" id="structConnAccount_html_a48b8084b2dd1ef3d4e051a01cf15c7ca"><div class="ttname"><a href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">ConnAccount::user</a></div><div class="ttdeci">char user[128]</div><div class="ttdoc">Username. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00055">connaccount.h:55</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="nntp_8c_html_a8247b21cffda7c4fa36e797820253e33"><div class="ttname"><a href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a></div><div class="ttdeci">static int nntp_connect_error(struct NntpAccountData *adata)</div><div class="ttdoc">Signal a failed connection. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00127">nntp.c:127</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a5c9a3b821b5983affecbcefb3a9c4e81"><div class="ttname"><a href="structNntpAccountData.html#a5c9a3b821b5983affecbcefb3a9c4e81">NntpAccountData::hasSTARTTLS</a></div><div class="ttdeci">bool hasSTARTTLS</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00039">adata.h:39</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="connaccount_8h_html_ab496cae7636af7b356aad973a4a2e675"><div class="ttname"><a href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a></div><div class="ttdeci">#define MUTT_ACCT_USER</div><div class="ttdoc">User field has been set. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00043">connaccount.h:43</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6faf2f388bc874e63dbdd37734a53e9ac03">NNTP_OK</a></div><div class="ttdoc">Connected to server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00045">private.h:45</a></div></div>
<div class="ttc" id="quad_8h_html_a738f558a271fe5035e0ee3b700ee35db"><div class="ttname"><a href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35db">QuadOption</a></div><div class="ttdeci">QuadOption</div><div class="ttdoc">Possible values for a quad-option. </div><div class="ttdef"><b>Definition:</b> <a href="quad_8h_source.html#l00035">quad.h:35</a></div></div>
<div class="ttc" id="socket_8c_html_ada78f2615db2775bb7ccd042e6df2774"><div class="ttname"><a href="socket_8c.html#ada78f2615db2775bb7ccd042e6df2774">mutt_socket_open</a></div><div class="ttdeci">int mutt_socket_open(struct Connection *conn)</div><div class="ttdoc">Simple wrapper. </div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00076">socket.c:76</a></div></div>
<div class="ttc" id="structConnAccount_html_aa440323ef3111e1faaf33f6a57103a3a"><div class="ttname"><a href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">ConnAccount::host</a></div><div class="ttdeci">char host[128]</div><div class="ttdoc">Server to login to. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00053">connaccount.h:53</a></div></div>
<div class="ttc" id="muttlib_8c_html_a6fbcbe533be7c4e05d99b0eb9cdb2581"><div class="ttname"><a href="muttlib_8c.html#a6fbcbe533be7c4e05d99b0eb9cdb2581">mutt_sleep</a></div><div class="ttdeci">void mutt_sleep(short s)</div><div class="ttdoc">Sleep for a while. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l01461">muttlib.c:1461</a></div></div>
<div class="ttc" id="question_2lib_8h_html_ab02047769214ff014b9a8a1782babadc"><div class="ttname"><a href="question_2lib_8h.html#ab02047769214ff014b9a8a1782babadc">query_quadoption</a></div><div class="ttdeci">enum QuadOption query_quadoption(enum QuadOption opt, const char *prompt)</div><div class="ttdoc">Ask the user a quad-question. </div><div class="ttdef"><b>Definition:</b> <a href="question_8c_source.html#l00347">question.c:347</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a1d343dcbce0482f8979fe2a298913225"><div class="ttname"><a href="mutt_2string_8c.html#a1d343dcbce0482f8979fe2a298913225">mutt_str_remove_trailing_ws</a></div><div class="ttdeci">void mutt_str_remove_trailing_ws(char *s)</div><div class="ttdoc">Trim trailing whitespace from a string. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00733">string.c:733</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00160">string.c:160</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a2a1c6e75563a61693936d8d82acc1321"><div class="ttname"><a href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">NntpAccountData::status</a></div><div class="ttdeci">unsigned int status</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00048">adata.h:48</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a></div><div class="ttdoc">No connection to server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00044">private.h:44</a></div></div>
<div class="ttc" id="socket_8c_html_a432eed609a221c68f457302d6e40c383"><div class="ttname"><a href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a></div><div class="ttdeci">int mutt_socket_close(struct Connection *conn)</div><div class="ttdoc">Close a socket. </div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00097">socket.c:97</a></div></div>
<div class="ttc" id="helpers_8c_html_a9154ba713ce99b0937f475eec7c61af9"><div class="ttname"><a href="helpers_8c.html#a9154ba713ce99b0937f475eec7c61af9">cs_subset_quad</a></div><div class="ttdeci">enum QuadOption cs_subset_quad(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a quad-value config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00218">helpers.c:218</a></div></div>
<div class="ttc" id="mutt__socket_8h_html_a5ad40b2573cd216798e0412de26c0818"><div class="ttname"><a href="mutt__socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a></div><div class="ttdeci">#define mutt_socket_readln(buf, buflen, conn)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__socket_8h_source.html#l00036">mutt_socket.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="socket_8c_html_a90c5b50a98f0f9a0b73b82e90c096aba"><div class="ttname"><a href="socket_8c.html#a90c5b50a98f0f9a0b73b82e90c096aba">mutt_socket_empty</a></div><div class="ttdeci">void mutt_socket_empty(struct Connection *conn)</div><div class="ttdoc">Clear out any queued data. </div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00313">socket.c:313</a></div></div>
<div class="ttc" id="group__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00087">logging.h:87</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a42d89a9578e0c3d14d57d5049082c1f9"><div class="ttname"><a href="structNntpAccountData.html#a42d89a9578e0c3d14d57d5049082c1f9">NntpAccountData::hasCAPABILITIES</a></div><div class="ttdeci">bool hasCAPABILITIES</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00038">adata.h:38</a></div></div>
<div class="ttc" id="gnutls_8c_html_a23591e82bf992ceb5e62c459fd787b8a"><div class="ttname"><a href="gnutls_8c.html#a23591e82bf992ceb5e62c459fd787b8a">mutt_ssl_starttls</a></div><div class="ttdeci">int mutt_ssl_starttls(struct Connection *conn)</div><div class="ttdoc">Negotiate TLS over an already opened connection. </div><div class="ttdef"><b>Definition:</b> <a href="gnutls_8c_source.html#l01167">gnutls.c:1167</a></div></div>
<div class="ttc" id="nntp_8c_html_a5a3c5628bd86b68f2d4b3a1cc21f2cd9"><div class="ttname"><a href="nntp_8c.html#a5a3c5628bd86b68f2d4b3a1cc21f2cd9">nntp_capabilities</a></div><div class="ttdeci">static int nntp_capabilities(struct NntpAccountData *adata)</div><div class="ttdoc">Get capabilities. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00141">nntp.c:141</a></div></div>
<div class="ttc" id="quad_8h_html_a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7"><div class="ttname"><a href="quad_8h.html#a738f558a271fe5035e0ee3b700ee35dbafee7088606c4724651c799a6a0b182b7">MUTT_YES</a></div><div class="ttdoc">User answered &amp;#39;Yes&amp;#39;, or assume &amp;#39;Yes&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="quad_8h_source.html#l00039">quad.h:39</a></div></div>
<div class="ttc" id="structConnAccount_html_af674ed2969fc29ff7d99f8b4cff6c92b"><div class="ttname"><a href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">ConnAccount::flags</a></div><div class="ttdeci">MuttAccountFlags flags</div><div class="ttdoc">Which fields are initialised, e.g. MUTT_ACCT_USER. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00059">connaccount.h:59</a></div></div>
</div><!-- fragment --><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_abc4e8951366a6bf81d5d4d4ecf5ad4ba_cgraph.svg" width="636" height="696"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2private_8h_abc4e8951366a6bf81d5d4d4ecf5ad4ba_icgraph.svg" width="372" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
