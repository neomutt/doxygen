<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: mbox_open()</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2021-02-05-647-g5d4e00</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__mx__mbox__open.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">mbox_open()<div class="ingroups"><a class="el" href="group__mx__api.html">Mailbox API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a>.  
<a href="#details">More...</a></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for mbox_open():</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<center><table><tr><td><div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open.svg" width="266" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga017f8938078bb770eb825f2de2e588b0"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#ga017f8938078bb770eb825f2de2e588b0">comp_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga017f8938078bb770eb825f2de2e588b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -Set up a compressed mailbox to be read.  <a href="#ga017f8938078bb770eb825f2de2e588b0">More...</a><br /></td></tr>
<tr class="separator:ga017f8938078bb770eb825f2de2e588b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac97da7839145e4cf23c319967ecc7001"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#gac97da7839145e4cf23c319967ecc7001">imap_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gac97da7839145e4cf23c319967ecc7001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a mailbox - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <a href="#gac97da7839145e4cf23c319967ecc7001">More...</a><br /></td></tr>
<tr class="separator:gac97da7839145e4cf23c319967ecc7001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d49dd279813674de04755796aefa2e7"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#ga0d49dd279813674de04755796aefa2e7">maildir_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga0d49dd279813674de04755796aefa2e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <a href="#ga0d49dd279813674de04755796aefa2e7">More...</a><br /></td></tr>
<tr class="separator:ga0d49dd279813674de04755796aefa2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7ce024784207f6e476aa788c55b0e9b"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#gab7ce024784207f6e476aa788c55b0e9b">mh_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gab7ce024784207f6e476aa788c55b0e9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <a href="#gab7ce024784207f6e476aa788c55b0e9b">More...</a><br /></td></tr>
<tr class="separator:gab7ce024784207f6e476aa788c55b0e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0908167a905e8a9d3e3541e7c5a416e"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#gaa0908167a905e8a9d3e3541e7c5a416e">mbox_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gaa0908167a905e8a9d3e3541e7c5a416e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <a href="#gaa0908167a905e8a9d3e3541e7c5a416e">More...</a><br /></td></tr>
<tr class="separator:gaa0908167a905e8a9d3e3541e7c5a416e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga958364186e337ca6168094e57f038296"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#ga958364186e337ca6168094e57f038296">nntp_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga958364186e337ca6168094e57f038296"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <a href="#ga958364186e337ca6168094e57f038296">More...</a><br /></td></tr>
<tr class="separator:ga958364186e337ca6168094e57f038296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad12c3265a631efb7b39b28fae19121c"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#gaad12c3265a631efb7b39b28fae19121c">nm_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:gaad12c3265a631efb7b39b28fae19121c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -.  <a href="#gaad12c3265a631efb7b39b28fae19121c">More...</a><br /></td></tr>
<tr class="separator:gaad12c3265a631efb7b39b28fae19121c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0de2de1958a22ca0679ea67f4f434db2"><td class="memItemLeft" align="right" valign="top">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__mbox__open.html#ga0de2de1958a22ca0679ea67f4f434db2">pop_mbox_open</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m)</td></tr>
<tr class="memdesc:ga0de2de1958a22ca0679ea67f4f434db2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -Fetch only headers.  <a href="#ga0de2de1958a22ca0679ea67f4f434db2">More...</a><br /></td></tr>
<tr class="separator:ga0de2de1958a22ca0679ea67f4f434db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> to open </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">enum</td><td><a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad" title="Return values for mbox_open() ">MxOpenReturns</a></td></tr>
  </table>
  </dd>
</dl>
<p><b>Contract</b></p><ul>
<li><em>m</em> is not NULL </li>
</ul>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga017f8938078bb770eb825f2de2e588b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga017f8938078bb770eb825f2de2e588b0">&#9670;&nbsp;</a></span>comp_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> comp_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -Set up a compressed mailbox to be read. </p>
<p>Decompress the mailbox and set up the paths and hooks needed. Then determine the type of the mailbox so we can delegate the handling of messages. </p>

<p class="definition">Definition at line <a class="el" href="compmbox_2compress_8c_source.html#l00440">440</a> of file <a class="el" href="compmbox_2compress_8c_source.html">compress.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;{</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;  <span class="keyword">struct </span><a class="code" href="structCompressInfo.html">CompressInfo</a> *ci = <a class="code" href="compmbox_2compress_8c.html#a958dff103de14a95ce0a8a5dd977167b">set_compress_info</a>(m);</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;  <span class="keywordflow">if</span> (!ci)</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="comment">/* If there&#39;s no close-hook, or the file isn&#39;t writable */</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">if</span> (!ci-&gt;<a class="code" href="structCompressInfo.html#add645ff00c6cd32a44a1aae65cb7d7f2">cmd_close</a> || (access(<a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m), W_OK) != 0))</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="compmbox_2compress_8c.html#a60e1b3c821fbb441941a42b24149fbb3">setup_paths</a>(m) != 0)</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordflow">goto</span> cmo_fail;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  <a class="code" href="compmbox_2compress_8c.html#a877acb05482802a48bc56da5e24c8c54">store_size</a>(m);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="compmbox_2compress_8c.html#a8c82fa05ac9a30a1cd0e5c5b472ae066">lock_realpath</a>(m, <span class="keyword">false</span>))</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Unable to lock mailbox&quot;</span>));</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">goto</span> cmo_fail;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  }</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;  <span class="keywordtype">int</span> rc = <a class="code" href="compmbox_2compress_8c.html#a77600af8755fc3921168f6c0727abf18">execute_command</a>(m, ci-&gt;<a class="code" href="structCompressInfo.html#a7a06ea5f92a47b87b787e36aa46437a6">cmd_open</a>, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Decompressing %s&quot;</span>));</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (rc == 0)</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">goto</span> cmo_fail;</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <a class="code" href="compmbox_2compress_8c.html#aa35e239a0ed2772ae5824c317276f83a">unlock_realpath</a>(m);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> = <a class="code" href="mx_8c.html#add36baf7d8410fb37158defdaebe9a5d">mx_path_probe</a>(<a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m));</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921daf14aa0761bb43e33a26f31276a5cd608">MUTT_UNKNOWN</a>)</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  {</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t identify the contents of the compressed file&quot;</span>));</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keywordflow">goto</span> cmo_fail;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  }</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  ci-&gt;<a class="code" href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">child_ops</a> = <a class="code" href="mx_8c.html#a69fb97b5bdfa030216af32bccd9b6fed">mx_get_ops</a>(m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a>);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  <span class="keywordflow">if</span> (!ci-&gt;<a class="code" href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">child_ops</a>)</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t find mailbox ops for mailbox type %d&quot;</span>), m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a>);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">goto</span> cmo_fail;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code" href="structAccount.html#a1aa62f517fae4248e51123f38fd3ebba">type</a> = m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;  <span class="keywordflow">return</span> ci-&gt;<a class="code" href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">child_ops</a>-&gt;<a class="code" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">mbox_open</a>(m);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;cmo_fail:</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  <span class="comment">/* remove the partial uncompressed file */</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keyword">remove</span>(<a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m));</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;  <a class="code" href="compmbox_2compress_8c.html#a5ae987f4dda46e1423fedf6a0ac0b2de">compress_info_free</a>(m);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;}</div><div class="ttc" id="mailbox_8h_html_a04aa11207205b6778388dfc8ed56ee0d"><div class="ttname"><a href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&amp;#39;s path string. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00215">mailbox.h:215</a></div></div>
<div class="ttc" id="mx_8c_html_a69fb97b5bdfa030216af32bccd9b6fed"><div class="ttname"><a href="mx_8c.html#a69fb97b5bdfa030216af32bccd9b6fed">mx_get_ops</a></div><div class="ttdeci">const struct MxOps * mx_get_ops(enum MailboxType type)</div><div class="ttdoc">Get mailbox operations. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l00141">mx.c:141</a></div></div>
<div class="ttc" id="structMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00105">mailbox.h:105</a></div></div>
<div class="ttc" id="compmbox_2compress_8c_html_a5ae987f4dda46e1423fedf6a0ac0b2de"><div class="ttname"><a href="compmbox_2compress_8c.html#a5ae987f4dda46e1423fedf6a0ac0b2de">compress_info_free</a></div><div class="ttdeci">static void compress_info_free(struct Mailbox *m)</div><div class="ttdoc">Frees the compress info members and structure. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2compress_8c_source.html#l00226">compress.c:226</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921daf14aa0761bb43e33a26f31276a5cd608"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921daf14aa0761bb43e33a26f31276a5cd608">MUTT_UNKNOWN</a></div><div class="ttdoc">Mailbox wasn&amp;#39;t recognised. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00047">mailbox.h:47</a></div></div>
<div class="ttc" id="structAccount_html_a1aa62f517fae4248e51123f38fd3ebba"><div class="ttname"><a href="structAccount.html#a1aa62f517fae4248e51123f38fd3ebba">Account::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Type of Mailboxes this Account contains. </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00038">account.h:38</a></div></div>
<div class="ttc" id="structCompressInfo_html_add645ff00c6cd32a44a1aae65cb7d7f2"><div class="ttname"><a href="structCompressInfo.html#add645ff00c6cd32a44a1aae65cb7d7f2">CompressInfo::cmd_close</a></div><div class="ttdeci">const char * cmd_close</div><div class="ttdoc">close-hook command </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2lib_8h_source.html#l00049">lib.h:49</a></div></div>
<div class="ttc" id="compmbox_2compress_8c_html_a877acb05482802a48bc56da5e24c8c54"><div class="ttname"><a href="compmbox_2compress_8c.html#a877acb05482802a48bc56da5e24c8c54">store_size</a></div><div class="ttdeci">static void store_size(const struct Mailbox *m)</div><div class="ttdoc">Save the size of the compressed file. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2compress_8c_source.html#l00178">compress.c:178</a></div></div>
<div class="ttc" id="structMailbox_html_ae55237419d0e842cd6efeed0c41d27e8"><div class="ttname"><a href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">Mailbox::readonly</a></div><div class="ttdeci">bool readonly</div><div class="ttdoc">Don&amp;#39;t allow changes to the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00119">mailbox.h:119</a></div></div>
<div class="ttc" id="compmbox_2compress_8c_html_a958dff103de14a95ce0a8a5dd977167b"><div class="ttname"><a href="compmbox_2compress_8c.html#a958dff103de14a95ce0a8a5dd977167b">set_compress_info</a></div><div class="ttdeci">static struct CompressInfo * set_compress_info(struct Mailbox *m)</div><div class="ttdoc">Find the compress hooks for a mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2compress_8c_source.html#l00196">compress.c:196</a></div></div>
<div class="ttc" id="structMxOps_html_ac504b1095f3ce15cae85466ab6c7bd45"><div class="ttname"><a href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open</a></div><div class="ttdeci">enum MxOpenReturns(* mbox_open)(struct Mailbox *m)</div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00152">mxapi.h:152</a></div></div>
<div class="ttc" id="compmbox_2compress_8c_html_aa35e239a0ed2772ae5824c317276f83a"><div class="ttname"><a href="compmbox_2compress_8c.html#aa35e239a0ed2772ae5824c317276f83a">unlock_realpath</a></div><div class="ttdeci">static void unlock_realpath(struct Mailbox *m)</div><div class="ttdoc">Unlock the mailbox-&gt;realpath. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2compress_8c_source.html#l00124">compress.c:124</a></div></div>
<div class="ttc" id="structCompressInfo_html"><div class="ttname"><a href="structCompressInfo.html">CompressInfo</a></div><div class="ttdoc">Private data for compress. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2lib_8h_source.html#l00046">lib.h:46</a></div></div>
<div class="ttc" id="compmbox_2compress_8c_html_a77600af8755fc3921168f6c0727abf18"><div class="ttname"><a href="compmbox_2compress_8c.html#a77600af8755fc3921168f6c0727abf18">execute_command</a></div><div class="ttdeci">static int execute_command(struct Mailbox *m, const char *command, const char *progress)</div><div class="ttdoc">Run a system command. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2compress_8c_source.html#l00319">compress.c:319</a></div></div>
<div class="ttc" id="mx_8c_html_add36baf7d8410fb37158defdaebe9a5d"><div class="ttname"><a href="mx_8c.html#add36baf7d8410fb37158defdaebe9a5d">mx_path_probe</a></div><div class="ttdeci">enum MailboxType mx_path_probe(const char *path)</div><div class="ttdoc">Find a mailbox that understands a path. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01317">mx.c:1317</a></div></div>
<div class="ttc" id="structMailbox_html_ab9a4528fcd39e61bdefd4dcfdbc6252f"><div class="ttname"><a href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">Mailbox::account</a></div><div class="ttdeci">struct Account * account</div><div class="ttdoc">Account that owns this Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00131">mailbox.h:131</a></div></div>
<div class="ttc" id="compmbox_2compress_8c_html_a8c82fa05ac9a30a1cd0e5c5b472ae066"><div class="ttname"><a href="compmbox_2compress_8c.html#a8c82fa05ac9a30a1cd0e5c5b472ae066">lock_realpath</a></div><div class="ttdeci">static bool lock_realpath(struct Mailbox *m, bool excl)</div><div class="ttdoc">Try to lock the ctx-&gt;realpath. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2compress_8c_source.html#l00085">compress.c:85</a></div></div>
<div class="ttc" id="structCompressInfo_html_a9f6c41db8d4f70ebb317146dfa5e0472"><div class="ttname"><a href="structCompressInfo.html#a9f6c41db8d4f70ebb317146dfa5e0472">CompressInfo::child_ops</a></div><div class="ttdeci">const struct MxOps * child_ops</div><div class="ttdoc">callbacks of de-compressed file </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2lib_8h_source.html#l00052">lib.h:52</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
<div class="ttc" id="structCompressInfo_html_a7a06ea5f92a47b87b787e36aa46437a6"><div class="ttname"><a href="structCompressInfo.html#a7a06ea5f92a47b87b787e36aa46437a6">CompressInfo::cmd_open</a></div><div class="ttdeci">const char * cmd_open</div><div class="ttdoc">open-hook command </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2lib_8h_source.html#l00050">lib.h:50</a></div></div>
<div class="ttc" id="compmbox_2compress_8c_html_a60e1b3c821fbb441941a42b24149fbb3"><div class="ttname"><a href="compmbox_2compress_8c.html#a60e1b3c821fbb441941a42b24149fbb3">setup_paths</a></div><div class="ttdeci">static int setup_paths(struct Mailbox *m)</div><div class="ttdoc">Set the mailbox paths. </div><div class="ttdef"><b>Definition:</b> <a href="compmbox_2compress_8c_source.html#l00150">compress.c:150</a></div></div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga017f8938078bb770eb825f2de2e588b0_cgraph.svg" width="526" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gac97da7839145e4cf23c319967ecc7001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac97da7839145e4cf23c319967ecc7001">&#9670;&nbsp;</a></span>imap_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> imap_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a mailbox - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="imap_8c_source.html#l01929">1929</a> of file <a class="el" href="imap_8c_source.html">imap.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;{</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;  <span class="keywordflow">if</span> (!m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a> || !m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;  <span class="keywordtype">char</span> buf[<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;  <span class="keywordtype">int</span> count = 0;</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;  <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  <span class="keyword">struct </span><a class="code" href="structImapAccountData.html">ImapAccountData</a> *<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code" href="imap_2adata_8c.html#a0ca70f0a790494cb3e6cbdaf3cb004a4">imap_adata_get</a>(m);</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <span class="keyword">struct </span><a class="code" href="structImapMboxData.html">ImapMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="imap_2mdata_8c.html#acdbc54bfe42c13f551c58b0a9b9ba8ff">imap_mdata_get</a>(m);</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;opening %s, saving %s\n&quot;</span>, m-&gt;<a class="code" href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">pathbuf</a>.<a class="code" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a>,</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;             (adata-&gt;<a class="code" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a> ? adata-&gt;<a class="code" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a>-&gt;<a class="code" href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">pathbuf</a>.<a class="code" href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">data</a> : <span class="stringliteral">&quot;(none)&quot;</span>));</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;  adata-&gt;<a class="code" href="structImapAccountData.html#a1d1842d28b0455afee7ddd7f829f6c02">prev_mailbox</a> = adata-&gt;<a class="code" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a>;</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  adata-&gt;<a class="code" href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">mailbox</a> = m;</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="comment">/* clear mailbox status */</span></div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  adata-&gt;<a class="code" href="structImapAccountData.html#ac6488a600297eee1e5d203872e93f9d2">status</a> = 0;</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> = 0;</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  mdata-&gt;<a class="code" href="structImapMboxData.html#a5b7958aa356cbb9e73e5b95334613eb6">new_mail_count</a> = 0;</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a>)</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    <a class="code" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Selecting %s...&quot;</span>), mdata-&gt;<a class="code" href="structImapMboxData.html#ad16e4ff0444eceaf5cf6700d00cc5c9f">name</a>);</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;  <span class="comment">/* pipeline ACL test */</span></div><div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structImapAccountData.html#aa1ba7fde388cdd8e1133c1784e5ed4ea">capabilities</a> &amp; <a class="code" href="imap_2private_8h.html#a8bf6db700e89d830738d2a23e9594af2">IMAP_CAP_ACL</a>)</div><div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;  {</div><div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;MYRIGHTS %s&quot;</span>, mdata-&gt;<a class="code" href="structImapMboxData.html#ac08c3acbb69452d9db121fddbbf1637a">munge_name</a>);</div><div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <a class="code" href="command_8c.html#adeef1f9ecc4cb80dbddee9264200d7bd">imap_exec</a>(adata, buf, <a class="code" href="imap_2private_8h.html#af5a1e8e10143cb70e9af987686df4108">IMAP_CMD_QUEUE</a>);</div><div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;  }</div><div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;  <span class="comment">/* assume we have all rights if ACL is unavailable */</span></div><div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;  {</div><div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> |= <a class="code" href="mailbox_8h.html#a2f00180fcee84fde51fd10c718a21201">MUTT_ACL_LOOKUP</a> | <a class="code" href="mailbox_8h.html#aff498ce9ba288f7b247c4a408721a6db">MUTT_ACL_READ</a> | <a class="code" href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a> | <a class="code" href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a> |</div><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;                 <a class="code" href="mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a> | <a class="code" href="mailbox_8h.html#a1860842fb9744ebdd3d7bfeffb4f60be">MUTT_ACL_POST</a> | <a class="code" href="mailbox_8h.html#a006b7689f9d9582b246d4761ba6e2585">MUTT_ACL_CREATE</a> | <a class="code" href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>;</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  }</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="comment">/* pipeline the postponed count if possible */</span></div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_postponed = <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;postponed&quot;</span>);</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMailbox.html">Mailbox</a> *m_postponed = <a class="code" href="mx_8c.html#a84a2454384495994852f5c8c797070dc">mx_mbox_find2</a>(c_postponed);</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;  <span class="keyword">struct </span><a class="code" href="structImapAccountData.html">ImapAccountData</a> *postponed_adata = <a class="code" href="imap_2adata_8c.html#a0ca70f0a790494cb3e6cbdaf3cb004a4">imap_adata_get</a>(m_postponed);</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  <span class="keywordflow">if</span> (postponed_adata &amp;&amp;</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;      <a class="code" href="imap_2private_8h.html#ac2225c270b21b238b8f64e1f7090baf0">imap_account_match</a>(&amp;postponed_adata-&gt;<a class="code" href="structImapAccountData.html#af7d73598916e5b0b789c78c904ff47a4">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, &amp;adata-&gt;<a class="code" href="structImapAccountData.html#af7d73598916e5b0b789c78c904ff47a4">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>))</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  {</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <a class="code" href="imap_8c.html#a0b252c6e7f2cc646db9414ea27a11a55">imap_mailbox_status</a>(m_postponed, <span class="keyword">true</span>);</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;  }</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_imap_check_subscribed =</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;imap_check_subscribed&quot;</span>);</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  <span class="keywordflow">if</span> (c_imap_check_subscribed)</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    <a class="code" href="command_8c.html#adeef1f9ecc4cb80dbddee9264200d7bd">imap_exec</a>(adata, <span class="stringliteral">&quot;LSUB \&quot;\&quot; \&quot;*\&quot;&quot;</span>, <a class="code" href="imap_2private_8h.html#af5a1e8e10143cb70e9af987686df4108">IMAP_CMD_QUEUE</a>);</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <a class="code" href="imap_8c.html#ae508cb6f612071ea4549814aa3532c89">imap_mbox_select</a>(m);</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;  <span class="keywordflow">do</span></div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;  {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="keywordtype">char</span> *pc = NULL;</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    rc = <a class="code" href="command_8c.html#a8b9d7c9333e35981d94074e9dcc28e6f">imap_cmd_step</a>(adata);</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">if</span> (rc != <a class="code" href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a>)</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    pc = adata-&gt;<a class="code" href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">buf</a> + 2;</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    <span class="comment">/* Obtain list of available flags here, may be overridden by a</span></div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="comment">     * PERMANENTFLAGS tag in the OK response */</span></div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;FLAGS&quot;</span>))</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    {</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;      <span class="comment">/* don&#39;t override PERMANENTFLAGS */</span></div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a>(&amp;mdata-&gt;<a class="code" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>))</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      {</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;        <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox FLAGS\n&quot;</span>);</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        pc = <a class="code" href="imap_8c.html#aa3e4e1578eeb887571cc9a8257a3232a">get_flags</a>(&amp;mdata-&gt;<a class="code" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>, pc);</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        <span class="keywordflow">if</span> (!pc)</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;          <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;      }</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;    }</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;    <span class="comment">/* PERMANENTFLAGS are massaged to look like FLAGS, then override FLAGS */</span></div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [PERMANENTFLAGS&quot;</span>))</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    {</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;      <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox PERMANENTFLAGS\n&quot;</span>);</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;      <span class="comment">/* safe to call on NULL */</span></div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;      <a class="code" href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a>(&amp;mdata-&gt;<a class="code" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>);</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <span class="comment">/* skip &quot;OK [PERMANENT&quot; so syntax is the same as FLAGS */</span></div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      pc += 13;</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      pc = <a class="code" href="imap_8c.html#aa3e4e1578eeb887571cc9a8257a3232a">get_flags</a>(&amp;(mdata-&gt;<a class="code" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>), pc);</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      <span class="keywordflow">if</span> (!pc)</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    }</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="comment">/* save UIDVALIDITY for the header cache */</span></div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [UIDVALIDITY&quot;</span>))</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;    {</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;      <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox UIDVALIDITY\n&quot;</span>);</div><div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;      pc += 3;</div><div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;      pc = <a class="code" href="imap_2private_8h.html#a58b60495085285d725885a1efef98074">imap_next_word</a>(pc);</div><div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a51fd18afc9cc0ca92840d8653180538c">mutt_str_atoui</a>(pc, &amp;mdata-&gt;<a class="code" href="structImapMboxData.html#ad03723407a1adabc338541cae865fc82">uidvalidity</a>) &lt; 0)</div><div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;    }</div><div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [UIDNEXT&quot;</span>))</div><div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;    {</div><div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;      <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox UIDNEXT\n&quot;</span>);</div><div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;      pc += 3;</div><div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;      pc = <a class="code" href="imap_2private_8h.html#a58b60495085285d725885a1efef98074">imap_next_word</a>(pc);</div><div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a51fd18afc9cc0ca92840d8653180538c">mutt_str_atoui</a>(pc, &amp;mdata-&gt;<a class="code" href="structImapMboxData.html#a07a8887ba1a079dd0d5079e0df523f97">uid_next</a>) &lt; 0)</div><div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    }</div><div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [HIGHESTMODSEQ&quot;</span>))</div><div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;    {</div><div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;      <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Getting mailbox HIGHESTMODSEQ\n&quot;</span>);</div><div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;      pc += 3;</div><div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;      pc = <a class="code" href="imap_2private_8h.html#a58b60495085285d725885a1efef98074">imap_next_word</a>(pc);</div><div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#af713aa39f6f54eb39f3212a71f58e33c">mutt_str_atoull</a>(pc, &amp;mdata-&gt;<a class="code" href="structImapMboxData.html#a8efadd7049504cce68615397dfbf0f05">modseq</a>) &lt; 0)</div><div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;        <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;    }</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;OK [NOMODSEQ&quot;</span>))</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    {</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;      <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;Mailbox has NOMODSEQ set\n&quot;</span>);</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;      mdata-&gt;<a class="code" href="structImapMboxData.html#a8efadd7049504cce68615397dfbf0f05">modseq</a> = 0;</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;    }</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;    {</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;      pc = <a class="code" href="imap_2private_8h.html#a58b60495085285d725885a1efef98074">imap_next_word</a>(pc);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(pc, <span class="stringliteral">&quot;EXISTS&quot;</span>))</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;      {</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        count = mdata-&gt;<a class="code" href="structImapMboxData.html#a5b7958aa356cbb9e73e5b95334613eb6">new_mail_count</a>;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        mdata-&gt;<a class="code" href="structImapMboxData.html#a5b7958aa356cbb9e73e5b95334613eb6">new_mail_count</a> = 0;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;      }</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;    }</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  } <span class="keywordflow">while</span> (rc == <a class="code" href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a>);</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;  <span class="keywordflow">if</span> (rc == <a class="code" href="imap_2private_8h.html#ac10fb2fab1bc13f077a3c973883d8088">IMAP_RES_NO</a>)</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;  {</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <span class="keywordtype">char</span> *s = <a class="code" href="imap_2private_8h.html#a58b60495085285d725885a1efef98074">imap_next_word</a>(adata-&gt;<a class="code" href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">buf</a>); <span class="comment">/* skip seq */</span></div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;    s = <a class="code" href="imap_2private_8h.html#a58b60495085285d725885a1efef98074">imap_next_word</a>(s);                <span class="comment">/* Skip response */</span></div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;%s&quot;</span>, s);</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;  }</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;  <span class="keywordflow">if</span> (rc != <a class="code" href="imap_2private_8h.html#a3e63d724ab73ca87b3f8f43a772d32ba">IMAP_RES_OK</a>)</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;  <span class="comment">/* check for READ-ONLY notification */</span></div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a>(<a class="code" href="imap_2private_8h.html#ade12f477bcb371557bb305b920236e16">imap_get_qualifier</a>(adata-&gt;<a class="code" href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">buf</a>), <span class="stringliteral">&quot;[READ-ONLY]&quot;</span>) &amp;&amp;</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;      !(adata-&gt;<a class="code" href="structImapAccountData.html#aa1ba7fde388cdd8e1133c1784e5ed4ea">capabilities</a> &amp; <a class="code" href="imap_2private_8h.html#a8bf6db700e89d830738d2a23e9594af2">IMAP_CAP_ACL</a>))</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;  {</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;Mailbox is read-only\n&quot;</span>);</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  }</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;  <span class="comment">/* dump the mailbox flags we&#39;ve found */</span></div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">short</span> c_debug_level = <a class="code" href="helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;debug_level&quot;</span>);</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;  <span class="keywordflow">if</span> (c_debug_level &gt; <a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>)</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  {</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a>(&amp;mdata-&gt;<a class="code" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>))</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;      <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;No folder flags found\n&quot;</span>);</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;    {</div><div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;      <span class="keyword">struct </span><a class="code" href="structListNode.html">ListNode</a> *np = NULL;</div><div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;      <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> flag_buffer;</div><div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;      <a class="code" href="buffer_8c.html#ab807be90af362e2c91aa45993fda0d5d">mutt_buffer_init</a>(&amp;flag_buffer);</div><div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;      <a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(&amp;flag_buffer, <span class="stringliteral">&quot;Mailbox flags: &quot;</span>);</div><div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;      <a class="code" href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a>(np, &amp;mdata-&gt;<a class="code" href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">flags</a>, entries)</div><div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;      {</div><div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <a class="code" href="buffer_8c.html#ac151bca8b7bc6724124073e7b4a6a09f">mutt_buffer_add_printf</a>(&amp;flag_buffer, <span class="stringliteral">&quot;[%s] &quot;</span>, np-&gt;<a class="code" href="structListNode.html#aafe688d670318196766392d8235d00a7">data</a>);</div><div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;      }</div><div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;      <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, flag_buffer.data);</div><div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;      <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;flag_buffer.data);</div><div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;    }</div><div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;  }</div><div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;</div><div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;  <span class="keywordflow">if</span> (!((m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>) || (m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a>) ||</div><div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;        (m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a>) || (m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp; <a class="code" href="mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a>)))</div><div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;  {</div><div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;  }</div><div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;</div><div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;  <span class="keywordflow">while</span> (m-&gt;<a class="code" href="structMailbox.html#a4b558e0bd6fab22212bd703350372555">email_max</a> &lt; count)</div><div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;    <a class="code" href="mx_8c.html#acd0bf144d7c5ae05d86d8fb5e0058780">mx_alloc_memory</a>(m);</div><div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;</div><div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = 0;</div><div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = 0;</div><div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">msg_flagged</a> = 0;</div><div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">msg_new</a> = 0;</div><div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">msg_deleted</a> = 0;</div><div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#ace276d581d6d299ecf227be214841148">size</a> = 0;</div><div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a0e1673cdf63976b1d148786457666f84">vcount</a> = 0;</div><div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;</div><div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;  <span class="keywordflow">if</span> (count &amp;&amp; (<a class="code" href="message_8c.html#abe57c68df95e87d0dbe1453903343042">imap_read_headers</a>(m, 1, count, <span class="keyword">true</span>) &lt; 0))</div><div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;  {</div><div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Error opening mailbox&quot;</span>));</div><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;    <span class="keywordflow">goto</span> fail;</div><div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;  }</div><div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;</div><div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;msg_count is %d\n&quot;</span>, m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div><div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div><div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;</div><div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;fail:</div><div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structImapAccountData.html#aafe97c07683cbc20007c8dd315b2d19e">state</a> == <a class="code" href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aad9e8eb2d142788743071016963183f21">IMAP_SELECTED</a>)</div><div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;    adata-&gt;<a class="code" href="structImapAccountData.html#aafe97c07683cbc20007c8dd315b2d19e">state</a> = <a class="code" href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aaccebf236e9a58144ad76895c753f4fa0">IMAP_AUTHENTICATED</a>;</div><div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;}</div><div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="structMailbox_html_ace276d581d6d299ecf227be214841148"><div class="ttname"><a href="structMailbox.html#ace276d581d6d299ecf227be214841148">Mailbox::size</a></div><div class="ttdeci">off_t size</div><div class="ttdoc">Size of the Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00087">mailbox.h:87</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="imap_2private_8h_html_a3e63d724ab73ca87b3f8f43a772d32ba"><div class="ttname"><a href="imap_2private_8h.html#a3e63d724ab73ca87b3f8f43a772d32ba">IMAP_RES_OK</a></div><div class="ttdeci">#define IMAP_RES_OK</div><div class="ttdoc">&lt;tag&gt; OK ... </div><div class="ttdef"><b>Definition:</b> <a href="imap_2private_8h_source.html#l00056">private.h:56</a></div></div>
<div class="ttc" id="command_8c_html_a8b9d7c9333e35981d94074e9dcc28e6f"><div class="ttname"><a href="command_8c.html#a8b9d7c9333e35981d94074e9dcc28e6f">imap_cmd_step</a></div><div class="ttdeci">int imap_cmd_step(struct ImapAccountData *adata)</div><div class="ttdoc">Reads server responses from an IMAP command. </div><div class="ttdef"><b>Definition:</b> <a href="command_8c_source.html#l01079">command.c:1079</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="structImapMboxData_html_ad03723407a1adabc338541cae865fc82"><div class="ttname"><a href="structImapMboxData.html#ad03723407a1adabc338541cae865fc82">ImapMboxData::uidvalidity</a></div><div class="ttdeci">uint32_t uidvalidity</div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00050">mdata.h:50</a></div></div>
<div class="ttc" id="structMailbox_html_ab5863d8f516c6db52e2fadb531bf8557"><div class="ttname"><a href="structMailbox.html#ab5863d8f516c6db52e2fadb531bf8557">Mailbox::msg_deleted</a></div><div class="ttdeci">int msg_deleted</div><div class="ttdoc">Number of deleted messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00096">mailbox.h:96</a></div></div>
<div class="ttc" id="structMailbox_html_af2632307a08699cf251e6599c8a84cac"><div class="ttname"><a href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">Mailbox::msg_unread</a></div><div class="ttdeci">int msg_unread</div><div class="ttdoc">Number of unread messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00092">mailbox.h:92</a></div></div>
<div class="ttc" id="mailbox_8h_html_aff498ce9ba288f7b247c4a408721a6db"><div class="ttname"><a href="mailbox_8h.html#aff498ce9ba288f7b247c4a408721a6db">MUTT_ACL_READ</a></div><div class="ttdeci">#define MUTT_ACL_READ</div><div class="ttdoc">Read the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00072">mailbox.h:72</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="imap_2private_8h_html_a3207e3d0454924e85cf684412e72ed7aaccebf236e9a58144ad76895c753f4fa0"><div class="ttname"><a href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aaccebf236e9a58144ad76895c753f4fa0">IMAP_AUTHENTICATED</a></div><div class="ttdoc">Connection is authenticated. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2private_8h_source.html#l00109">private.h:109</a></div></div>
<div class="ttc" id="structMailbox_html_ad8cc58166581060ab58acf36f22bfd4d"><div class="ttname"><a href="structMailbox.html#ad8cc58166581060ab58acf36f22bfd4d">Mailbox::msg_flagged</a></div><div class="ttdeci">int msg_flagged</div><div class="ttdoc">Number of flagged messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00093">mailbox.h:93</a></div></div>
<div class="ttc" id="mailbox_8h_html_a006b7689f9d9582b246d4761ba6e2585"><div class="ttname"><a href="mailbox_8h.html#a006b7689f9d9582b246d4761ba6e2585">MUTT_ACL_CREATE</a></div><div class="ttdeci">#define MUTT_ACL_CREATE</div><div class="ttdoc">Create a mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00065">mailbox.h:65</a></div></div>
<div class="ttc" id="structImapAccountData_html_aafe97c07683cbc20007c8dd315b2d19e"><div class="ttname"><a href="structImapAccountData.html#aafe97c07683cbc20007c8dd315b2d19e">ImapAccountData::state</a></div><div class="ttdeci">unsigned char state</div><div class="ttdoc">ImapState, e.g. IMAP_AUTHENTICATED. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00044">adata.h:44</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="mailbox_8h_html_a3dc345445c24e4c7ab02dfdfe0093d60"><div class="ttname"><a href="mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a></div><div class="ttdeci">#define MUTT_ACL_INSERT</div><div class="ttdoc">Add/copy into the mailbox (used when editing a message) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00069">mailbox.h:69</a></div></div>
<div class="ttc" id="mx_8c_html_acd0bf144d7c5ae05d86d8fb5e0058780"><div class="ttname"><a href="mx_8c.html#acd0bf144d7c5ae05d86d8fb5e0058780">mx_alloc_memory</a></div><div class="ttdeci">void mx_alloc_memory(struct Mailbox *m)</div><div class="ttdoc">Create storage for the emails. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01212">mx.c:1212</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="structImapAccountData_html_ab08af69f675be131e1431c11bf6cf4f0"><div class="ttname"><a href="structImapAccountData.html#ab08af69f675be131e1431c11bf6cf4f0">ImapAccountData::mailbox</a></div><div class="ttdeci">struct Mailbox * mailbox</div><div class="ttdoc">Current selected mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00076">adata.h:76</a></div></div>
<div class="ttc" id="imap_2private_8h_html_ac2225c270b21b238b8f64e1f7090baf0"><div class="ttname"><a href="imap_2private_8h.html#ac2225c270b21b238b8f64e1f7090baf0">imap_account_match</a></div><div class="ttdeci">bool imap_account_match(const struct ConnAccount *a1, const struct ConnAccount *a2)</div><div class="ttdoc">Compare two Accounts. </div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l01049">util.c:1049</a></div></div>
<div class="ttc" id="buffer_8c_html_ad057ee239ae5bcfd72cab3749036ab02"><div class="ttname"><a href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a></div><div class="ttdeci">int mutt_buffer_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00160">buffer.c:160</a></div></div>
<div class="ttc" id="mx_8c_html_a84a2454384495994852f5c8c797070dc"><div class="ttname"><a href="mx_8c.html#a84a2454384495994852f5c8c797070dc">mx_mbox_find2</a></div><div class="ttdeci">struct Mailbox * mx_mbox_find2(const char *path)</div><div class="ttdoc">Find a Mailbox on an Account. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01640">mx.c:1640</a></div></div>
<div class="ttc" id="helpers_8c_html_a96039a9f8d37daad993ae7b490510339"><div class="ttname"><a href="helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a></div><div class="ttdeci">short cs_subset_number(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a number config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00169">helpers.c:169</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="mailbox_8h_html_a7ada20153d03e30afe22e55e32d61fea"><div class="ttname"><a href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a></div><div class="ttdeci">#define MUTT_ACL_DELETE</div><div class="ttdoc">Delete a message. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00066">mailbox.h:66</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a></div><div class="ttdoc">Open succeeded. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00090">mxapi.h:90</a></div></div>
<div class="ttc" id="list_8c_html_ab5c53ce94cc2aafa4299dbc81a37f4a4"><div class="ttname"><a href="list_8c.html#ab5c53ce94cc2aafa4299dbc81a37f4a4">mutt_list_free</a></div><div class="ttdeci">void mutt_list_free(struct ListHead *h)</div><div class="ttdoc">Free a List AND its strings. </div><div class="ttdef"><b>Definition:</b> <a href="list_8c_source.html#l00122">list.c:122</a></div></div>
<div class="ttc" id="imap_8c_html_aa3e4e1578eeb887571cc9a8257a3232a"><div class="ttname"><a href="imap_8c.html#aa3e4e1578eeb887571cc9a8257a3232a">get_flags</a></div><div class="ttdeci">static char * get_flags(struct ListHead *hflags, char *s)</div><div class="ttdoc">Make a simple list out of a FLAGS response. </div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l00121">imap.c:121</a></div></div>
<div class="ttc" id="structMailbox_html_a0e1673cdf63976b1d148786457666f84"><div class="ttname"><a href="structMailbox.html#a0e1673cdf63976b1d148786457666f84">Mailbox::vcount</a></div><div class="ttdeci">int vcount</div><div class="ttdoc">The number of virtual messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00102">mailbox.h:102</a></div></div>
<div class="ttc" id="structImapMboxData_html_a5b7958aa356cbb9e73e5b95334613eb6"><div class="ttname"><a href="structImapMboxData.html#a5b7958aa356cbb9e73e5b95334613eb6">ImapMboxData::new_mail_count</a></div><div class="ttdeci">unsigned int new_mail_count</div><div class="ttdoc">Set when EXISTS notifies of new mail. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="imap_2private_8h_html_a58b60495085285d725885a1efef98074"><div class="ttname"><a href="imap_2private_8h.html#a58b60495085285d725885a1efef98074">imap_next_word</a></div><div class="ttdeci">char * imap_next_word(char *s)</div><div class="ttdoc">Find where the next IMAP word begins. </div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00792">util.c:792</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="structMailbox_html_ae55237419d0e842cd6efeed0c41d27e8"><div class="ttname"><a href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">Mailbox::readonly</a></div><div class="ttdeci">bool readonly</div><div class="ttdoc">Don&amp;#39;t allow changes to the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00119">mailbox.h:119</a></div></div>
<div class="ttc" id="message_8c_html_abe57c68df95e87d0dbe1453903343042"><div class="ttname"><a href="message_8c.html#abe57c68df95e87d0dbe1453903343042">imap_read_headers</a></div><div class="ttdeci">int imap_read_headers(struct Mailbox *m, unsigned int msn_begin, unsigned int msn_end, bool initial_download)</div><div class="ttdoc">Read headers from the server. </div><div class="ttdef"><b>Definition:</b> <a href="message_8c_source.html#l01299">message.c:1299</a></div></div>
<div class="ttc" id="imap_2mdata_8c_html_acdbc54bfe42c13f551c58b0a9b9ba8ff"><div class="ttname"><a href="imap_2mdata_8c.html#acdbc54bfe42c13f551c58b0a9b9ba8ff">imap_mdata_get</a></div><div class="ttdeci">struct ImapMboxData * imap_mdata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox data for this mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8c_source.html#l00059">mdata.c:59</a></div></div>
<div class="ttc" id="imap_2private_8h_html_a3207e3d0454924e85cf684412e72ed7aad9e8eb2d142788743071016963183f21"><div class="ttname"><a href="imap_2private_8h.html#a3207e3d0454924e85cf684412e72ed7aad9e8eb2d142788743071016963183f21">IMAP_SELECTED</a></div><div class="ttdoc">Mailbox is selected. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2private_8h_source.html#l00110">private.h:110</a></div></div>
<div class="ttc" id="structImapAccountData_html_a1d1842d28b0455afee7ddd7f829f6c02"><div class="ttname"><a href="structImapAccountData.html#a1d1842d28b0455afee7ddd7f829f6c02">ImapAccountData::prev_mailbox</a></div><div class="ttdeci">struct Mailbox * prev_mailbox</div><div class="ttdoc">Previously selected mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00077">adata.h:77</a></div></div>
<div class="ttc" id="buffer_8c_html_ac151bca8b7bc6724124073e7b4a6a09f"><div class="ttname"><a href="buffer_8c.html#ac151bca8b7bc6724124073e7b4a6a09f">mutt_buffer_add_printf</a></div><div class="ttdeci">int mutt_buffer_add_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string appending a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00203">buffer.c:203</a></div></div>
<div class="ttc" id="mailbox_8h_html_a1860842fb9744ebdd3d7bfeffb4f60be"><div class="ttname"><a href="mailbox_8h.html#a1860842fb9744ebdd3d7bfeffb4f60be">MUTT_ACL_POST</a></div><div class="ttdeci">#define MUTT_ACL_POST</div><div class="ttdoc">Post (submit messages to the server) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00071">mailbox.h:71</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="mailbox_8h_html_ac495d1273b7f2399403a2932b6ff2fd3"><div class="ttname"><a href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a></div><div class="ttdeci">#define MUTT_ACL_WRITE</div><div class="ttdoc">Write to a message (for flagging or linking threads) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00074">mailbox.h:74</a></div></div>
<div class="ttc" id="structImapMboxData_html_a8efadd7049504cce68615397dfbf0f05"><div class="ttname"><a href="structImapMboxData.html#a8efadd7049504cce68615397dfbf0f05">ImapMboxData::modseq</a></div><div class="ttdeci">unsigned long long modseq</div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00052">mdata.h:52</a></div></div>
<div class="ttc" id="command_8c_html_adeef1f9ecc4cb80dbddee9264200d7bd"><div class="ttname"><a href="command_8c.html#adeef1f9ecc4cb80dbddee9264200d7bd">imap_exec</a></div><div class="ttdeci">int imap_exec(struct ImapAccountData *adata, const char *cmdstr, ImapCmdFlags flags)</div><div class="ttdoc">Execute a command and wait for the response from the server. </div><div class="ttdef"><b>Definition:</b> <a href="command_8c_source.html#l01250">command.c:1250</a></div></div>
<div class="ttc" id="structMailbox_html_a4b558e0bd6fab22212bd703350372555"><div class="ttname"><a href="structMailbox.html#a4b558e0bd6fab22212bd703350372555">Mailbox::email_max</a></div><div class="ttdeci">int email_max</div><div class="ttdoc">Number of pointers in emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00100">mailbox.h:100</a></div></div>
<div class="ttc" id="structMailbox_html"><div class="ttname"><a href="structMailbox.html">Mailbox</a></div><div class="ttdoc">A mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00081">mailbox.h:81</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="structImapMboxData_html_a2beaa276acd56ef3039d045536467873"><div class="ttname"><a href="structImapMboxData.html#a2beaa276acd56ef3039d045536467873">ImapMboxData::flags</a></div><div class="ttdeci">struct ListHead flags</div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00049">mdata.h:49</a></div></div>
<div class="ttc" id="structAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends) </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00043">account.h:43</a></div></div>
<div class="ttc" id="structImapAccountData_html_ac6488a600297eee1e5d203872e93f9d2"><div class="ttname"><a href="structImapAccountData.html#ac6488a600297eee1e5d203872e93f9d2">ImapAccountData::status</a></div><div class="ttdeci">unsigned char status</div><div class="ttdoc">ImapFlags, e.g. IMAP_FATAL. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00045">adata.h:45</a></div></div>
<div class="ttc" id="structBuffer_html_aeec1fd4af0ddf6765b0187466d4361b8"><div class="ttname"><a href="structBuffer.html#aeec1fd4af0ddf6765b0187466d4361b8">Buffer::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">Pointer to data. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00035">buffer.h:35</a></div></div>
<div class="ttc" id="structImapMboxData_html_ad16e4ff0444eceaf5cf6700d00cc5c9f"><div class="ttname"><a href="structImapMboxData.html#ad16e4ff0444eceaf5cf6700d00cc5c9f">ImapMboxData::name</a></div><div class="ttdeci">char * name</div><div class="ttdoc">Mailbox name. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
<div class="ttc" id="helpers_8c_html_ac477c591155aa4ae0452bbabc0affffe"><div class="ttname"><a href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00317">helpers.c:317</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a51fd18afc9cc0ca92840d8653180538c"><div class="ttname"><a href="mutt_2string_8c.html#a51fd18afc9cc0ca92840d8653180538c">mutt_str_atoui</a></div><div class="ttdeci">int mutt_str_atoui(const char *str, unsigned int *dst)</div><div class="ttdoc">Convert ASCII string to an unsigned integer. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00282">string.c:282</a></div></div>
<div class="ttc" id="structMailbox_html_af1ff47b8f14a4503c9b8473582b13d5a"><div class="ttname"><a href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">Mailbox::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">Display status messages? </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00118">mailbox.h:118</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_af713aa39f6f54eb39f3212a71f58e33c"><div class="ttname"><a href="mutt_2string_8c.html#af713aa39f6f54eb39f3212a71f58e33c">mutt_str_atoull</a></div><div class="ttdeci">int mutt_str_atoull(const char *str, unsigned long long *dst)</div><div class="ttdoc">Convert ASCII string to an unsigned long long. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00343">string.c:343</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_aebd2a8a3f8a30062c31fa1474d87cc41"><div class="ttname"><a href="mutt_2string_8c.html#aebd2a8a3f8a30062c31fa1474d87cc41">mutt_istr_startswith</a></div><div class="ttdeci">size_t mutt_istr_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix, ignoring case. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00172">string.c:172</a></div></div>
<div class="ttc" id="imap_8c_html_a0b252c6e7f2cc646db9414ea27a11a55"><div class="ttname"><a href="imap_8c.html#a0b252c6e7f2cc646db9414ea27a11a55">imap_mailbox_status</a></div><div class="ttdeci">int imap_mailbox_status(struct Mailbox *m, bool queue)</div><div class="ttdoc">Refresh the number of total and new messages. </div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l01270">imap.c:1270</a></div></div>
<div class="ttc" id="structImapAccountData_html_aa1ba7fde388cdd8e1133c1784e5ed4ea"><div class="ttname"><a href="structImapAccountData.html#aa1ba7fde388cdd8e1133c1784e5ed4ea">ImapAccountData::capabilities</a></div><div class="ttdeci">ImapCapFlags capabilities</div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
<div class="ttc" id="structMailbox_html_a44766ec39ab823278479d0a8fe7b5f73"><div class="ttname"><a href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">Mailbox::rights</a></div><div class="ttdeci">AclFlags rights</div><div class="ttdoc">ACL bits, see AclFlags. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00121">mailbox.h:121</a></div></div>
<div class="ttc" id="queue_8h_html_a77999ebdf5aaf7af8b8ea22bf208c432"><div class="ttname"><a href="queue_8h.html#a77999ebdf5aaf7af8b8ea22bf208c432">STAILQ_FOREACH</a></div><div class="ttdeci">#define STAILQ_FOREACH(var, head, field)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00352">queue.h:352</a></div></div>
<div class="ttc" id="imap_2private_8h_html_ac10fb2fab1bc13f077a3c973883d8088"><div class="ttname"><a href="imap_2private_8h.html#ac10fb2fab1bc13f077a3c973883d8088">IMAP_RES_NO</a></div><div class="ttdeci">#define IMAP_RES_NO</div><div class="ttdoc">&lt;tag&gt; NO ... </div><div class="ttdef"><b>Definition:</b> <a href="imap_2private_8h_source.html#l00054">private.h:54</a></div></div>
<div class="ttc" id="imap_2adata_8c_html_a0ca70f0a790494cb3e6cbdaf3cb004a4"><div class="ttname"><a href="imap_2adata_8c.html#a0ca70f0a790494cb3e6cbdaf3cb004a4">imap_adata_get</a></div><div class="ttdeci">struct ImapAccountData * imap_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Account data for this mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8c_source.html#l00090">adata.c:90</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="imap_8c_html_ae508cb6f612071ea4549814aa3532c89"><div class="ttname"><a href="imap_8c.html#ae508cb6f612071ea4549814aa3532c89">imap_mbox_select</a></div><div class="ttdeci">static void imap_mbox_select(struct Mailbox *m)</div><div class="ttdoc">Select a Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="imap_8c_source.html#l01816">imap.c:1816</a></div></div>
<div class="ttc" id="structImapAccountData_html"><div class="ttname"><a href="structImapAccountData.html">ImapAccountData</a></div><div class="ttdoc">IMAP-specific Account data -. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00039">adata.h:39</a></div></div>
<div class="ttc" id="structImapMboxData_html_a07a8887ba1a079dd0d5079e0df523f97"><div class="ttname"><a href="structImapMboxData.html#a07a8887ba1a079dd0d5079e0df523f97">ImapMboxData::uid_next</a></div><div class="ttdeci">unsigned int uid_next</div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00051">mdata.h:51</a></div></div>
<div class="ttc" id="imap_2private_8h_html_ade12f477bcb371557bb305b920236e16"><div class="ttname"><a href="imap_2private_8h.html#ade12f477bcb371557bb305b920236e16">imap_get_qualifier</a></div><div class="ttdeci">char * imap_get_qualifier(char *buf)</div><div class="ttdoc">Get the qualifier from a tagged response. </div><div class="ttdef"><b>Definition:</b> <a href="util_8c_source.html#l00775">util.c:775</a></div></div>
<div class="ttc" id="structListNode_html_aafe688d670318196766392d8235d00a7"><div class="ttname"><a href="structListNode.html#aafe688d670318196766392d8235d00a7">ListNode::data</a></div><div class="ttdeci">char * data</div><div class="ttdoc">String. </div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00036">list.h:36</a></div></div>
<div class="ttc" id="structMailbox_html_ab9a4528fcd39e61bdefd4dcfdbc6252f"><div class="ttname"><a href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">Mailbox::account</a></div><div class="ttdeci">struct Account * account</div><div class="ttdoc">Account that owns this Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00131">mailbox.h:131</a></div></div>
<div class="ttc" id="structImapMboxData_html"><div class="ttname"><a href="structImapMboxData.html">ImapMboxData</a></div><div class="ttdoc">IMAP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00038">mdata.h:38</a></div></div>
<div class="ttc" id="structImapAccountData_html_ae2a1c679abb95b27819897b57ee436fd"><div class="ttname"><a href="structImapAccountData.html#ae2a1c679abb95b27819897b57ee436fd">ImapAccountData::buf</a></div><div class="ttdeci">char * buf</div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="structMailbox_html_a3348499d9eb11b4e48f073d2eddb2be4"><div class="ttname"><a href="structMailbox.html#a3348499d9eb11b4e48f073d2eddb2be4">Mailbox::msg_new</a></div><div class="ttdeci">int msg_new</div><div class="ttdoc">Number of new messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00095">mailbox.h:95</a></div></div>
<div class="ttc" id="group__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00087">logging.h:87</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="mailbox_8h_html_af726790bdcf33b797e735f03aab88730"><div class="ttname"><a href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a></div><div class="ttdeci">#define MUTT_ACL_SEEN</div><div class="ttdoc">Change the &amp;#39;seen&amp;#39; status of a message. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00073">mailbox.h:73</a></div></div>
<div class="ttc" id="queue_8h_html_a8427c8f43d09d73062cf6b37f303aff5"><div class="ttname"><a href="queue_8h.html#a8427c8f43d09d73062cf6b37f303aff5">STAILQ_EMPTY</a></div><div class="ttdeci">#define STAILQ_EMPTY(head)</div><div class="ttdef"><b>Definition:</b> <a href="queue_8h_source.html#l00348">queue.h:348</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="imap_2private_8h_html_af5a1e8e10143cb70e9af987686df4108"><div class="ttname"><a href="imap_2private_8h.html#af5a1e8e10143cb70e9af987686df4108">IMAP_CMD_QUEUE</a></div><div class="ttdeci">#define IMAP_CMD_QUEUE</div><div class="ttdoc">Queue a command, do not execute. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2private_8h_source.html#l00075">private.h:75</a></div></div>
<div class="ttc" id="buffer_8c_html_ab807be90af362e2c91aa45993fda0d5d"><div class="ttname"><a href="buffer_8c.html#ab807be90af362e2c91aa45993fda0d5d">mutt_buffer_init</a></div><div class="ttdeci">struct Buffer * mutt_buffer_init(struct Buffer *buf)</div><div class="ttdoc">Initialise a new Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00046">buffer.c:46</a></div></div>
<div class="ttc" id="structMailbox_html_aa44c1232018ddd1953039aa857b23ab5"><div class="ttname"><a href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">Mailbox::pathbuf</a></div><div class="ttdeci">struct Buffer pathbuf</div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00083">mailbox.h:83</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
<div class="ttc" id="structListNode_html"><div class="ttname"><a href="structListNode.html">ListNode</a></div><div class="ttdoc">A List node for strings. </div><div class="ttdef"><b>Definition:</b> <a href="list_8h_source.html#l00034">list.h:34</a></div></div>
<div class="ttc" id="imap_2private_8h_html_add0869283ae9186ac31a7169b246cc6b"><div class="ttname"><a href="imap_2private_8h.html#add0869283ae9186ac31a7169b246cc6b">IMAP_RES_CONTINUE</a></div><div class="ttdeci">#define IMAP_RES_CONTINUE</div><div class="ttdoc">* ... </div><div class="ttdef"><b>Definition:</b> <a href="imap_2private_8h_source.html#l00057">private.h:57</a></div></div>
<div class="ttc" id="structImapMboxData_html_ac08c3acbb69452d9db121fddbbf1637a"><div class="ttname"><a href="structImapMboxData.html#ac08c3acbb69452d9db121fddbbf1637a">ImapMboxData::munge_name</a></div><div class="ttdeci">char * munge_name</div><div class="ttdoc">Munged version of the mailbox name. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="imap_2private_8h_html_a8bf6db700e89d830738d2a23e9594af2"><div class="ttname"><a href="imap_2private_8h.html#a8bf6db700e89d830738d2a23e9594af2">IMAP_CAP_ACL</a></div><div class="ttdeci">#define IMAP_CAP_ACL</div><div class="ttdoc">RFC2086: IMAP4 ACL extension. </div><div class="ttdef"><b>Definition:</b> <a href="imap_2private_8h_source.html#l00126">private.h:126</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9a51339e1b6c72f67dcc9649e7859789c5">LL_DEBUG3</a></div><div class="ttdoc">Log at debug level 3. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00042">logging.h:42</a></div></div>
<div class="ttc" id="mailbox_8h_html_a2f00180fcee84fde51fd10c718a21201"><div class="ttname"><a href="mailbox_8h.html#a2f00180fcee84fde51fd10c718a21201">MUTT_ACL_LOOKUP</a></div><div class="ttdeci">#define MUTT_ACL_LOOKUP</div><div class="ttdoc">Lookup mailbox (visible to &amp;#39;list&amp;#39;) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00070">mailbox.h:70</a></div></div>
<div class="ttc" id="structImapAccountData_html_af7d73598916e5b0b789c78c904ff47a4"><div class="ttname"><a href="structImapAccountData.html#af7d73598916e5b0b789c78c904ff47a4">ImapAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="imap_2adata_8h_source.html#l00041">adata.h:41</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gac97da7839145e4cf23c319967ecc7001_cgraph.svg" width="748" height="1167"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga0d49dd279813674de04755796aefa2e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0d49dd279813674de04755796aefa2e7">&#9670;&nbsp;</a></span>maildir_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> maildir_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="maildir_8c_source.html#l01092">1092</a> of file <a class="el" href="maildir_8c_source.html">maildir.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;{</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  <span class="comment">/* maildir looks sort of like MH, except that there are two subdirectories</span></div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;<span class="comment">   * of the main folder path from which to read messages */</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <span class="keywordflow">if</span> ((<a class="code" href="maildir_8c.html#a987466197bfb964bed3f0eaff9fafe62">maildir_read_dir</a>(m, <span class="stringliteral">&quot;new&quot;</span>) == -1) || (<a class="code" href="maildir_8c.html#a987466197bfb964bed3f0eaff9fafe62">maildir_read_dir</a>(m, <span class="stringliteral">&quot;cur&quot;</span>) == -1))</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;}</div><div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a></div><div class="ttdoc">Open succeeded. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00090">mxapi.h:90</a></div></div>
<div class="ttc" id="maildir_8c_html_a987466197bfb964bed3f0eaff9fafe62"><div class="ttname"><a href="maildir_8c.html#a987466197bfb964bed3f0eaff9fafe62">maildir_read_dir</a></div><div class="ttdeci">int maildir_read_dir(struct Mailbox *m, const char *subdir)</div><div class="ttdoc">Read a Maildir style mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="maildir_8c_source.html#l00673">maildir.c:673</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
</div><!-- fragment --><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga0d49dd279813674de04755796aefa2e7_cgraph.svg" width="338" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gab7ce024784207f6e476aa788c55b0e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7ce024784207f6e476aa788c55b0e9b">&#9670;&nbsp;</a></span>mh_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> mh_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mh_8c_source.html#l00842">842</a> of file <a class="el" href="mh_8c_source.html">mh.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;{</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mh_8c.html#ae374fa312c846e5836c0fcce3aeec4f4">mh_read_dir</a>(m) ? <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a> : <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;}</div><div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a></div><div class="ttdoc">Open succeeded. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00090">mxapi.h:90</a></div></div>
<div class="ttc" id="mh_8c_html_ae374fa312c846e5836c0fcce3aeec4f4"><div class="ttname"><a href="mh_8c.html#ae374fa312c846e5836c0fcce3aeec4f4">mh_read_dir</a></div><div class="ttdeci">static bool mh_read_dir(struct Mailbox *m)</div><div class="ttdoc">Read an MH mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00687">mh.c:687</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gab7ce024784207f6e476aa788c55b0e9b_cgraph.svg" width="288" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gaa0908167a905e8a9d3e3541e7c5a416e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0908167a905e8a9d3e3541e7c5a416e">&#9670;&nbsp;</a></span>mbox_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> mbox_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="mbox_8c_source.html#l00925">925</a> of file <a class="el" href="mbox_8c_source.html">mbox.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;{</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mbox_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a>(m) != 0)</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keyword">struct </span><a class="code" href="structMboxAccountData.html">MboxAccountData</a> *<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code" href="mbox_8c.html#a419147baf9061c723560f16f5624d585">mbox_adata_get</a>(m);</div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <span class="keywordflow">if</span> (!adata)</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  adata-&gt;<a class="code" href="structMboxAccountData.html#a5b98e08c3191fc9525c5785a68fd6281">fp</a> = <a class="code" href="mbox_8c.html#a47b61940c5fac55300f6e3090b7a1456">mbox_open_readwrite</a>(m);</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;  <span class="keywordflow">if</span> (!adata-&gt;<a class="code" href="structMboxAccountData.html#a5b98e08c3191fc9525c5785a68fd6281">fp</a>)</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  {</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    adata-&gt;<a class="code" href="structMboxAccountData.html#a5b98e08c3191fc9525c5785a68fd6281">fp</a> = <a class="code" href="mbox_8c.html#a0349bdfa045d1372ca96e0464c1ea6f8">mbox_open_readonly</a>(m);</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  }</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordflow">if</span> (!adata-&gt;<a class="code" href="structMboxAccountData.html#a5b98e08c3191fc9525c5785a68fd6281">fp</a>)</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  {</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m));</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  }</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  <a class="code" href="signal_8c.html#aa6c49e5535cdffeffd2cd4eee28bc96b">mutt_sig_block</a>();</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mbox_8c.html#a1c304c29562f920b2ba11fabcc14c268">mbox_lock_mailbox</a>(m, <span class="keyword">false</span>, <span class="keyword">true</span>) == -1)</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  {</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    <a class="code" href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a>();</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;  }</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="keyword">enum</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> rc = <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da817ef3cf5f529965875400b412678525">MUTT_MBOX</a>)</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    rc = <a class="code" href="mbox_8c.html#a0c856532edc1e1040922489ada94cc0d">mbox_parse_mailbox</a>(m);</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da09cef4c4e3dc42c9137860413dcdb374">MUTT_MMDF</a>)</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    rc = <a class="code" href="mbox_8c.html#ad71d97d10ebedc0dd20050efed3d997c">mmdf_parse_mailbox</a>(m);</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    rc = <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="mbox_8c.html#a1b48e889cb30d3c7d9c4eacc3fddd936">mbox_has_new</a>(m))</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">has_new</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  clearerr(adata-&gt;<a class="code" href="structMboxAccountData.html#a5b98e08c3191fc9525c5785a68fd6281">fp</a>); <span class="comment">// Clear the EOF flag</span></div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="file_8c.html#a3b39a0ad0a86d765510227b75fba988e">mutt_file_touch_atime</a>(fileno(adata-&gt;<a class="code" href="structMboxAccountData.html#a5b98e08c3191fc9525c5785a68fd6281">fp</a>));</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <a class="code" href="mbox_8c.html#aad6c03c38f626757199e4fd0835253ae">mbox_unlock_mailbox</a>(m);</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;  <a class="code" href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a>();</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;}</div><div class="ttc" id="mailbox_8h_html_a04aa11207205b6778388dfc8ed56ee0d"><div class="ttname"><a href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&amp;#39;s path string. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00215">mailbox.h:215</a></div></div>
<div class="ttc" id="file_8c_html_a3b39a0ad0a86d765510227b75fba988e"><div class="ttname"><a href="file_8c.html#a3b39a0ad0a86d765510227b75fba988e">mutt_file_touch_atime</a></div><div class="ttdeci">void mutt_file_touch_atime(int fd)</div><div class="ttdoc">Set the access time to current time. </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l01029">file.c:1029</a></div></div>
<div class="ttc" id="signal_8c_html_aa9356c41baa1b35d3a7719f90570e6b7"><div class="ttname"><a href="signal_8c.html#aa9356c41baa1b35d3a7719f90570e6b7">mutt_sig_unblock</a></div><div class="ttdeci">void mutt_sig_unblock(void)</div><div class="ttdoc">Restore previously blocked signals. </div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00168">signal.c:168</a></div></div>
<div class="ttc" id="structMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00105">mailbox.h:105</a></div></div>
<div class="ttc" id="mbox_8c_html_a0349bdfa045d1372ca96e0464c1ea6f8"><div class="ttname"><a href="mbox_8c.html#a0349bdfa045d1372ca96e0464c1ea6f8">mbox_open_readonly</a></div><div class="ttdeci">static FILE * mbox_open_readonly(struct Mailbox *m)</div><div class="ttdoc">Open an mbox read-only. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00914">mbox.c:914</a></div></div>
<div class="ttc" id="structMboxAccountData_html"><div class="ttname"><a href="structMboxAccountData.html">MboxAccountData</a></div><div class="ttdoc">Mbox-specific Account data -. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_2lib_8h_source.html#l00048">lib.h:48</a></div></div>
<div class="ttc" id="mbox_8c_html_a0c856532edc1e1040922489ada94cc0d"><div class="ttname"><a href="mbox_8c.html#a0c856532edc1e1040922489ada94cc0d">mbox_parse_mailbox</a></div><div class="ttdeci">static enum MxOpenReturns mbox_parse_mailbox(struct Mailbox *m)</div><div class="ttdoc">Read a mailbox from disk. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00349">mbox.c:349</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cad"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a></div><div class="ttdeci">MxOpenReturns</div><div class="ttdoc">Return values for mbox_open() </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00088">mxapi.h:88</a></div></div>
<div class="ttc" id="mbox_8c_html_a47b61940c5fac55300f6e3090b7a1456"><div class="ttname"><a href="mbox_8c.html#a47b61940c5fac55300f6e3090b7a1456">mbox_open_readwrite</a></div><div class="ttdeci">static FILE * mbox_open_readwrite(struct Mailbox *m)</div><div class="ttdoc">Open an mbox read-write. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00899">mbox.c:899</a></div></div>
<div class="ttc" id="mbox_8c_html_ad71d97d10ebedc0dd20050efed3d997c"><div class="ttname"><a href="mbox_8c.html#ad71d97d10ebedc0dd20050efed3d997c">mmdf_parse_mailbox</a></div><div class="ttdeci">static enum MxOpenReturns mmdf_parse_mailbox(struct Mailbox *m)</div><div class="ttdoc">Read a mailbox in MMDF format. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00182">mbox.c:182</a></div></div>
<div class="ttc" id="group__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00089">logging.h:89</a></div></div>
<div class="ttc" id="mbox_8c_html_a1c304c29562f920b2ba11fabcc14c268"><div class="ttname"><a href="mbox_8c.html#a1c304c29562f920b2ba11fabcc14c268">mbox_lock_mailbox</a></div><div class="ttdeci">static int mbox_lock_mailbox(struct Mailbox *m, bool excl, bool retry)</div><div class="ttdoc">Lock a mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00140">mbox.c:140</a></div></div>
<div class="ttc" id="structMailbox_html_a185d46a268fdf1e34ee061a28d51414e"><div class="ttname"><a href="structMailbox.html#a185d46a268fdf1e34ee061a28d51414e">Mailbox::has_new</a></div><div class="ttdeci">bool has_new</div><div class="ttdoc">Mailbox has new mail. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00088">mailbox.h:88</a></div></div>
<div class="ttc" id="mbox_8c_html_a1b48e889cb30d3c7d9c4eacc3fddd936"><div class="ttname"><a href="mbox_8c.html#a1b48e889cb30d3c7d9c4eacc3fddd936">mbox_has_new</a></div><div class="ttdeci">static bool mbox_has_new(struct Mailbox *m)</div><div class="ttdoc">Does the mailbox have new mail. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00720">mbox.c:720</a></div></div>
<div class="ttc" id="structAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends) </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00043">account.h:43</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921da09cef4c4e3dc42c9137860413dcdb374"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da09cef4c4e3dc42c9137860413dcdb374">MUTT_MMDF</a></div><div class="ttdoc">&amp;#39;mmdf&amp;#39; Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00049">mailbox.h:49</a></div></div>
<div class="ttc" id="mbox_8c_html_a419147baf9061c723560f16f5624d585"><div class="ttname"><a href="mbox_8c.html#a419147baf9061c723560f16f5624d585">mbox_adata_get</a></div><div class="ttdeci">static struct MboxAccountData * mbox_adata_get(struct Mailbox *m)</div><div class="ttdoc">Get the private data associated with a Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00100">mbox.c:100</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921da817ef3cf5f529965875400b412678525"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da817ef3cf5f529965875400b412678525">MUTT_MBOX</a></div><div class="ttdoc">&amp;#39;mbox&amp;#39; Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00048">mailbox.h:48</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
<div class="ttc" id="mbox_8c_html_aad6c03c38f626757199e4fd0835253ae"><div class="ttname"><a href="mbox_8c.html#aad6c03c38f626757199e4fd0835253ae">mbox_unlock_mailbox</a></div><div class="ttdeci">static void mbox_unlock_mailbox(struct Mailbox *m)</div><div class="ttdoc">Unlock a mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00162">mbox.c:162</a></div></div>
<div class="ttc" id="structMboxAccountData_html_a5b98e08c3191fc9525c5785a68fd6281"><div class="ttname"><a href="structMboxAccountData.html#a5b98e08c3191fc9525c5785a68fd6281">MboxAccountData::fp</a></div><div class="ttdeci">FILE * fp</div><div class="ttdoc">Mailbox file. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_2lib_8h_source.html#l00050">lib.h:50</a></div></div>
<div class="ttc" id="signal_8c_html_aa6c49e5535cdffeffd2cd4eee28bc96b"><div class="ttname"><a href="signal_8c.html#aa6c49e5535cdffeffd2cd4eee28bc96b">mutt_sig_block</a></div><div class="ttdeci">void mutt_sig_block(void)</div><div class="ttdoc">Block signals during critical operations. </div><div class="ttdef"><b>Definition:</b> <a href="signal_8c_source.html#l00150">signal.c:150</a></div></div>
<div class="ttc" id="mbox_8c_html_a49be0897f8fb6c33c74a838b83f4ed46"><div class="ttname"><a href="mbox_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a></div><div class="ttdeci">static int init_mailbox(struct Mailbox *m)</div><div class="ttdoc">Add Mbox data to the Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mbox_8c_source.html#l00118">mbox.c:118</a></div></div>
</div><!-- fragment --><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gaa0908167a905e8a9d3e3541e7c5a416e_cgraph.svg" width="550" height="646"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gaa0908167a905e8a9d3e3541e7c5a416e_icgraph.svg" width="350" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga958364186e337ca6168094e57f038296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga958364186e337ca6168094e57f038296">&#9670;&nbsp;</a></span>nntp_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> nntp_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02307">2307</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;{</div><div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;  <span class="keywordflow">if</span> (!m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>)</div><div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;</div><div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;  <span class="keywordtype">char</span> buf[8192];</div><div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;  <span class="keywordtype">char</span> server[1024];</div><div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;  <span class="keywordtype">char</span> *group = NULL;</div><div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;  <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;  <span class="keywordtype">void</span> *hc = NULL;</div><div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;  <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first, last, count = 0;</div><div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;</div><div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;  <span class="keyword">struct </span><a class="code" href="structUrl.html">Url</a> *url = <a class="code" href="url_8c.html#a10d35f5553c8e443c38257b69ca91075">url_parse</a>(<a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m));</div><div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;  <span class="keywordflow">if</span> (!url || !url-&gt;<a class="code" href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">host</a> || !url-&gt;<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> ||</div><div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;      !((url-&gt;<a class="code" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a>) || (url-&gt;<a class="code" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a>)))</div><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;  {</div><div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <a class="code" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div><div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is an invalid newsgroup specification&quot;</span>), <a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m));</div><div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;  }</div><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;</div><div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;  group = url-&gt;<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>;</div><div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;  <span class="keywordflow">if</span> (group[0] == <span class="charliteral">&#39;/&#39;</span>) <span class="comment">/* Skip a leading &#39;/&#39; */</span></div><div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;    group++;</div><div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;</div><div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;  url-&gt;<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = strchr(url-&gt;<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>, <span class="charliteral">&#39;\0&#39;</span>);</div><div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;  <a class="code" href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a>(url, server, <span class="keyword">sizeof</span>(server), <a class="code" href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a>);</div><div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;</div><div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;  <a class="code" href="hook_8c.html#a4d4e38013bebd1e23d668454609a3def">mutt_account_hook</a>(m-&gt;<a class="code" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>);</div><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div><div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;  <span class="keywordflow">if</span> (!adata)</div><div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;  {</div><div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    adata = <a class="code" href="nntp_2lib_8h.html#ac4e2953e3c6f9d6d57467cb5e2856d1e">nntp_select_server</a>(m, server, <span class="keyword">true</span>);</div><div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div><div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code" href="structAccount.html#abf7f6da8ea09b773cd7b3eb6faa97b8e">adata_free</a> = <a class="code" href="nntp_2adata_8c.html#a978f1ef801a8eed9bf8fb2397f73234e">nntp_adata_free</a>;</div><div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;  }</div><div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;</div><div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;  <span class="keywordflow">if</span> (!adata)</div><div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;  {</div><div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <a class="code" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div><div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;  }</div><div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;  <a class="code" href="nntp_8c.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a> = <a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;</div><div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> = 0;</div><div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">msg_unread</a> = 0;</div><div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a0e1673cdf63976b1d148786457666f84">vcount</a> = 0;</div><div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;</div><div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;  <span class="keywordflow">if</span> (group[0] == <span class="charliteral">&#39;/&#39;</span>)</div><div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;    group++;</div><div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;</div><div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;  <span class="comment">/* find news group data structure */</span></div><div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, group);</div><div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;  <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;  {</div><div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;    <a class="code" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Newsgroup %s not found on the server&quot;</span>), group);</div><div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;    <a class="code" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div><div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;  }</div><div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;</div><div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp;= ~<a class="code" href="mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a>; <span class="comment">// Clear the flag</span></div><div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed =</div><div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div><div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;  <span class="keywordflow">if</span> (!mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> &amp;&amp; !mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> &amp;&amp; !c_save_unsubscribed)</div><div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">readonly</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;</div><div class="line"><a name="l02374"></a><span class="lineno"> 2374</span>&#160;  <span class="comment">/* select newsgroup */</span></div><div class="line"><a name="l02375"></a><span class="lineno"> 2375</span>&#160;  <a class="code" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Selecting %s...&quot;</span>), group);</div><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;  <a class="code" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div><div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;  buf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a>(mdata, buf, <span class="keyword">sizeof</span>(buf)) &lt; 0)</div><div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;  {</div><div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <a class="code" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;  }</div><div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;</div><div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;  <span class="comment">/* newsgroup not found, remove it */</span></div><div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;411&quot;</span>))</div><div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;  {</div><div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Newsgroup %s has been removed from the server&quot;</span>), mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;    <span class="keywordflow">if</span> (!mdata-&gt;<a class="code" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a>)</div><div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;    {</div><div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;      <a class="code" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(adata);</div><div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;    }</div><div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;    <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> &amp;&amp; !mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> &amp;&amp; !c_save_unsubscribed)</div><div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;    {</div><div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;      <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>);</div><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = 0;</div><div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;      <a class="code" href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a>(mdata);</div><div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;      <a class="code" href="nntp_2lib_8h.html#a6ae05e2f17614ff64c3429ac40ec5119">nntp_newsrc_update</a>(adata);</div><div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    }</div><div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;  }</div><div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div><div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;  <span class="comment">/* parse newsgroup info */</span></div><div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;  {</div><div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;    <span class="keywordflow">if</span> (sscanf(buf, <span class="stringliteral">&quot;211 &quot;</span> <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a> <span class="stringliteral">&quot; &quot;</span> <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a> <span class="stringliteral">&quot; &quot;</span> <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a>, &amp;count, &amp;first, &amp;last) != 3)</div><div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    {</div><div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;      <a class="code" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;      <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;GROUP: %s&quot;</span>, buf);</div><div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    }</div><div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> = first;</div><div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> = last;</div><div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;</div><div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;    <span class="comment">/* get description if empty */</span></div><div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_nntp_load_description =</div><div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;        <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_load_description&quot;</span>);</div><div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    <span class="keywordflow">if</span> (c_nntp_load_description &amp;&amp; !mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>)</div><div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    {</div><div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a>(mdata, NULL, NULL) &lt; 0)</div><div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;      {</div><div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        <a class="code" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;      }</div><div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;      <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">desc</a>)</div><div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        <a class="code" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(adata);</div><div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    }</div><div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;  }</div><div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;</div><div class="line"><a name="l02430"></a><span class="lineno"> 2430</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#a68b41ff885dd90f05aec9c882f245a75">check_time</a> = <a class="code" href="date_8c.html#a97bacb1574ec0b1c69b6236fbacceccf">mutt_date_epoch</a>();</div><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;  <span class="comment">// Every known newsgroup has an mdata which is stored in adata-&gt;groups_list.</span></div><div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;  <span class="comment">// Currently we don&#39;t let the Mailbox free the mdata.</span></div><div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;  <span class="comment">// m-&gt;mdata_free = nntp_mdata_free;</span></div><div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;  <span class="keywordflow">if</span> (!mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a> &amp;&amp; (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> || mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> || c_save_unsubscribed))</div><div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a> = <a class="code" href="bcache_8c.html#a3eba1237cb1746acad5efa0a123a892c">mutt_bcache_open</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;</div><div class="line"><a name="l02438"></a><span class="lineno"> 2438</span>&#160;  <span class="comment">/* strip off extra articles if adding context is greater than $nntp_context */</span></div><div class="line"><a name="l02439"></a><span class="lineno"> 2439</span>&#160;  first = mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>;</div><div class="line"><a name="l02440"></a><span class="lineno"> 2440</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">short</span> c_nntp_context = <a class="code" href="helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_context&quot;</span>);</div><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;  <span class="keywordflow">if</span> (c_nntp_context &amp;&amp; (mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> - first + 1 &gt; c_nntp_context))</div><div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    first = mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> - c_nntp_context + 1;</div><div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a> = first ? first - 1 : 0;</div><div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;  count = mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>;</div><div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> = first;</div><div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;  <a class="code" href="newsrc_8c.html#ab103e38d32e64122d7892f29eeb67fcf">nntp_bcache_update</a>(mdata);</div><div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> = count;</div><div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;  hc = <a class="code" href="newsrc_8c.html#ad8d95064a7efb66e51bfde2c8b12aff7">nntp_hcache_open</a>(mdata);</div><div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;  <a class="code" href="newsrc_8c.html#a25f479090028437bbd1cc59a08942112">nntp_hcache_update</a>(mdata, hc);</div><div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;  <span class="keywordflow">if</span> (!hc)</div><div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> &amp;= ~(<a class="code" href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a> | <a class="code" href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>); <span class="comment">// Clear the flags</span></div><div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;</div><div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;  <a class="code" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;  rc = <a class="code" href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a>(m, hc, first, mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;  <a class="code" href="hcache_8c.html#a26bcb4546ca8d63327187a6bbeab796c">mutt_hcache_close</a>(hc);</div><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;  <span class="keywordflow">if</span> (rc &lt; 0)</div><div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>;</div><div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">newsrc_modified</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div><div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="date_8c_html_a97bacb1574ec0b1c69b6236fbacceccf"><div class="ttname"><a href="date_8c.html#a97bacb1574ec0b1c69b6236fbacceccf">mutt_date_epoch</a></div><div class="ttdeci">time_t mutt_date_epoch(void)</div><div class="ttdoc">Return the number of seconds since the Unix epoch. </div><div class="ttdef"><b>Definition:</b> <a href="date_8c_source.html#l00427">date.c:427</a></div></div>
<div class="ttc" id="mailbox_8h_html_a04aa11207205b6778388dfc8ed56ee0d"><div class="ttname"><a href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&amp;#39;s path string. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00215">mailbox.h:215</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="structMailbox_html_af2632307a08699cf251e6599c8a84cac"><div class="ttname"><a href="structMailbox.html#af2632307a08699cf251e6599c8a84cac">Mailbox::msg_unread</a></div><div class="ttdeci">int msg_unread</div><div class="ttdoc">Number of unread messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00092">mailbox.h:92</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="bcache_8c_html_a3eba1237cb1746acad5efa0a123a892c"><div class="ttname"><a href="bcache_8c.html#a3eba1237cb1746acad5efa0a123a892c">mutt_bcache_open</a></div><div class="ttdeci">struct BodyCache * mutt_bcache_open(struct ConnAccount *account, const char *mailbox)</div><div class="ttdoc">Open an Email-Body Cache. </div><div class="ttdef"><b>Definition:</b> <a href="bcache_8c_source.html#l00143">bcache.c:143</a></div></div>
<div class="ttc" id="nntp_8c_html_aee3d5be3d80d56eaa5f16865db0e22c6"><div class="ttname"><a href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a></div><div class="ttdeci">static int nntp_fetch_headers(struct Mailbox *m, void *hc, anum_t first, anum_t last, bool restore)</div><div class="ttdoc">Fetch headers. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01154">nntp.c:1154</a></div></div>
<div class="ttc" id="structUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2 </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00068">url.h:68</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a07329147457f52f9d362d7dc69bb0d68"><div class="ttname"><a href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">NntpAccountData::newsrc_modified</a></div><div class="ttdeci">bool newsrc_modified</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00050">adata.h:50</a></div></div>
<div class="ttc" id="structUrl_html_ad84f1714cab12c536e1bcc552b1c5b51"><div class="ttname"><a href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">Url::scheme</a></div><div class="ttdeci">enum UrlScheme scheme</div><div class="ttdoc">Scheme, e.g. U_SMTPS. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00070">url.h:70</a></div></div>
<div class="ttc" id="structMailbox_html_a1f36c27b2c78a6c7c216e3aca9f0c89f"><div class="ttname"><a href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">Mailbox::realpath</a></div><div class="ttdeci">char * realpath</div><div class="ttdoc">Used for duplicate detection, context comparison, and the sidebar. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00084">mailbox.h:84</a></div></div>
<div class="ttc" id="mailbox_8h_html_a3dc345445c24e4c7ab02dfdfe0093d60"><div class="ttname"><a href="mailbox_8h.html#a3dc345445c24e4c7ab02dfdfe0093d60">MUTT_ACL_INSERT</a></div><div class="ttdeci">#define MUTT_ACL_INSERT</div><div class="ttdoc">Add/copy into the mailbox (used when editing a message) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00069">mailbox.h:69</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="url_8h_html_a04ddf99a809afcc240e4b3d517c98d20"><div class="ttname"><a href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a></div><div class="ttdeci">#define U_NO_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00049">url.h:49</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_a64fdec9977db62a95daa5af59d280673"><div class="ttname"><a href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a></div><div class="ttdeci">void nntp_newsrc_close(struct NntpAccountData *adata)</div><div class="ttdoc">Unlock and close .newsrc file. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00118">newsrc.c:118</a></div></div>
<div class="ttc" id="url_8c_html_a7b05825b8bb8f87657713fe5bc6edfaa"><div class="ttname"><a href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a></div><div class="ttdeci">void url_free(struct Url **ptr)</div><div class="ttdoc">Free the contents of a URL. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00123">url.c:123</a></div></div>
<div class="ttc" id="newsrc_8c_html_aa8b8319b59b7ef6de942cd25400e0d79"><div class="ttname"><a href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a></div><div class="ttdeci">int nntp_active_save_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Save list of all newsgroups to cache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00650">newsrc.c:650</a></div></div>
<div class="ttc" id="newsrc_8c_html_a25f479090028437bbd1cc59a08942112"><div class="ttname"><a href="newsrc_8c.html#a25f479090028437bbd1cc59a08942112">nntp_hcache_update</a></div><div class="ttdeci">void nntp_hcache_update(struct NntpMboxData *mdata, struct HeaderCache *hc)</div><div class="ttdoc">Remove stale cached headers. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00735">newsrc.c:735</a></div></div>
<div class="ttc" id="newsrc_8c_html_a140bf8e49e3f11e0d9cb4d8253767819"><div class="ttname"><a href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a></div><div class="ttdeci">void nntp_delete_group_cache(struct NntpMboxData *mdata)</div><div class="ttdoc">Remove hcache and bcache of newsgroup. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00812">newsrc.c:812</a></div></div>
<div class="ttc" id="helpers_8c_html_a96039a9f8d37daad993ae7b490510339"><div class="ttname"><a href="helpers_8c.html#a96039a9f8d37daad993ae7b490510339">cs_subset_number</a></div><div class="ttdeci">short cs_subset_number(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a number config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00169">helpers.c:169</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00036">adata.h:36</a></div></div>
<div class="ttc" id="mailbox_8h_html_a7ada20153d03e30afe22e55e32d61fea"><div class="ttname"><a href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a></div><div class="ttdeci">#define MUTT_ACL_DELETE</div><div class="ttdoc">Delete a message. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00066">mailbox.h:66</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a></div><div class="ttdoc">Open succeeded. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00090">mxapi.h:90</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="structMailbox_html_a0e1673cdf63976b1d148786457666f84"><div class="ttname"><a href="structMailbox.html#a0e1673cdf63976b1d148786457666f84">Mailbox::vcount</a></div><div class="ttdeci">int vcount</div><div class="ttdoc">The number of virtual messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00102">mailbox.h:102</a></div></div>
<div class="ttc" id="structMailbox_html_ae55237419d0e842cd6efeed0c41d27e8"><div class="ttname"><a href="structMailbox.html#ae55237419d0e842cd6efeed0c41d27e8">Mailbox::readonly</a></div><div class="ttdeci">bool readonly</div><div class="ttdoc">Don&amp;#39;t allow changes to the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00119">mailbox.h:119</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9cecad8ca33cea69ef91939fc3088e72"><div class="ttname"><a href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">NntpMboxData::last_loaded</a></div><div class="ttdeci">anum_t last_loaded</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00038">mdata.h:38</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structAccount_html_abf7f6da8ea09b773cd7b3eb6faa97b8e"><div class="ttname"><a href="structAccount.html#abf7f6da8ea09b773cd7b3eb6faa97b8e">Account::adata_free</a></div><div class="ttdeci">void(* adata_free)(void **ptr)</div><div class="ttdoc">Free the private data attached to the Account. </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00053">account.h:53</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_ac4e2953e3c6f9d6d57467cb5e2856d1e"><div class="ttname"><a href="nntp_2lib_8h.html#ac4e2953e3c6f9d6d57467cb5e2856d1e">nntp_select_server</a></div><div class="ttdeci">struct NntpAccountData * nntp_select_server(struct Mailbox *m, const char *server, bool leave_lock)</div><div class="ttdoc">Open a connection to an NNTP server. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l01017">newsrc.c:1017</a></div></div>
<div class="ttc" id="mailbox_8h_html_ac495d1273b7f2399403a2932b6ff2fd3"><div class="ttname"><a href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a></div><div class="ttdeci">#define MUTT_ACL_WRITE</div><div class="ttdoc">Write to a message (for flagging or linking threads) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00074">mailbox.h:74</a></div></div>
<div class="ttc" id="url_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a></div><div class="ttdoc">Url is nntps://. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00042">url.h:42</a></div></div>
<div class="ttc" id="newsrc_8c_html_ab103e38d32e64122d7892f29eeb67fcf"><div class="ttname"><a href="newsrc_8c.html#ab103e38d32e64122d7892f29eeb67fcf">nntp_bcache_update</a></div><div class="ttdeci">void nntp_bcache_update(struct NntpMboxData *mdata)</div><div class="ttdoc">Remove stale cached messages. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00803">newsrc.c:803</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_af213c68397b28d9da9d2aa988ebbfbde"><div class="ttname"><a href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a></div><div class="ttdeci">#define ANUM</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00160">string.c:160</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4a0fee3ab5b7ee9b0027505083f16790"><div class="ttname"><a href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">NntpMboxData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00049">mdata.h:49</a></div></div>
<div class="ttc" id="hook_8c_html_a4d4e38013bebd1e23d668454609a3def"><div class="ttname"><a href="hook_8c.html#a4d4e38013bebd1e23d668454609a3def">mutt_account_hook</a></div><div class="ttdeci">void mutt_account_hook(const char *url)</div><div class="ttdoc">Perform an account hook. </div><div class="ttdef"><b>Definition:</b> <a href="hook_8c_source.html#l00782">hook.c:782</a></div></div>
<div class="ttc" id="structAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends) </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00043">account.h:43</a></div></div>
<div class="ttc" id="newsrc_8c_html_ad8d95064a7efb66e51bfde2c8b12aff7"><div class="ttname"><a href="newsrc_8c.html#ad8d95064a7efb66e51bfde2c8b12aff7">nntp_hcache_open</a></div><div class="ttdeci">struct HeaderCache * nntp_hcache_open(struct NntpMboxData *mdata)</div><div class="ttdoc">Open newsgroup hcache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00709">newsrc.c:709</a></div></div>
<div class="ttc" id="url_8c_html_a4cdc82c89b3fa52b384a16ef0e971d68"><div class="ttname"><a href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a></div><div class="ttdeci">int url_tostring(struct Url *url, char *dest, size_t len, uint8_t flags)</div><div class="ttdoc">Output the URL string for a given Url object. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00418">url.c:418</a></div></div>
<div class="ttc" id="structUrl_html_a565d3391c8b8114a97ad6f1b7c75b5f6"><div class="ttname"><a href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">Url::host</a></div><div class="ttdeci">char * host</div><div class="ttdoc">Host. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00073">url.h:73</a></div></div>
<div class="ttc" id="structMailbox_html_a44766ec39ab823278479d0a8fe7b5f73"><div class="ttname"><a href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">Mailbox::rights</a></div><div class="ttdeci">AclFlags rights</div><div class="ttdoc">ACL bits, see AclFlags. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00121">mailbox.h:121</a></div></div>
<div class="ttc" id="nntp_8c_html_aad1e29b1bda60fc87fa98dd0ff8b8539"><div class="ttname"><a href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a></div><div class="ttdeci">static int get_description(struct NntpMboxData *mdata, const char *wildmat, const char *msg)</div><div class="ttdoc">Fetch newsgroups descriptions. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00884">nntp.c:884</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="structUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="hcache_8c_html_a26bcb4546ca8d63327187a6bbeab796c"><div class="ttname"><a href="hcache_8c.html#a26bcb4546ca8d63327187a6bbeab796c">mutt_hcache_close</a></div><div class="ttdeci">void mutt_hcache_close(struct HeaderCache *hc)</div><div class="ttdoc">Multiplexor for StoreOps::close. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00435">hcache.c:435</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="nntp_8c_html_a91a111632ed65df68e26ff839265c801"><div class="ttname"><a href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a></div><div class="ttdeci">static int nntp_query(struct NntpMboxData *mdata, char *line, size_t linelen)</div><div class="ttdoc">Send data from buffer and receive answer to same buffer. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00691">nntp.c:691</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a68b41ff885dd90f05aec9c882f245a75"><div class="ttname"><a href="structNntpAccountData.html#a68b41ff885dd90f05aec9c882f245a75">NntpAccountData::check_time</a></div><div class="ttdeci">time_t check_time</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00058">adata.h:58</a></div></div>
<div class="ttc" id="structMailbox_html_ab9a4528fcd39e61bdefd4dcfdbc6252f"><div class="ttname"><a href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">Mailbox::account</a></div><div class="ttdeci">struct Account * account</div><div class="ttdoc">Account that owns this Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00131">mailbox.h:131</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2b27ff6bf080a892ab903b1504e72d5b"><div class="ttname"><a href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">NntpMboxData::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00044">mdata.h:44</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="url_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a></div><div class="ttdoc">Url is nntp://. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00041">url.h:41</a></div></div>
<div class="ttc" id="nntp_2adata_8c_html_a978f1ef801a8eed9bf8fb2397f73234e"><div class="ttname"><a href="nntp_2adata_8c.html#a978f1ef801a8eed9bf8fb2397f73234e">nntp_adata_free</a></div><div class="ttdeci">void nntp_adata_free(void **ptr)</div><div class="ttdoc">Free the private Account data - Implements Account::adata_free() </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8c_source.html#l00043">adata.c:43</a></div></div>
<div class="ttc" id="group__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00087">logging.h:87</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_a6ae05e2f17614ff64c3429ac40ec5119"><div class="ttname"><a href="nntp_2lib_8h.html#a6ae05e2f17614ff64c3429ac40ec5119">nntp_newsrc_update</a></div><div class="ttdeci">int nntp_newsrc_update(struct NntpAccountData *adata)</div><div class="ttdoc">Update .newsrc file. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00439">newsrc.c:439</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="nntp_8c_html_ae58e3a5dcd99b6bbd0354b133fc220ce"><div class="ttname"><a href="nntp_8c.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></div><div class="ttdeci">struct NntpAccountData * CurrentNewsSrv</div><div class="ttdoc">Current NNTP news server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00078">nntp.c:78</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a6d1f6681e3b32714f5c85d463f38fab8"><div class="ttname"><a href="structNntpMboxData.html#a6d1f6681e3b32714f5c85d463f38fab8">NntpMboxData::desc</a></div><div class="ttdeci">char * desc</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00035">mdata.h:35</a></div></div>
<div class="ttc" id="url_8c_html_a10d35f5553c8e443c38257b69ca91075"><div class="ttname"><a href="url_8c.html#a10d35f5553c8e443c38257b69ca91075">url_parse</a></div><div class="ttdeci">struct Url * url_parse(const char *src)</div><div class="ttdoc">Fill in Url. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00234">url.c:234</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga958364186e337ca6168094e57f038296_cgraph.svg" width="748" height="1226"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="gaad12c3265a631efb7b39b28fae19121c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad12c3265a631efb7b39b28fae19121c">&#9670;&nbsp;</a></span>nm_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> nm_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -. </p>

<p class="definition">Definition at line <a class="el" href="notmuch_8c_source.html#l02042">2042</a> of file <a class="el" href="notmuch_8c_source.html">notmuch.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;{</div><div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="notmuch_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a>(m) != 0)</div><div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;</div><div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNmMboxData.html">NmMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="notmuch_2mdata_8c.html#a819fc59593f985a02abe21f26037bc74">nm_mdata_get</a>(m);</div><div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;  <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;</div><div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;nm: reading messages...[current count=%d]\n&quot;</span>, m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div><div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;</div><div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;  <a class="code" href="notmuch_8c.html#ae623124dfaf26d5005567bda66b288ff">progress_setup</a>(m);</div><div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;  <span class="keyword">enum</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> rc = <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;</div><div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;  notmuch_query_t *q = <a class="code" href="notmuch_8c.html#a8aa5ba34ffb0be079f29fe58bb83c280">get_query</a>(m, <span class="keyword">false</span>);</div><div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;  <span class="keywordflow">if</span> (q)</div><div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;  {</div><div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    rc = <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div><div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="keywordflow">switch</span> (mdata-&gt;<a class="code" href="structNmMboxData.html#a8851650d8d08c3490375ea41f4fe39d8">query_type</a>)</div><div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    {</div><div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a314f23fbc20cfdb2e64b86f3b1631817">NM_QUERY_TYPE_UNKNOWN</a>: <span class="comment">// UNKNOWN should never occur, but MESGS is default</span></div><div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276ad556837b89dfda3f049992f43620ece0">NM_QUERY_TYPE_MESGS</a>:</div><div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="notmuch_8c.html#abaf21ab5cf16eed638156c611e65e22f">read_mesgs_query</a>(m, q, <span class="keyword">false</span>))</div><div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;          rc = <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880">MX_OPEN_ABORT</a>;</div><div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;      <span class="keywordflow">case</span> <a class="code" href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a36c5648d27a123f04dd1cb459b5e02cc">NM_QUERY_TYPE_THREADS</a>:</div><div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="notmuch_8c.html#a73570c4d26bc98c4862a64d96859d09f">read_threads_query</a>(m, q, <span class="keyword">false</span>, <a class="code" href="notmuch_8c.html#a686a65345db081f8d66accfc760e909b">get_limit</a>(mdata)))</div><div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;          rc = <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880">MX_OPEN_ABORT</a>;</div><div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    }</div><div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;    notmuch_query_destroy(q);</div><div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;  }</div><div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;</div><div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;  <a class="code" href="notmuch_2db_8c.html#ab42f2a23cdaa9f6c5653fa7e9f9a8911">nm_db_release</a>(m);</div><div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;</div><div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a1c10c2f7076d9e5bf58b8c495a6d264d">mtime</a>.<a class="code" href="structtimespec.html#afc3302668d7cb5952f590da69fdd4955">tv_sec</a> = <a class="code" href="date_8c.html#a97bacb1574ec0b1c69b6236fbacceccf">mutt_date_epoch</a>();</div><div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a1c10c2f7076d9e5bf58b8c495a6d264d">mtime</a>.<a class="code" href="structtimespec.html#ae3c7510dafa8cbcaede866ed13c99683">tv_nsec</a> = 0;</div><div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;</div><div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;  mdata-&gt;<a class="code" href="structNmMboxData.html#a22d92645edc04adcf160739785f1704f">oldmsgcount</a> = 0;</div><div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;</div><div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;nm: reading messages... done [rc=%d, count=%d]\n&quot;</span>, rc, m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>);</div><div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;  <a class="code" href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a>(&amp;mdata-&gt;<a class="code" href="structNmMboxData.html#a4b076b009cfbd704791dcb517c7e9edf">progress</a>);</div><div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;}</div><div class="ttc" id="date_8c_html_a97bacb1574ec0b1c69b6236fbacceccf"><div class="ttname"><a href="date_8c.html#a97bacb1574ec0b1c69b6236fbacceccf">mutt_date_epoch</a></div><div class="ttdeci">time_t mutt_date_epoch(void)</div><div class="ttdoc">Return the number of seconds since the Unix epoch. </div><div class="ttdef"><b>Definition:</b> <a href="date_8c_source.html#l00427">date.c:427</a></div></div>
<div class="ttc" id="notmuch_8c_html_a8aa5ba34ffb0be079f29fe58bb83c280"><div class="ttname"><a href="notmuch_8c.html#a8aa5ba34ffb0be079f29fe58bb83c280">get_query</a></div><div class="ttdeci">static notmuch_query_t * get_query(struct Mailbox *m, bool writable)</div><div class="ttdoc">Create a new query. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_8c_source.html#l00438">notmuch.c:438</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="notmuch_8c_html_ae623124dfaf26d5005567bda66b288ff"><div class="ttname"><a href="notmuch_8c.html#ae623124dfaf26d5005567bda66b288ff">progress_setup</a></div><div class="ttdeci">static void progress_setup(struct Mailbox *m)</div><div class="ttdoc">Set up the Progress Bar. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_8c_source.html#l00666">notmuch.c:666</a></div></div>
<div class="ttc" id="structMailbox_html_a1c10c2f7076d9e5bf58b8c495a6d264d"><div class="ttname"><a href="structMailbox.html#a1c10c2f7076d9e5bf58b8c495a6d264d">Mailbox::mtime</a></div><div class="ttdeci">struct timespec mtime</div><div class="ttdoc">Time Mailbox was last changed. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00107">mailbox.h:107</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cad"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a></div><div class="ttdeci">MxOpenReturns</div><div class="ttdoc">Return values for mbox_open() </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00088">mxapi.h:88</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a></div><div class="ttdoc">Open succeeded. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00090">mxapi.h:90</a></div></div>
<div class="ttc" id="structtimespec_html_afc3302668d7cb5952f590da69fdd4955"><div class="ttname"><a href="structtimespec.html#afc3302668d7cb5952f590da69fdd4955">timespec::tv_sec</a></div><div class="ttdeci">time_t tv_sec</div><div class="ttdef"><b>Definition:</b> <a href="file_8h_source.html#l00050">file.h:50</a></div></div>
<div class="ttc" id="structNmMboxData_html_a22d92645edc04adcf160739785f1704f"><div class="ttname"><a href="structNmMboxData.html#a22d92645edc04adcf160739785f1704f">NmMboxData::oldmsgcount</a></div><div class="ttdeci">int oldmsgcount</div><div class="ttdef"><b>Definition:</b> <a href="notmuch_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="notmuch_8c_html_a686a65345db081f8d66accfc760e909b"><div class="ttname"><a href="notmuch_8c.html#a686a65345db081f8d66accfc760e909b">get_limit</a></div><div class="ttdeci">static int get_limit(struct NmMboxData *mdata)</div><div class="ttdoc">Get the database limit. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_8c_source.html#l00402">notmuch.c:402</a></div></div>
<div class="ttc" id="structNmMboxData_html"><div class="ttname"><a href="structNmMboxData.html">NmMboxData</a></div><div class="ttdoc">Notmuch-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_2mdata_8h_source.html#l00033">mdata.h:33</a></div></div>
<div class="ttc" id="structtimespec_html_ae3c7510dafa8cbcaede866ed13c99683"><div class="ttname"><a href="structtimespec.html#ae3c7510dafa8cbcaede866ed13c99683">timespec::tv_nsec</a></div><div class="ttdeci">long tv_nsec</div><div class="ttdef"><b>Definition:</b> <a href="file_8h_source.html#l00051">file.h:51</a></div></div>
<div class="ttc" id="structNmMboxData_html_a4b076b009cfbd704791dcb517c7e9edf"><div class="ttname"><a href="structNmMboxData.html#a4b076b009cfbd704791dcb517c7e9edf">NmMboxData::progress</a></div><div class="ttdeci">struct Progress * progress</div><div class="ttdoc">A progress bar. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="notmuch_2mdata_8c_html_a819fc59593f985a02abe21f26037bc74"><div class="ttname"><a href="notmuch_2mdata_8c.html#a819fc59593f985a02abe21f26037bc74">nm_mdata_get</a></div><div class="ttdeci">struct NmMboxData * nm_mdata_get(struct Mailbox *m)</div><div class="ttdoc">Get the Notmuch Mailbox data. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_2mdata_8c_source.html#l00098">mdata.c:98</a></div></div>
<div class="ttc" id="notmuch_8c_html_a49be0897f8fb6c33c74a838b83f4ed46"><div class="ttname"><a href="notmuch_8c.html#a49be0897f8fb6c33c74a838b83f4ed46">init_mailbox</a></div><div class="ttdeci">static int init_mailbox(struct Mailbox *m)</div><div class="ttdoc">Add Notmuch data to the Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_8c_source.html#l00188">notmuch.c:188</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada87caee0e54f8b01a82878e69a37c1880">MX_OPEN_ABORT</a></div><div class="ttdoc">Open was aborted. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00092">mxapi.h:92</a></div></div>
<div class="ttc" id="query_8h_html_a7653053ec8dc38d5dd26401163bb1276ad556837b89dfda3f049992f43620ece0"><div class="ttname"><a href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276ad556837b89dfda3f049992f43620ece0">NM_QUERY_TYPE_MESGS</a></div><div class="ttdoc">Default: Messages only. </div><div class="ttdef"><b>Definition:</b> <a href="query_8h_source.html#l00036">query.h:36</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="query_8h_html_a7653053ec8dc38d5dd26401163bb1276a314f23fbc20cfdb2e64b86f3b1631817"><div class="ttname"><a href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a314f23fbc20cfdb2e64b86f3b1631817">NM_QUERY_TYPE_UNKNOWN</a></div><div class="ttdoc">Unknown query type. Error in notmuch query. </div><div class="ttdef"><b>Definition:</b> <a href="query_8h_source.html#l00038">query.h:38</a></div></div>
<div class="ttc" id="progress_2lib_8h_html_ab4c7a63427cdcaae2b1147ff6f010af4"><div class="ttname"><a href="progress_2lib_8h.html#ab4c7a63427cdcaae2b1147ff6f010af4">progress_free</a></div><div class="ttdeci">void progress_free(struct Progress **ptr)</div><div class="ttdoc">Free a Progress Bar. </div><div class="ttdef"><b>Definition:</b> <a href="progress_8c_source.html#l00228">progress.c:228</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdoc">Log at debug level 1. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00040">logging.h:40</a></div></div>
<div class="ttc" id="notmuch_8c_html_abaf21ab5cf16eed638156c611e65e22f"><div class="ttname"><a href="notmuch_8c.html#abaf21ab5cf16eed638156c611e65e22f">read_mesgs_query</a></div><div class="ttdeci">static bool read_mesgs_query(struct Mailbox *m, notmuch_query_t *q, bool dedup)</div><div class="ttdoc">Search for matching messages. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_8c_source.html#l00929">notmuch.c:929</a></div></div>
<div class="ttc" id="notmuch_2db_8c_html_ab42f2a23cdaa9f6c5653fa7e9f9a8911"><div class="ttname"><a href="notmuch_2db_8c.html#ab42f2a23cdaa9f6c5653fa7e9f9a8911">nm_db_release</a></div><div class="ttdeci">int nm_db_release(struct Mailbox *m)</div><div class="ttdoc">Close the Notmuch database. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_2db_8c_source.html#l00196">db.c:196</a></div></div>
<div class="ttc" id="query_8h_html_a7653053ec8dc38d5dd26401163bb1276a36c5648d27a123f04dd1cb459b5e02cc"><div class="ttname"><a href="query_8h.html#a7653053ec8dc38d5dd26401163bb1276a36c5648d27a123f04dd1cb459b5e02cc">NM_QUERY_TYPE_THREADS</a></div><div class="ttdoc">Whole threads. </div><div class="ttdef"><b>Definition:</b> <a href="query_8h_source.html#l00037">query.h:37</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
<div class="ttc" id="structNmMboxData_html_a8851650d8d08c3490375ea41f4fe39d8"><div class="ttname"><a href="structNmMboxData.html#a8851650d8d08c3490375ea41f4fe39d8">NmMboxData::query_type</a></div><div class="ttdeci">enum NmQueryType query_type</div><div class="ttdoc">Messages or Threads. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_2mdata_8h_source.html#l00038">mdata.h:38</a></div></div>
<div class="ttc" id="notmuch_8c_html_a73570c4d26bc98c4862a64d96859d09f"><div class="ttname"><a href="notmuch_8c.html#a73570c4d26bc98c4862a64d96859d09f">read_threads_query</a></div><div class="ttdeci">static bool read_threads_query(struct Mailbox *m, notmuch_query_t *q, bool dedup, int limit)</div><div class="ttdoc">Perform a query with threads. </div><div class="ttdef"><b>Definition:</b> <a href="notmuch_8c_source.html#l00999">notmuch.c:999</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_gaad12c3265a631efb7b39b28fae19121c_cgraph.svg" width="506" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ga0de2de1958a22ca0679ea67f4f434db2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0de2de1958a22ca0679ea67f4f434db2">&#9670;&nbsp;</a></span>pop_mbox_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static enum <a class="el" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cad">MxOpenReturns</a> pop_mbox_open </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open a <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html#ac504b1095f3ce15cae85466ab6c7bd45">MxOps::mbox_open()</a> -Fetch only headers. </p>

<p class="definition">Definition at line <a class="el" href="pop_8c_source.html#l00748">748</a> of file <a class="el" href="pop_8c_source.html">pop.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;{</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keywordflow">if</span> (!m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>)</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordtype">char</span> buf[<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="keyword">struct </span><a class="code" href="structConnAccount.html">ConnAccount</a> cac = { { 0 } };</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keyword">struct </span><a class="code" href="structUrl.html">Url</a> url = { 0 };</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_8c.html#a6838234c95ab9171c2edcf35aa8e6526">pop_parse_path</a>(<a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m), &amp;cac))</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  {</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is an invalid POP path&quot;</span>), <a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m));</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  }</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <a class="code" href="mutt__account_8c.html#a7b58d7c236d1bea3a516cf682648bf3e">mutt_account_tourl</a>(&amp;cac, &amp;url);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  url.<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = NULL;</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <a class="code" href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a>(&amp;url, buf, <span class="keyword">sizeof</span>(buf), <a class="code" href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a>);</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(&amp;m-&gt;<a class="code" href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">pathbuf</a>, buf);</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <a class="code" href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a>(&amp;m-&gt;<a class="code" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>, <a class="code" href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a>(m));</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keyword">struct </span><a class="code" href="structPopAccountData.html">PopAccountData</a> *<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  <span class="keywordflow">if</span> (!adata)</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  {</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    adata = <a class="code" href="pop_2adata_8c.html#af89b7b8fbae46dbacec03532c100eaff">pop_adata_new</a>();</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a>;</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">account</a>-&gt;<a class="code" href="structAccount.html#abf7f6da8ea09b773cd7b3eb6faa97b8e">adata_free</a> = <a class="code" href="pop_2adata_8c.html#aeb0ea187608ddd92a6e3fc05abdeb322">pop_adata_free</a>;</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;  }</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  <span class="keyword">struct </span><a class="code" href="structConnection.html">Connection</a> *conn = adata-&gt;<a class="code" href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">conn</a>;</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">if</span> (!conn)</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  {</div><div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    adata-&gt;<a class="code" href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">conn</a> = <a class="code" href="mutt__socket_8c.html#a4af16ffb330d5cd086b049f77f569a26">mutt_conn_new</a>(&amp;cac);</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    conn = adata-&gt;<a class="code" href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">conn</a>;</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="keywordflow">if</span> (!conn)</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  }</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">if</span> (conn-&gt;<a class="code" href="structConnection.html#af805fad417c8fa7c5079ef741d8233e2">fd</a> &lt; 0)</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="hook_8c.html#a4d4e38013bebd1e23d668454609a3def">mutt_account_hook</a>(m-&gt;<a class="code" href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">realpath</a>);</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="lib_8c.html#a531ae6abd6cf75fb0004bf019944a3b9">pop_open_connection</a>(adata) &lt; 0)</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  adata-&gt;<a class="code" href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">bcache</a> = <a class="code" href="bcache_8c.html#a3eba1237cb1746acad5efa0a123a892c">mutt_bcache_open</a>(&amp;cac, NULL);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="comment">/* init (hard-coded) ACL rights */</span></div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> = <a class="code" href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a> | <a class="code" href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a>;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="comment">/* flags are managed using header cache, so it only makes sense to</span></div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="comment">   * enable them in that case */</span></div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">rights</a> |= <a class="code" href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a>;</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  <span class="keywordflow">while</span> (<span class="keyword">true</span>)</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  {</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="lib_8c.html#af75fadb2503181ccec226915d3e1984f">pop_reconnect</a>(m) &lt; 0)</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    m-&gt;<a class="code" href="structMailbox.html#ace276d581d6d299ecf227be214841148">size</a> = adata-&gt;<a class="code" href="structPopAccountData.html#a43d1739eef3bcc971f1bf040511eda44">size</a>;</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <a class="code" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Fetching list of messages...&quot;</span>));</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> rc = <a class="code" href="pop_8c.html#aed296290f911b6522df2dd97ce554f65">pop_fetch_headers</a>(m);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">if</span> (rc &gt;= 0)</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a>;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">if</span> (rc &lt; -1)</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a>;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  }</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;}</div><div class="ttc" id="mailbox_8h_html_a04aa11207205b6778388dfc8ed56ee0d"><div class="ttname"><a href="mailbox_8h.html#a04aa11207205b6778388dfc8ed56ee0d">mailbox_path</a></div><div class="ttdeci">static const char * mailbox_path(const struct Mailbox *m)</div><div class="ttdoc">Get the Mailbox&amp;#39;s path string. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00215">mailbox.h:215</a></div></div>
<div class="ttc" id="structMailbox_html_ace276d581d6d299ecf227be214841148"><div class="ttname"><a href="structMailbox.html#ace276d581d6d299ecf227be214841148">Mailbox::size</a></div><div class="ttdeci">off_t size</div><div class="ttdoc">Size of the Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00087">mailbox.h:87</a></div></div>
<div class="ttc" id="structPopAccountData_html_a43d1739eef3bcc971f1bf040511eda44"><div class="ttname"><a href="structPopAccountData.html#a43d1739eef3bcc971f1bf040511eda44">PopAccountData::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition:</b> <a href="pop_2adata_8h_source.html#l00050">adata.h:50</a></div></div>
<div class="ttc" id="lib_8c_html_a6838234c95ab9171c2edcf35aa8e6526"><div class="ttname"><a href="lib_8c.html#a6838234c95ab9171c2edcf35aa8e6526">pop_parse_path</a></div><div class="ttdeci">int pop_parse_path(const char *path, struct ConnAccount *cac)</div><div class="ttdoc">Parse a POP mailbox name. </div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00083">lib.c:83</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="bcache_8c_html_a3eba1237cb1746acad5efa0a123a892c"><div class="ttname"><a href="bcache_8c.html#a3eba1237cb1746acad5efa0a123a892c">mutt_bcache_open</a></div><div class="ttdeci">struct BodyCache * mutt_bcache_open(struct ConnAccount *account, const char *mailbox)</div><div class="ttdoc">Open an Email-Body Cache. </div><div class="ttdef"><b>Definition:</b> <a href="bcache_8c_source.html#l00143">bcache.c:143</a></div></div>
<div class="ttc" id="lib_8c_html_a531ae6abd6cf75fb0004bf019944a3b9"><div class="ttname"><a href="lib_8c.html#a531ae6abd6cf75fb0004bf019944a3b9">pop_open_connection</a></div><div class="ttdeci">int pop_open_connection(struct PopAccountData *adata)</div><div class="ttdoc">Open connection and authenticate. </div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00310">lib.c:310</a></div></div>
<div class="ttc" id="structUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2 </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00068">url.h:68</a></div></div>
<div class="ttc" id="structMailbox_html_a1f36c27b2c78a6c7c216e3aca9f0c89f"><div class="ttname"><a href="structMailbox.html#a1f36c27b2c78a6c7c216e3aca9f0c89f">Mailbox::realpath</a></div><div class="ttdeci">char * realpath</div><div class="ttdoc">Used for duplicate detection, context comparison, and the sidebar. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00084">mailbox.h:84</a></div></div>
<div class="ttc" id="structPopAccountData_html_ad54e1437730d092d35f53d7c4aba6e5a"><div class="ttname"><a href="structPopAccountData.html#ad54e1437730d092d35f53d7c4aba6e5a">PopAccountData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdoc">body cache </div><div class="ttdef"><b>Definition:</b> <a href="pop_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
<div class="ttc" id="structConnection_html"><div class="ttname"><a href="structConnection.html">Connection</a></div><div class="ttdoc">An open network connection (socket) </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00034">connection.h:34</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="structPopAccountData_html_a9b4f6edb28624aaec1821d52f7cb8d18"><div class="ttname"><a href="structPopAccountData.html#a9b4f6edb28624aaec1821d52f7cb8d18">PopAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="pop_2adata_8h_source.html#l00038">adata.h:38</a></div></div>
<div class="ttc" id="url_8h_html_a04ddf99a809afcc240e4b3d517c98d20"><div class="ttname"><a href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a></div><div class="ttdeci">#define U_NO_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00049">url.h:49</a></div></div>
<div class="ttc" id="mailbox_8h_html_a7ada20153d03e30afe22e55e32d61fea"><div class="ttname"><a href="mailbox_8h.html#a7ada20153d03e30afe22e55e32d61fea">MUTT_ACL_DELETE</a></div><div class="ttdeci">#define MUTT_ACL_DELETE</div><div class="ttdoc">Delete a message. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00066">mailbox.h:66</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cadac71ca3ece0dbda0bb22552738d80905b">MX_OPEN_OK</a></div><div class="ttdoc">Open succeeded. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00090">mxapi.h:90</a></div></div>
<div class="ttc" id="pop_8c_html_aed296290f911b6522df2dd97ce554f65"><div class="ttname"><a href="pop_8c.html#aed296290f911b6522df2dd97ce554f65">pop_fetch_headers</a></div><div class="ttdeci">static int pop_fetch_headers(struct Mailbox *m)</div><div class="ttdoc">Read headers. </div><div class="ttdef"><b>Definition:</b> <a href="pop_8c_source.html#l00322">pop.c:322</a></div></div>
<div class="ttc" id="mutt__account_8c_html_a7b58d7c236d1bea3a516cf682648bf3e"><div class="ttname"><a href="mutt__account_8c.html#a7b58d7c236d1bea3a516cf682648bf3e">mutt_account_tourl</a></div><div class="ttdeci">void mutt_account_tourl(struct ConnAccount *cac, struct Url *url)</div><div class="ttdoc">Fill URL with info from account. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__account_8c_source.html#l00079">mutt_account.c:79</a></div></div>
<div class="ttc" id="pop_2adata_8c_html_af89b7b8fbae46dbacec03532c100eaff"><div class="ttname"><a href="pop_2adata_8c.html#af89b7b8fbae46dbacec03532c100eaff">pop_adata_new</a></div><div class="ttdeci">struct PopAccountData * pop_adata_new(void)</div><div class="ttdoc">Create a new PopAccountData object. </div><div class="ttdef"><b>Definition:</b> <a href="pop_2adata_8c_source.html#l00054">adata.c:54</a></div></div>
<div class="ttc" id="structAccount_html_abf7f6da8ea09b773cd7b3eb6faa97b8e"><div class="ttname"><a href="structAccount.html#abf7f6da8ea09b773cd7b3eb6faa97b8e">Account::adata_free</a></div><div class="ttdeci">void(* adata_free)(void **ptr)</div><div class="ttdoc">Free the private data attached to the Account. </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00053">account.h:53</a></div></div>
<div class="ttc" id="mailbox_8h_html_ac495d1273b7f2399403a2932b6ff2fd3"><div class="ttname"><a href="mailbox_8h.html#ac495d1273b7f2399403a2932b6ff2fd3">MUTT_ACL_WRITE</a></div><div class="ttdeci">#define MUTT_ACL_WRITE</div><div class="ttdoc">Write to a message (for flagging or linking threads) </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00074">mailbox.h:74</a></div></div>
<div class="ttc" id="mutt__socket_8c_html_a4af16ffb330d5cd086b049f77f569a26"><div class="ttname"><a href="mutt__socket_8c.html#a4af16ffb330d5cd086b049f77f569a26">mutt_conn_new</a></div><div class="ttdeci">struct Connection * mutt_conn_new(const struct ConnAccount *cac)</div><div class="ttdoc">Create a new Connection. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__socket_8c_source.html#l00048">mutt_socket.c:48</a></div></div>
<div class="ttc" id="hook_8c_html_a4d4e38013bebd1e23d668454609a3def"><div class="ttname"><a href="hook_8c.html#a4d4e38013bebd1e23d668454609a3def">mutt_account_hook</a></div><div class="ttdeci">void mutt_account_hook(const char *url)</div><div class="ttdoc">Perform an account hook. </div><div class="ttdef"><b>Definition:</b> <a href="hook_8c_source.html#l00782">hook.c:782</a></div></div>
<div class="ttc" id="lib_8c_html_af75fadb2503181ccec226915d3e1984f"><div class="ttname"><a href="lib_8c.html#af75fadb2503181ccec226915d3e1984f">pop_reconnect</a></div><div class="ttdeci">int pop_reconnect(struct Mailbox *m)</div><div class="ttdoc">reconnect and verify indexes if connection was lost </div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00604">lib.c:604</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="structConnection_html_af805fad417c8fa7c5079ef741d8233e2"><div class="ttname"><a href="structConnection.html#af805fad417c8fa7c5079ef741d8233e2">Connection::fd</a></div><div class="ttdeci">int fd</div><div class="ttdoc">Socket file descriptor. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00040">connection.h:40</a></div></div>
<div class="ttc" id="structAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends) </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00043">account.h:43</a></div></div>
<div class="ttc" id="url_8c_html_a4cdc82c89b3fa52b384a16ef0e971d68"><div class="ttname"><a href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a></div><div class="ttdeci">int url_tostring(struct Url *url, char *dest, size_t len, uint8_t flags)</div><div class="ttdoc">Output the URL string for a given Url object. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00418">url.c:418</a></div></div>
<div class="ttc" id="pop_2adata_8c_html_aeb0ea187608ddd92a6e3fc05abdeb322"><div class="ttname"><a href="pop_2adata_8c.html#aeb0ea187608ddd92a6e3fc05abdeb322">pop_adata_free</a></div><div class="ttdeci">void pop_adata_free(void **ptr)</div><div class="ttdoc">Free the private Account data - Implements Account::adata_free() </div><div class="ttdef"><b>Definition:</b> <a href="pop_2adata_8c_source.html#l00040">adata.c:40</a></div></div>
<div class="ttc" id="structMailbox_html_a44766ec39ab823278479d0a8fe7b5f73"><div class="ttname"><a href="structMailbox.html#a44766ec39ab823278479d0a8fe7b5f73">Mailbox::rights</a></div><div class="ttdeci">AclFlags rights</div><div class="ttdoc">ACL bits, see AclFlags. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00121">mailbox.h:121</a></div></div>
<div class="ttc" id="structConnAccount_html"><div class="ttname"><a href="structConnAccount.html">ConnAccount</a></div><div class="ttdoc">Login details for a remote server. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00051">connaccount.h:51</a></div></div>
<div class="ttc" id="buffer_8c_html_a4bcc481586ae3af02645b4e23e48e0d7"><div class="ttname"><a href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a></div><div class="ttdeci">size_t mutt_buffer_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00312">buffer.c:312</a></div></div>
<div class="ttc" id="structUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="structMailbox_html_ab9a4528fcd39e61bdefd4dcfdbc6252f"><div class="ttname"><a href="structMailbox.html#ab9a4528fcd39e61bdefd4dcfdbc6252f">Mailbox::account</a></div><div class="ttdeci">struct Account * account</div><div class="ttdoc">Account that owns this Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00131">mailbox.h:131</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ae9b6bbaa52b6ce51f2a384fe500e028e"><div class="ttname"><a href="mutt_2string_8c.html#ae9b6bbaa52b6ce51f2a384fe500e028e">mutt_str_replace</a></div><div class="ttdeci">char * mutt_str_replace(char **p, const char *s)</div><div class="ttdoc">Replace one string with another. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00446">string.c:446</a></div></div>
<div class="ttc" id="group__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00087">logging.h:87</a></div></div>
<div class="ttc" id="mailbox_8h_html_af726790bdcf33b797e735f03aab88730"><div class="ttname"><a href="mailbox_8h.html#af726790bdcf33b797e735f03aab88730">MUTT_ACL_SEEN</a></div><div class="ttdeci">#define MUTT_ACL_SEEN</div><div class="ttdoc">Change the &amp;#39;seen&amp;#39; status of a message. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00073">mailbox.h:73</a></div></div>
<div class="ttc" id="structPopAccountData_html"><div class="ttname"><a href="structPopAccountData.html">PopAccountData</a></div><div class="ttdoc">POP-specific Account data -. </div><div class="ttdef"><b>Definition:</b> <a href="pop_2adata_8h_source.html#l00036">adata.h:36</a></div></div>
<div class="ttc" id="structMailbox_html_aa44c1232018ddd1953039aa857b23ab5"><div class="ttname"><a href="structMailbox.html#aa44c1232018ddd1953039aa857b23ab5">Mailbox::pathbuf</a></div><div class="ttdeci">struct Buffer pathbuf</div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00083">mailbox.h:83</a></div></div>
<div class="ttc" id="mxapi_8h_html_a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af"><div class="ttname"><a href="mxapi_8h.html#a95aa6f9d458f82609e795a7f449f4cada43d91ff11cb6a2631b235699bed738af">MX_OPEN_ERROR</a></div><div class="ttdoc">Open failed with an error. </div><div class="ttdef"><b>Definition:</b> <a href="mxapi_8h_source.html#l00091">mxapi.h:91</a></div></div>
</div><!-- fragment --><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__mx__mbox__open_ga0de2de1958a22ca0679ea67f4f434db2_cgraph.svg" width="550" height="690"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
