<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: nntp/lib.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2021-02-05-647-g5d4e00</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nntp_2lib_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">lib.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Usenet network mailbox type; talk to an NNTP server.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="core_2lib_8h_source.html">core/lib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="format__flags_8h_source.html">format_flags.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for lib.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h__incl.svg" width="483" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h__dep__incl.svg" width="1912" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="nntp_2lib_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNntpAcache.html">NntpAcache</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">NNTP article cache.  <a href="structNntpAcache.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structNewsrcEntry.html">NewsrcEntry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An entry in a .newsrc (subscribed newsgroups)  <a href="structNewsrcEntry.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afbe93ce95fbbf1758c93d4b123fc2246"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a>&#160;&#160;&#160;uint32_t</td></tr>
<tr class="separator:afbe93ce95fbbf1758c93d4b123fc2246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af213c68397b28d9da9d2aa988ebbfbde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a>&#160;&#160;&#160;&quot;%u&quot;</td></tr>
<tr class="separator:af213c68397b28d9da9d2aa988ebbfbde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efe6072fe3f0f219d90675e1aa55f40"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a1efe6072fe3f0f219d90675e1aa55f40">NNTP_ACACHE_LEN</a>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a1efe6072fe3f0f219d90675e1aa55f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac4e2953e3c6f9d6d57467cb5e2856d1e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#ac4e2953e3c6f9d6d57467cb5e2856d1e">nntp_select_server</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *server, bool leave_lock)</td></tr>
<tr class="memdesc:ac4e2953e3c6f9d6d57467cb5e2856d1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a connection to an NNTP server.  <a href="#ac4e2953e3c6f9d6d57467cb5e2856d1e">More...</a><br /></td></tr>
<tr class="separator:ac4e2953e3c6f9d6d57467cb5e2856d1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a7958486648b61d6ce1fe34318eed8"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a74a7958486648b61d6ce1fe34318eed8">mutt_newsgroup_subscribe</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:a74a7958486648b61d6ce1fe34318eed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe newsgroup.  <a href="#a74a7958486648b61d6ce1fe34318eed8">More...</a><br /></td></tr>
<tr class="separator:a74a7958486648b61d6ce1fe34318eed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2d7fb63b1b73a6815a0ad8cd8ae07e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#aea2d7fb63b1b73a6815a0ad8cd8ae07e">mutt_newsgroup_unsubscribe</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:aea2d7fb63b1b73a6815a0ad8cd8ae07e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsubscribe newsgroup.  <a href="#aea2d7fb63b1b73a6815a0ad8cd8ae07e">More...</a><br /></td></tr>
<tr class="separator:aea2d7fb63b1b73a6815a0ad8cd8ae07e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f67ac08e3719a644d03b62e22127100"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a5f67ac08e3719a644d03b62e22127100">mutt_newsgroup_catchup</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:a5f67ac08e3719a644d03b62e22127100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Catchup newsgroup.  <a href="#a5f67ac08e3719a644d03b62e22127100">More...</a><br /></td></tr>
<tr class="separator:a5f67ac08e3719a644d03b62e22127100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16c66587ba5ca1cde6cc7408dfc3e66e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a16c66587ba5ca1cde6cc7408dfc3e66e">mutt_newsgroup_uncatchup</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, char *group)</td></tr>
<tr class="memdesc:a16c66587ba5ca1cde6cc7408dfc3e66e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uncatchup newsgroup.  <a href="#a16c66587ba5ca1cde6cc7408dfc3e66e">More...</a><br /></td></tr>
<tr class="separator:a16c66587ba5ca1cde6cc7408dfc3e66e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1782c5df61421b1951f9672b5d78d952"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a1782c5df61421b1951f9672b5d78d952">nntp_active_fetch</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata, bool mark_new)</td></tr>
<tr class="memdesc:a1782c5df61421b1951f9672b5d78d952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch list of all newsgroups from server.  <a href="#a1782c5df61421b1951f9672b5d78d952">More...</a><br /></td></tr>
<tr class="separator:a1782c5df61421b1951f9672b5d78d952"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae05e2f17614ff64c3429ac40ec5119"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a6ae05e2f17614ff64c3429ac40ec5119">nntp_newsrc_update</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a6ae05e2f17614ff64c3429ac40ec5119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update .newsrc file.  <a href="#a6ae05e2f17614ff64c3429ac40ec5119">More...</a><br /></td></tr>
<tr class="separator:a6ae05e2f17614ff64c3429ac40ec5119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cec5b84b23b34587cae72db07ad2d04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a4cec5b84b23b34587cae72db07ad2d04">nntp_post</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *msg)</td></tr>
<tr class="memdesc:a4cec5b84b23b34587cae72db07ad2d04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post article.  <a href="#a4cec5b84b23b34587cae72db07ad2d04">More...</a><br /></td></tr>
<tr class="separator:a4cec5b84b23b34587cae72db07ad2d04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e31da3560e7296a47d444775b42b8f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a0e31da3560e7296a47d444775b42b8f3">nntp_check_msgid</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *msgid)</td></tr>
<tr class="memdesc:a0e31da3560e7296a47d444775b42b8f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch article by Message-ID.  <a href="#a0e31da3560e7296a47d444775b42b8f3">More...</a><br /></td></tr>
<tr class="separator:a0e31da3560e7296a47d444775b42b8f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17459a2b096832129b7878bfea7300c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a17459a2b096832129b7878bfea7300c9">nntp_check_children</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, const char *msgid)</td></tr>
<tr class="memdesc:a17459a2b096832129b7878bfea7300c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch children of article with the Message-ID.  <a href="#a17459a2b096832129b7878bfea7300c9">More...</a><br /></td></tr>
<tr class="separator:a17459a2b096832129b7878bfea7300c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57bd184c51b8701e9613761a629ca485"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a57bd184c51b8701e9613761a629ca485">nntp_newsrc_parse</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a57bd184c51b8701e9613761a629ca485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse .newsrc file.  <a href="#a57bd184c51b8701e9613761a629ca485">More...</a><br /></td></tr>
<tr class="separator:a57bd184c51b8701e9613761a629ca485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64fdec9977db62a95daa5af59d280673"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a64fdec9977db62a95daa5af59d280673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlock and close .newsrc file.  <a href="#a64fdec9977db62a95daa5af59d280673">More...</a><br /></td></tr>
<tr class="separator:a64fdec9977db62a95daa5af59d280673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d6b4cf3e2a57697ddf28fb7b616cb46"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a5d6b4cf3e2a57697ddf28fb7b616cb46">nntp_mailbox</a> (struct <a class="el" href="structMailbox.html">Mailbox</a> *m, char *buf, size_t buflen)</td></tr>
<tr class="memdesc:a5d6b4cf3e2a57697ddf28fb7b616cb46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get first newsgroup with new messages.  <a href="#a5d6b4cf3e2a57697ddf28fb7b616cb46">More...</a><br /></td></tr>
<tr class="separator:a5d6b4cf3e2a57697ddf28fb7b616cb46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad55ac6624a236283f0521ebdee460eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#aad55ac6624a236283f0521ebdee460eb">nntp_expand_path</a> (char *buf, size_t buflen, struct <a class="el" href="structConnAccount.html">ConnAccount</a> *acct)</td></tr>
<tr class="memdesc:aad55ac6624a236283f0521ebdee460eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make fully qualified url from newsgroup name.  <a href="#aad55ac6624a236283f0521ebdee460eb">More...</a><br /></td></tr>
<tr class="separator:aad55ac6624a236283f0521ebdee460eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e57436b35d68983c6fe44815f3ad505"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a0e57436b35d68983c6fe44815f3ad505">nntp_clear_cache</a> (struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *adata)</td></tr>
<tr class="memdesc:a0e57436b35d68983c6fe44815f3ad505"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the NNTP cache.  <a href="#a0e57436b35d68983c6fe44815f3ad505">More...</a><br /></td></tr>
<tr class="separator:a0e57436b35d68983c6fe44815f3ad505"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f9880f62ed891cdd63f136d9d9766fc"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__expando__api.html#ga2f9880f62ed891cdd63f136d9d9766fc">nntp_format_str</a> (char *buf, size_t buflen, size_t col, int cols, char op, const char *src, const char *prec, const char *if_str, const char *else_str, intptr_t data, <a class="el" href="format__flags_8h.html#ad2734d319d795141616e1b5f241be1b2">MuttFormatFlags</a> flags)</td></tr>
<tr class="memdesc:ga2f9880f62ed891cdd63f136d9d9766fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Expand the newsrc filename - Implements <a class="el" href="format__flags_8h.html#a72125443a8544d5a78a9057d420c83c5">format_t</a> -<table class="doxtable">
<tr>
<th align="left">Expando </th><th align="left">Description  </th></tr>
<tr>
<td align="left">%a </td><td align="left"><a class="el" href="structAccount.html" title="A group of associated Mailboxes. ">Account</a> url </td></tr>
<tr>
<td align="left">%p </td><td align="left">Port </td></tr>
<tr>
<td align="left">%P </td><td align="left">Port if specified </td></tr>
<tr>
<td align="left">%s </td><td align="left">News server name </td></tr>
<tr>
<td align="left">%S </td><td align="left"><a class="el" href="structUrl.html" title="A parsed URL proto://user:password@host:port/path?a=1&amp;b=2 ">Url</a> schema </td></tr>
<tr>
<td align="left">%u </td><td align="left">Username </td></tr>
</table>
 <a href="group__expando__api.html#ga2f9880f62ed891cdd63f136d9d9766fc">More...</a><br /></td></tr>
<tr class="separator:ga2f9880f62ed891cdd63f136d9d9766fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe327b2048f5a2c6e0c9878edb5f8e4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a1fe327b2048f5a2c6e0c9878edb5f8e4">nntp_compare_order</a> (const struct <a class="el" href="structEmail.html">Email</a> *a, const struct <a class="el" href="structEmail.html">Email</a> *b, bool reverse)</td></tr>
<tr class="memdesc:a1fe327b2048f5a2c6e0c9878edb5f8e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sort to mailbox order - Implements <a class="el" href="sort_8h.html#a45f9a5b856cafe34e0bfbc1b3b61ab02" title="Prototype for comparing two emails. ">sort_mail_t</a>.  <a href="#a1fe327b2048f5a2c6e0c9878edb5f8e4">More...</a><br /></td></tr>
<tr class="separator:a1fe327b2048f5a2c6e0c9878edb5f8e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0af5851670960cce257a6e5f9f9805ff"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921d">MailboxType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__path__probe.html#ga0af5851670960cce257a6e5f9f9805ff">nntp_path_probe</a> (const char *path, const struct stat *st)</td></tr>
<tr class="memdesc:ga0af5851670960cce257a6e5f9f9805ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is this an NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a>? - Implements <a class="el" href="structMxOps.html#a625a6ea0abfdb6620542e26acc499177">MxOps::path_probe()</a> -.  <a href="group__mx__path__probe.html#ga0af5851670960cce257a6e5f9f9805ff">More...</a><br /></td></tr>
<tr class="separator:ga0af5851670960cce257a6e5f9f9805ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23b0e33bd83d40e2e27d61c38c9fea39"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__expando__api.html#ga23b0e33bd83d40e2e27d61c38c9fea39">group_index_format_str</a> (char *buf, size_t buflen, size_t col, int cols, char op, const char *src, const char *prec, const char *if_str, const char *else_str, intptr_t data, <a class="el" href="format__flags_8h.html#ad2734d319d795141616e1b5f241be1b2">MuttFormatFlags</a> flags)</td></tr>
<tr class="memdesc:ga23b0e33bd83d40e2e27d61c38c9fea39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format a string for the newsgroup menu - Implements <a class="el" href="format__flags_8h.html#a72125443a8544d5a78a9057d420c83c5">format_t</a> -<table class="doxtable">
<tr>
<th align="left">Expando </th><th align="left">Description  </th></tr>
<tr>
<td align="left">%C </td><td align="left">Current newsgroup number </td></tr>
<tr>
<td align="left">%d </td><td align="left">Description of newsgroup (becomes from server) </td></tr>
<tr>
<td align="left">%f </td><td align="left">Newsgroup name </td></tr>
<tr>
<td align="left">%M </td><td align="left">- if newsgroup not allowed for direct post (moderated for example) </td></tr>
<tr>
<td align="left">%N </td><td align="left">N if newsgroup is new, u if unsubscribed, blank otherwise </td></tr>
<tr>
<td align="left">%n </td><td align="left">Number of new articles in newsgroup </td></tr>
<tr>
<td align="left">%s </td><td align="left">Number of unread articles in newsgroup </td></tr>
</table>
 <a href="group__expando__api.html#ga23b0e33bd83d40e2e27d61c38c9fea39">More...</a><br /></td></tr>
<tr class="separator:ga23b0e33bd83d40e2e27d61c38c9fea39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a052dfa40f5ab0fb5debbeaf06b628ae9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#a052dfa40f5ab0fb5debbeaf06b628ae9">nntp_complete</a> (char *buf, size_t buflen)</td></tr>
<tr class="memdesc:a052dfa40f5ab0fb5debbeaf06b628ae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Auto-complete NNTP newsgroups.  <a href="#a052dfa40f5ab0fb5debbeaf06b628ae9">More...</a><br /></td></tr>
<tr class="separator:a052dfa40f5ab0fb5debbeaf06b628ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae58e3a5dcd99b6bbd0354b133fc220ce"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></td></tr>
<tr class="memdesc:ae58e3a5dcd99b6bbd0354b133fc220ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current NNTP news server.  <a href="#ae58e3a5dcd99b6bbd0354b133fc220ce">More...</a><br /></td></tr>
<tr class="separator:ae58e3a5dcd99b6bbd0354b133fc220ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga94647e4d7fc43a4cbaa0f477545f478d"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structMxOps.html">MxOps</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__mx__api.html#ga94647e4d7fc43a4cbaa0f477545f478d">MxNntpOps</a></td></tr>
<tr class="memdesc:ga94647e4d7fc43a4cbaa0f477545f478d"><td class="mdescLeft">&#160;</td><td class="mdescRight">NNTP <a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> - Implements <a class="el" href="structMxOps.html">MxOps</a> -.  <a href="group__mx__api.html#ga94647e4d7fc43a4cbaa0f477545f478d">More...</a><br /></td></tr>
<tr class="separator:ga94647e4d7fc43a4cbaa0f477545f478d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Usenet network mailbox type; talk to an NNTP server. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Brandon Long</li>
<li>Andrej Gritsenko</li>
<li>Vsevolod Volkov</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="afbe93ce95fbbf1758c93d4b123fc2246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbe93ce95fbbf1758c93d4b123fc2246">&#9670;&nbsp;</a></span>anum_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define anum_t&#160;&#160;&#160;uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2lib_8h_source.html#l00060">60</a> of file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<a id="af213c68397b28d9da9d2aa988ebbfbde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af213c68397b28d9da9d2aa988ebbfbde">&#9670;&nbsp;</a></span>ANUM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ANUM&#160;&#160;&#160;&quot;%u&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2lib_8h_source.html#l00061">61</a> of file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<a id="a1efe6072fe3f0f219d90675e1aa55f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1efe6072fe3f0f219d90675e1aa55f40">&#9670;&nbsp;</a></span>NNTP_ACACHE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NNTP_ACACHE_LEN&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="nntp_2lib_8h_source.html#l00082">82</a> of file <a class="el" href="nntp_2lib_8h_source.html">lib.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac4e2953e3c6f9d6d57467cb5e2856d1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e2953e3c6f9d6d57467cb5e2856d1e">&#9670;&nbsp;</a></span>nntp_select_server()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a>* nntp_select_server </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>leave_lock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a connection to an NNTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">server</td><td>Server URL </td></tr>
    <tr><td class="paramname">leave_lock</td><td>Leave the server locked? </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP server </td></tr>
    <tr><td class="paramname">NULL</td><td>Error</td></tr>
  </table>
  </dd>
</dl>
<p>Automatically loads a newsrc into memory, if necessary. Checks the size/mtime of a newsrc file, if it doesn't match, load again. Hmm, if a system has broken mtimes, this might mean the file is reloaded every time, which we'd have to fix. </p>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01017">1017</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;{</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <span class="keywordtype">char</span> file[<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;  <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="keyword">struct </span><a class="code" href="structConnAccount.html">ConnAccount</a> cac = { { 0 } };</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = NULL;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="keyword">struct </span><a class="code" href="structConnection.html">Connection</a> *conn = NULL;</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="keywordflow">if</span> (!server || (*server == <span class="charliteral">&#39;\0&#39;</span>))</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;  {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;No news server defined&quot;</span>));</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  }</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  <span class="comment">/* create account from news server url */</span></div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  cac.<a class="code" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> = 0;</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  cac.<a class="code" href="structConnAccount.html#aff0fc77d9a388c80c347c5c2c925086d">port</a> = <a class="code" href="nntp_2private_8h.html#aaccdd399473f113674cbabfeaa5ef972">NNTP_PORT</a>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  cac.<a class="code" href="structConnAccount.html#aefc6c0b647de43e60472000102a0e208">type</a> = <a class="code" href="mutt__account_8h.html#a406c8474bdbb9cc2a25882558a367c2fa5cb8b16458e2d70c723c355ea3b8bfa3">MUTT_ACCT_TYPE_NNTP</a>;</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  cac.<a class="code" href="structConnAccount.html#a86102cb75ff512603a5559d4908b1ba4">service</a> = <span class="stringliteral">&quot;nntp&quot;</span>;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  cac.<a class="code" href="structConnAccount.html#ab6af33cde42120a828e3d37d0c67f863">get_field</a> = <a class="code" href="newsrc_8c.html#a1fa32556d100e52868574d5c1be2228f">nntp_get_field</a>;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  snprintf(file, <span class="keyword">sizeof</span>(file), <span class="stringliteral">&quot;%s%s&quot;</span>, strstr(server, <span class="stringliteral">&quot;://&quot;</span>) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;news://&quot;</span>, server);</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keyword">struct </span><a class="code" href="structUrl.html">Url</a> *url = <a class="code" href="url_8c.html#a10d35f5553c8e443c38257b69ca91075">url_parse</a>(file);</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keywordflow">if</span> (!url || (url-&gt;<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> &amp;&amp; *url-&gt;<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>) ||</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;      !((url-&gt;<a class="code" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a>) || (url-&gt;<a class="code" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a>)) || !url-&gt;<a class="code" href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">host</a> ||</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;      (<a class="code" href="mutt__account_8c.html#a1b69f282293a8eaa1766138ddcb44a9c">mutt_account_fromurl</a>(&amp;cac, url) &lt; 0))</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  {</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    <a class="code" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;%s is an invalid news server specification&quot;</span>), server);</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;  }</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  <span class="keywordflow">if</span> (url-&gt;<a class="code" href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">scheme</a> == <a class="code" href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a>)</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  {</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    cac.<a class="code" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> |= <a class="code" href="connaccount_8h.html#a4a13697bc3f261ea3949d4dbe3869863">MUTT_ACCT_SSL</a>;</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    cac.<a class="code" href="structConnAccount.html#aff0fc77d9a388c80c347c5c2c925086d">port</a> = <a class="code" href="nntp_2private_8h.html#a1e2acdcc22ea61457b4dcafc8825aae5">NNTP_SSL_PORT</a>;</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <a class="code" href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a>(&amp;url);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="comment">/* find connection by account */</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  conn = <a class="code" href="mutt__socket_8c.html#a20be90f4aa1a3b7ef0aa64ad629103d4">mutt_conn_find</a>(&amp;cac);</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keywordflow">if</span> (!conn)</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <span class="keywordflow">if</span> (!(conn-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> &amp; <a class="code" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>) &amp;&amp; cac.<a class="code" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> &amp; <a class="code" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>)</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  {</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    conn-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code" href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">flags</a> |= <a class="code" href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a>;</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    conn-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code" href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">user</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  }</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <span class="comment">/* news server already exists */</span></div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <span class="comment">// adata = conn-&gt;data;</span></div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">if</span> (adata)</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  {</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> == <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a>)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;      adata-&gt;<a class="code" href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">status</a> = <a class="code" href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a>;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#abc4e8951366a6bf81d5d4d4ecf5ad4ba">nntp_open_connection</a>(adata) &lt; 0)</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;    rc = <a class="code" href="newsrc_8c.html#a57bd184c51b8701e9613761a629ca485">nntp_newsrc_parse</a>(adata);</div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    <span class="keywordflow">if</span> (rc &lt; 0)</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="comment">/* check for new newsgroups */</span></div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;    <span class="keywordflow">if</span> (!leave_lock &amp;&amp; (<a class="code" href="nntp_8c.html#a1f4ed64d09034fa97562c2976d80d614">nntp_check_new_groups</a>(m, adata) &lt; 0))</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      rc = -1;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    <span class="comment">/* .newsrc has been externally modified */</span></div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    <span class="keywordflow">if</span> (rc &gt; 0)</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;      <a class="code" href="newsrc_8c.html#a0e57436b35d68983c6fe44815f3ad505">nntp_clear_cache</a>(adata);</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;    <span class="keywordflow">if</span> ((rc &lt; 0) || !leave_lock)</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      <a class="code" href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <span class="keywordflow">return</span> (rc &lt; 0) ? NULL : adata;</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  }</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;  <span class="comment">/* new news server */</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  adata = <a class="code" href="nntp_2adata_8c.html#a1737046bffd087c7876345a526ecf57b">nntp_adata_new</a>(conn);</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  rc = <a class="code" href="nntp_8c.html#abc4e8951366a6bf81d5d4d4ecf5ad4ba">nntp_open_connection</a>(adata);</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="comment">/* try to create cache directory and enable caching */</span></div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_news_cache_dir =</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;      <a class="code" href="helpers_8c.html#acadf9e29fd733422508496a70a080c09">cs_subset_path</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;news_cache_dir&quot;</span>);</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="keywordflow">if</span> ((rc &gt;= 0) &amp;&amp; c_news_cache_dir)</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <a class="code" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(file, <span class="keyword">sizeof</span>(file), &amp;conn-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, NULL);</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="file_8c.html#a42b89c4ae9ca386c22de502b37cdf45e">mutt_file_mkdir</a>(file, S_IRWXU) &lt; 0)</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    {</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;      <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t create %s: %s&quot;</span>), file, strerror(errno));</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    }</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    adata-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  }</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="comment">/* load .newsrc */</span></div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;  <span class="keywordflow">if</span> (rc &gt;= 0)</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  {</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_newsrc = <a class="code" href="helpers_8c.html#acadf9e29fd733422508496a70a080c09">cs_subset_path</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;newsrc&quot;</span>);</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    <a class="code" href="group__expando__api.html#ga8972094c1e995739c8b072c8be3ce453">mutt_expando_format</a>(file, <span class="keyword">sizeof</span>(file), 0, <span class="keyword">sizeof</span>(file), <a class="code" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(c_newsrc),</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                        <a class="code" href="group__expando__api.html#ga2f9880f62ed891cdd63f136d9d9766fc">nntp_format_str</a>, (intptr_t) adata, <a class="code" href="format__flags_8h.html#a5167e8b2777abe5e02be90e0d2a816de">MUTT_FORMAT_NO_FLAGS</a>);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;    <a class="code" href="muttlib_8c.html#a483f037de523c624d449b4296a3ddfb2">mutt_expand_path</a>(file, <span class="keyword">sizeof</span>(file));</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a> = <a class="code" href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a>(file);</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    rc = <a class="code" href="newsrc_8c.html#a57bd184c51b8701e9613761a629ca485">nntp_newsrc_parse</a>(adata);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  <span class="keywordflow">if</span> (rc &gt;= 0)</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  {</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    <span class="comment">/* try to load list of newsgroups from cache */</span></div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;    <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a> &amp;&amp; (<a class="code" href="newsrc_8c.html#a8a0f0a9d60138637dde00cb0732c6b9e">active_get_cache</a>(adata) == 0))</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      rc = <a class="code" href="nntp_8c.html#a1f4ed64d09034fa97562c2976d80d614">nntp_check_new_groups</a>(m, adata);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;    <span class="comment">/* load list of newsgroups from server */</span></div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;      rc = <a class="code" href="nntp_2lib_8h.html#a1782c5df61421b1951f9672b5d78d952">nntp_active_fetch</a>(adata, <span class="keyword">false</span>);</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <span class="keywordflow">if</span> (rc &gt;= 0)</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="newsrc_8c.html#a0e57436b35d68983c6fe44815f3ad505">nntp_clear_cache</a>(adata);</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  <span class="comment">/* check cache files */</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  <span class="keywordflow">if</span> ((rc &gt;= 0) &amp;&amp; adata-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keyword">struct </span>dirent *entry = NULL;</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    DIR *dp = opendir(file);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <span class="keywordflow">if</span> (dp)</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;    {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;      <span class="keywordflow">while</span> ((entry = readdir(dp)))</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      {</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keyword">struct </span><a class="code" href="structHeaderCache.html">HeaderCache</a> *hc = NULL;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <span class="keywordtype">void</span> *hdata = NULL;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordtype">char</span> *group = entry-&gt;d_name;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        <span class="keywordtype">char</span> *p = group + strlen(group) - 7;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;        <span class="keywordflow">if</span> ((strlen(group) &lt; 8) || (strcmp(p, <span class="stringliteral">&quot;.hcache&quot;</span>) != 0))</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        *p = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, group);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;        <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;        hc = <a class="code" href="newsrc_8c.html#ad8d95064a7efb66e51bfde2c8b12aff7">nntp_hcache_open</a>(mdata);</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;        <span class="keywordflow">if</span> (!hc)</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        <span class="comment">/* fetch previous values of first and last */</span></div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;        <span class="keywordtype">size_t</span> dlen = 0;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;        hdata = <a class="code" href="hcache_8c.html#afafbb66bd655d35f263db1272440aeb1">mutt_hcache_fetch_raw</a>(hc, <span class="stringliteral">&quot;index&quot;</span>, 5, &amp;dlen);</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        <span class="keywordflow">if</span> (hdata)</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        {</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;          <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> first, last;</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;          <span class="keywordflow">if</span> (sscanf(hdata, <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a> <span class="stringliteral">&quot; &quot;</span> <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a>, &amp;first, &amp;last) == 2)</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;          {</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a>)</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;            {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;              mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> = first;</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;              mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> = last;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;            }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            <span class="keywordflow">if</span> ((last &gt;= mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>) &amp;&amp; (last &lt;= mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>))</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;            {</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;              mdata-&gt;<a class="code" href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">last_cached</a> = last;</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;              <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s last_cached=%u\n&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, last);</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            }</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;          }</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;          <a class="code" href="hcache_8c.html#aa5d4bb535ed54cc8d4a8a4117ceff9fa">mutt_hcache_free_raw</a>(hc, &amp;hdata);</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        }</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        <a class="code" href="hcache_8c.html#a26bcb4546ca8d63327187a6bbeab796c">mutt_hcache_close</a>(hc);</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      }</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      closedir(dp);</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  }</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keywordflow">if</span> ((rc &lt; 0) || !leave_lock)</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    <a class="code" href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keywordflow">if</span> (rc &lt; 0)</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  {</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <a class="code" href="hash_8c.html#afa22b7f78bbf1b59a4a2bd4bdd20948b">mutt_hash_free</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>);</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>);</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#a31956518f4a223c885421a1315b79330">authenticators</a>);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;adata);</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <a class="code" href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a>(conn);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;conn);</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;  }</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="mutt__account_8c_html_a1b69f282293a8eaa1766138ddcb44a9c"><div class="ttname"><a href="mutt__account_8c.html#a1b69f282293a8eaa1766138ddcb44a9c">mutt_account_fromurl</a></div><div class="ttdeci">int mutt_account_fromurl(struct ConnAccount *cac, const struct Url *url)</div><div class="ttdoc">Fill ConnAccount with information from url. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__account_8c_source.html#l00043">mutt_account.c:43</a></div></div>
<div class="ttc" id="group__expando__api_html_ga8972094c1e995739c8b072c8be3ce453"><div class="ttname"><a href="group__expando__api.html#ga8972094c1e995739c8b072c8be3ce453">mutt_expando_format</a></div><div class="ttdeci">void mutt_expando_format(char *buf, size_t buflen, size_t col, int cols, const char *src, format_t callback, intptr_t data, MuttFormatFlags flags)</div><div class="ttdoc">Expand expandos (x) in a string -. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00780">muttlib.c:780</a></div></div>
<div class="ttc" id="string2_8h_html_a7e0481bed27661ea2679f256b24e0283"><div class="ttname"><a href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a></div><div class="ttdeci">#define NONULL(x)</div><div class="ttdef"><b>Definition:</b> <a href="string2_8h_source.html#l00037">string2.h:37</a></div></div>
<div class="ttc" id="structNntpAccountData_html_ac66124453d57694fec9563cdbe65ce97"><div class="ttname"><a href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">NntpAccountData::newsrc_file</a></div><div class="ttdeci">char * newsrc_file</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00052">adata.h:52</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="hash_8c_html_afa22b7f78bbf1b59a4a2bd4bdd20948b"><div class="ttname"><a href="hash_8c.html#afa22b7f78bbf1b59a4a2bd4bdd20948b">mutt_hash_free</a></div><div class="ttdeci">void mutt_hash_free(struct HashTable **ptr)</div><div class="ttdoc">Free a hash table. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00449">hash.c:449</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa3c8db6bef2f46a4076cb9888ac96a1a0">NNTP_BYE</a></div><div class="ttdoc">Disconnected from server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00046">private.h:46</a></div></div>
<div class="ttc" id="structUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2 </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00068">url.h:68</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="structUrl_html_ad84f1714cab12c536e1bcc552b1c5b51"><div class="ttname"><a href="structUrl.html#ad84f1714cab12c536e1bcc552b1c5b51">Url::scheme</a></div><div class="ttdeci">enum UrlScheme scheme</div><div class="ttdoc">Scheme, e.g. U_SMTPS. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00070">url.h:70</a></div></div>
<div class="ttc" id="structHeaderCache_html"><div class="ttname"><a href="structHeaderCache.html">HeaderCache</a></div><div class="ttdoc">header cache structure </div><div class="ttdef"><b>Definition:</b> <a href="hcache_2lib_8h_source.html#l00084">lib.h:84</a></div></div>
<div class="ttc" id="structConnection_html"><div class="ttname"><a href="structConnection.html">Connection</a></div><div class="ttdoc">An open network connection (socket) </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00034">connection.h:34</a></div></div>
<div class="ttc" id="newsrc_8c_html_a0e57436b35d68983c6fe44815f3ad505"><div class="ttname"><a href="newsrc_8c.html#a0e57436b35d68983c6fe44815f3ad505">nntp_clear_cache</a></div><div class="ttdeci">void nntp_clear_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Clear the NNTP cache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00846">newsrc.c:846</a></div></div>
<div class="ttc" id="structConnAccount_html_a48b8084b2dd1ef3d4e051a01cf15c7ca"><div class="ttname"><a href="structConnAccount.html#a48b8084b2dd1ef3d4e051a01cf15c7ca">ConnAccount::user</a></div><div class="ttdeci">char user[128]</div><div class="ttdoc">Username. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00055">connaccount.h:55</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a4c2560f787bd1226b977992c16860c98"><div class="ttname"><a href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00370">string.c:370</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="url_8c_html_a7b05825b8bb8f87657713fe5bc6edfaa"><div class="ttname"><a href="url_8c.html#a7b05825b8bb8f87657713fe5bc6edfaa">url_free</a></div><div class="ttdeci">void url_free(struct Url **ptr)</div><div class="ttdoc">Free the contents of a URL. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00123">url.c:123</a></div></div>
<div class="ttc" id="hcache_8c_html_aa5d4bb535ed54cc8d4a8a4117ceff9fa"><div class="ttname"><a href="hcache_8c.html#aa5d4bb535ed54cc8d4a8a4117ceff9fa">mutt_hcache_free_raw</a></div><div class="ttdeci">void mutt_hcache_free_raw(struct HeaderCache *hc, void **data)</div><div class="ttdoc">Multiplexor for StoreOps::free. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00541">hcache.c:541</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="connaccount_8h_html_ab496cae7636af7b356aad973a4a2e675"><div class="ttname"><a href="connaccount_8h.html#ab496cae7636af7b356aad973a4a2e675">MUTT_ACCT_USER</a></div><div class="ttdeci">#define MUTT_ACCT_USER</div><div class="ttdoc">User field has been set. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00043">connaccount.h:43</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00036">adata.h:36</a></div></div>
<div class="ttc" id="format__flags_8h_html_a5167e8b2777abe5e02be90e0d2a816de"><div class="ttname"><a href="format__flags_8h.html#a5167e8b2777abe5e02be90e0d2a816de">MUTT_FORMAT_NO_FLAGS</a></div><div class="ttdeci">#define MUTT_FORMAT_NO_FLAGS</div><div class="ttdoc">No flags are set. </div><div class="ttdef"><b>Definition:</b> <a href="format__flags_8h_source.html#l00030">format_flags.h:30</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2869a3060aa018d6c8e8e2b6ab6cfa21"><div class="ttname"><a href="structNntpMboxData.html#a2869a3060aa018d6c8e8e2b6ab6cfa21">NntpMboxData::last_cached</a></div><div class="ttdeci">anum_t last_cached</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00039">mdata.h:39</a></div></div>
<div class="ttc" id="muttlib_8c_html_a483f037de523c624d449b4296a3ddfb2"><div class="ttname"><a href="muttlib_8c.html#a483f037de523c624d449b4296a3ddfb2">mutt_expand_path</a></div><div class="ttdeci">char * mutt_expand_path(char *buf, size_t buflen)</div><div class="ttdoc">Create the canonical path. </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00122">muttlib.c:122</a></div></div>
<div class="ttc" id="structNntpAccountData_html_ab1119d6a97b21d5015bef09d4debc002"><div class="ttname"><a href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">NntpAccountData::cacheable</a></div><div class="ttdeci">bool cacheable</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00049">adata.h:49</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_a1782c5df61421b1951f9672b5d78d952"><div class="ttname"><a href="nntp_2lib_8h.html#a1782c5df61421b1951f9672b5d78d952">nntp_active_fetch</a></div><div class="ttdeci">int nntp_active_fetch(struct NntpAccountData *adata, bool mark_new)</div><div class="ttdoc">Fetch list of all newsgroups from server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01963">nntp.c:1963</a></div></div>
<div class="ttc" id="group__expando__api_html_ga2f9880f62ed891cdd63f136d9d9766fc"><div class="ttname"><a href="group__expando__api.html#ga2f9880f62ed891cdd63f136d9d9766fc">nntp_format_str</a></div><div class="ttdeci">const char * nntp_format_str(char *buf, size_t buflen, size_t col, int cols, char op, const char *src, const char *prec, const char *if_str, const char *else_str, intptr_t data, MuttFormatFlags flags)</div><div class="ttdoc">Expand the newsrc filename - Implements format_t -Expando Description  %a Account url %p Port %P Port...</div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00925">newsrc.c:925</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="file_8c_html_a42b89c4ae9ca386c22de502b37cdf45e"><div class="ttname"><a href="file_8c.html#a42b89c4ae9ca386c22de502b37cdf45e">mutt_file_mkdir</a></div><div class="ttdeci">int mutt_file_mkdir(const char *path, mode_t mode)</div><div class="ttdoc">Recursively create directories. </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00877">file.c:877</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="mutt__socket_8c_html_a20be90f4aa1a3b7ef0aa64ad629103d4"><div class="ttname"><a href="mutt__socket_8c.html#a20be90f4aa1a3b7ef0aa64ad629103d4">mutt_conn_find</a></div><div class="ttdeci">struct Connection * mutt_conn_find(const struct ConnAccount *cac)</div><div class="ttdoc">Find a connection from a list. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__socket_8c_source.html#l00089">mutt_socket.c:89</a></div></div>
<div class="ttc" id="url_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a36622ec19979218e1af310e5e17fba76">U_NNTPS</a></div><div class="ttdoc">Url is nntps://. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00042">url.h:42</a></div></div>
<div class="ttc" id="structConnAccount_html_aff0fc77d9a388c80c347c5c2c925086d"><div class="ttname"><a href="structConnAccount.html#aff0fc77d9a388c80c347c5c2c925086d">ConnAccount::port</a></div><div class="ttdeci">unsigned short port</div><div class="ttdoc">Port to connect to. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00057">connaccount.h:57</a></div></div>
<div class="ttc" id="structConnAccount_html_ab6af33cde42120a828e3d37d0c67f863"><div class="ttname"><a href="structConnAccount.html#ab6af33cde42120a828e3d37d0c67f863">ConnAccount::get_field</a></div><div class="ttdeci">const char *(* get_field)(enum ConnAccountField field, void *gf_data)</div><div class="ttdoc">Function to get some login credentials. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00067">connaccount.h:67</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_af213c68397b28d9da9d2aa988ebbfbde"><div class="ttname"><a href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a></div><div class="ttdeci">#define ANUM</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a2a1c6e75563a61693936d8d82acc1321"><div class="ttname"><a href="structNntpAccountData.html#a2a1c6e75563a61693936d8d82acc1321">NntpAccountData::status</a></div><div class="ttdeci">unsigned int status</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00048">adata.h:48</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="structAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends) </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00043">account.h:43</a></div></div>
<div class="ttc" id="newsrc_8c_html_ad8d95064a7efb66e51bfde2c8b12aff7"><div class="ttname"><a href="newsrc_8c.html#ad8d95064a7efb66e51bfde2c8b12aff7">nntp_hcache_open</a></div><div class="ttdeci">struct HeaderCache * nntp_hcache_open(struct NntpMboxData *mdata)</div><div class="ttdoc">Open newsgroup hcache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00709">newsrc.c:709</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c"><div class="ttname"><a href="nntp_2private_8h.html#a30e5c5a44ecbd929699e93d887f39f6fa32f5431a095a439134751f874712176c">NNTP_NONE</a></div><div class="ttdoc">No connection to server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00044">private.h:44</a></div></div>
<div class="ttc" id="structConnAccount_html_aefc6c0b647de43e60472000102a0e208"><div class="ttname"><a href="structConnAccount.html#aefc6c0b647de43e60472000102a0e208">ConnAccount::type</a></div><div class="ttdeci">unsigned char type</div><div class="ttdoc">Connection type, e.g. MUTT_ACCT_TYPE_IMAP. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00058">connaccount.h:58</a></div></div>
<div class="ttc" id="structUrl_html_a565d3391c8b8114a97ad6f1b7c75b5f6"><div class="ttname"><a href="structUrl.html#a565d3391c8b8114a97ad6f1b7c75b5f6">Url::host</a></div><div class="ttdeci">char * host</div><div class="ttdoc">Host. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00073">url.h:73</a></div></div>
<div class="ttc" id="newsrc_8c_html_a8d3a7328ed6d800fc41fb83e20db792a"><div class="ttname"><a href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a></div><div class="ttdeci">static void cache_expand(char *dst, size_t dstlen, struct ConnAccount *cac, const char *src)</div><div class="ttdoc">Make fully qualified cache file name. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00518">newsrc.c:518</a></div></div>
<div class="ttc" id="helpers_8c_html_acadf9e29fd733422508496a70a080c09"><div class="ttname"><a href="helpers_8c.html#acadf9e29fd733422508496a70a080c09">cs_subset_path</a></div><div class="ttdeci">const char * cs_subset_path(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a path config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00194">helpers.c:194</a></div></div>
<div class="ttc" id="structConnAccount_html_a86102cb75ff512603a5559d4908b1ba4"><div class="ttname"><a href="structConnAccount.html#a86102cb75ff512603a5559d4908b1ba4">ConnAccount::service</a></div><div class="ttdeci">const char * service</div><div class="ttdoc">Name of the service, e.g. &quot;imap&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00060">connaccount.h:60</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structConnAccount_html"><div class="ttname"><a href="structConnAccount.html">ConnAccount</a></div><div class="ttdoc">Login details for a remote server. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00051">connaccount.h:51</a></div></div>
<div class="ttc" id="socket_8c_html_a432eed609a221c68f457302d6e40c383"><div class="ttname"><a href="socket_8c.html#a432eed609a221c68f457302d6e40c383">mutt_socket_close</a></div><div class="ttdeci">int mutt_socket_close(struct Connection *conn)</div><div class="ttdoc">Close a socket. </div><div class="ttdef"><b>Definition:</b> <a href="socket_8c_source.html#l00097">socket.c:97</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="newsrc_8c_html_a57bd184c51b8701e9613761a629ca485"><div class="ttname"><a href="newsrc_8c.html#a57bd184c51b8701e9613761a629ca485">nntp_newsrc_parse</a></div><div class="ttdeci">int nntp_newsrc_parse(struct NntpAccountData *adata)</div><div class="ttdoc">Parse .newsrc file. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00162">newsrc.c:162</a></div></div>
<div class="ttc" id="newsrc_8c_html_a64fdec9977db62a95daa5af59d280673"><div class="ttname"><a href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a></div><div class="ttdeci">void nntp_newsrc_close(struct NntpAccountData *adata)</div><div class="ttdoc">Unlock and close .newsrc file. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00118">newsrc.c:118</a></div></div>
<div class="ttc" id="structUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="mutt__account_8h_html_a406c8474bdbb9cc2a25882558a367c2fa5cb8b16458e2d70c723c355ea3b8bfa3"><div class="ttname"><a href="mutt__account_8h.html#a406c8474bdbb9cc2a25882558a367c2fa5cb8b16458e2d70c723c355ea3b8bfa3">MUTT_ACCT_TYPE_NNTP</a></div><div class="ttdoc">Nntp (Usenet) Account. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__account_8h_source.html#l00040">mutt_account.h:40</a></div></div>
<div class="ttc" id="hcache_8c_html_a26bcb4546ca8d63327187a6bbeab796c"><div class="ttname"><a href="hcache_8c.html#a26bcb4546ca8d63327187a6bbeab796c">mutt_hcache_close</a></div><div class="ttdeci">void mutt_hcache_close(struct HeaderCache *hc)</div><div class="ttdoc">Multiplexor for StoreOps::close. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00435">hcache.c:435</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a31956518f4a223c885421a1315b79330"><div class="ttname"><a href="structNntpAccountData.html#a31956518f4a223c885421a1315b79330">NntpAccountData::authenticators</a></div><div class="ttdeci">char * authenticators</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00053">adata.h:53</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2b27ff6bf080a892ab903b1504e72d5b"><div class="ttname"><a href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">NntpMboxData::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00044">mdata.h:44</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="url_8h_html_a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1"><div class="ttname"><a href="url_8h.html#a10b37ccf31f8e23024ff3ba628aa4243a867c7d440d5858e5c749d595a7e971a1">U_NNTP</a></div><div class="ttdoc">Url is nntp://. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00041">url.h:41</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_a1e2acdcc22ea61457b4dcafc8825aae5"><div class="ttname"><a href="nntp_2private_8h.html#a1e2acdcc22ea61457b4dcafc8825aae5">NNTP_SSL_PORT</a></div><div class="ttdeci">#define NNTP_SSL_PORT</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00037">private.h:37</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="nntp_8c_html_a1f4ed64d09034fa97562c2976d80d614"><div class="ttname"><a href="nntp_8c.html#a1f4ed64d09034fa97562c2976d80d614">nntp_check_new_groups</a></div><div class="ttdeci">int nntp_check_new_groups(struct Mailbox *m, struct NntpAccountData *adata)</div><div class="ttdoc">Check for new groups/articles in subscribed groups. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l02032">nntp.c:2032</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="hcache_8c_html_afafbb66bd655d35f263db1272440aeb1"><div class="ttname"><a href="hcache_8c.html#afafbb66bd655d35f263db1272440aeb1">mutt_hcache_fetch_raw</a></div><div class="ttdeci">void * mutt_hcache_fetch_raw(struct HeaderCache *hc, const char *key, size_t keylen, size_t *dlen)</div><div class="ttdoc">Fetch a message&amp;#39;s header from the cache. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00521">hcache.c:521</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="newsrc_8c_html_a1fa32556d100e52868574d5c1be2228f"><div class="ttname"><a href="newsrc_8c.html#a1fa32556d100e52868574d5c1be2228f">nntp_get_field</a></div><div class="ttdeci">static const char * nntp_get_field(enum ConnAccountField field, void *gf_data)</div><div class="ttdoc">Get connection login credentials - Implements ConnAccount::get_field() </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00988">newsrc.c:988</a></div></div>
<div class="ttc" id="newsrc_8c_html_a8a0f0a9d60138637dde00cb0732c6b9e"><div class="ttname"><a href="newsrc_8c.html#a8a0f0a9d60138637dde00cb0732c6b9e">active_get_cache</a></div><div class="ttdeci">static int active_get_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Load list of all newsgroups from cache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00616">newsrc.c:616</a></div></div>
<div class="ttc" id="nntp_2private_8h_html_aaccdd399473f113674cbabfeaa5ef972"><div class="ttname"><a href="nntp_2private_8h.html#aaccdd399473f113674cbabfeaa5ef972">NNTP_PORT</a></div><div class="ttdeci">#define NNTP_PORT</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2private_8h_source.html#l00036">private.h:36</a></div></div>
<div class="ttc" id="connaccount_8h_html_a4a13697bc3f261ea3949d4dbe3869863"><div class="ttname"><a href="connaccount_8h.html#a4a13697bc3f261ea3949d4dbe3869863">MUTT_ACCT_SSL</a></div><div class="ttdeci">#define MUTT_ACCT_SSL</div><div class="ttdoc">Account uses SSL/TLS. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00046">connaccount.h:46</a></div></div>
<div class="ttc" id="nntp_2adata_8c_html_a1737046bffd087c7876345a526ecf57b"><div class="ttname"><a href="nntp_2adata_8c.html#a1737046bffd087c7876345a526ecf57b">nntp_adata_new</a></div><div class="ttdeci">struct NntpAccountData * nntp_adata_new(struct Connection *conn)</div><div class="ttdoc">Allocate and initialise a new NntpAccountData structure. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8c_source.html#l00062">adata.c:62</a></div></div>
<div class="ttc" id="nntp_8c_html_abc4e8951366a6bf81d5d4d4ecf5ad4ba"><div class="ttname"><a href="nntp_8c.html#abc4e8951366a6bf81d5d4d4ecf5ad4ba">nntp_open_connection</a></div><div class="ttdeci">int nntp_open_connection(struct NntpAccountData *adata)</div><div class="ttdoc">Connect to server, authenticate and get capabilities. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01712">nntp.c:1712</a></div></div>
<div class="ttc" id="structConnAccount_html_af674ed2969fc29ff7d99f8b4cff6c92b"><div class="ttname"><a href="structConnAccount.html#af674ed2969fc29ff7d99f8b4cff6c92b">ConnAccount::flags</a></div><div class="ttdeci">MuttAccountFlags flags</div><div class="ttdoc">Which fields are initialised, e.g. MUTT_ACCT_USER. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00059">connaccount.h:59</a></div></div>
<div class="ttc" id="url_8c_html_a10d35f5553c8e443c38257b69ca91075"><div class="ttname"><a href="url_8c.html#a10d35f5553c8e443c38257b69ca91075">url_parse</a></div><div class="ttdeci">struct Url * url_parse(const char *src)</div><div class="ttdoc">Fill in Url. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00234">url.c:234</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_ac4e2953e3c6f9d6d57467cb5e2856d1e_cgraph.svg" width="771" height="1355"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_ac4e2953e3c6f9d6d57467cb5e2856d1e_icgraph.svg" width="380" height="240"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a74a7958486648b61d6ce1fe34318eed8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a7958486648b61d6ce1fe34318eed8">&#9670;&nbsp;</a></span>mutt_newsgroup_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a>* mutt_newsgroup_subscribe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01256">1256</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;{</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> || (*<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> == <span class="charliteral">&#39;\0&#39;</span>))</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="newsrc_8c.html#ad95047455c17e74059e350654359062a">mdata_find</a>(adata, <a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <span class="keywordflow">if</span> (!mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  {</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> = <a class="code" href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a>(1, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = 1;</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = 1;</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = 0;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;  }</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;}</div><div class="ttc" id="memory_8c_html_a4c1612d209c7825d55e6a014df352f03"><div class="ttname"><a href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a></div><div class="ttdeci">void * mutt_mem_calloc(size_t nmemb, size_t size)</div><div class="ttdoc">Allocate zeroed memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00050">memory.c:50</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="structNewsrcEntry_html"><div class="ttname"><a href="structNewsrcEntry.html">NewsrcEntry</a></div><div class="ttdoc">An entry in a .newsrc (subscribed newsgroups) </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00075">lib.h:75</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="newsrc_8c_html_ad95047455c17e74059e350654359062a"><div class="ttname"><a href="newsrc_8c.html#ad95047455c17e74059e350654359062a">mdata_find</a></div><div class="ttdeci">static struct NntpMboxData * mdata_find(struct NntpAccountData *adata, const char *group)</div><div class="ttdoc">Find NntpMboxData for given newsgroup or add it. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00072">newsrc.c:72</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a74a7958486648b61d6ce1fe34318eed8_cgraph.svg" width="540" height="63"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a74a7958486648b61d6ce1fe34318eed8_icgraph.svg" width="430" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aea2d7fb63b1b73a6815a0ad8cd8ae07e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2d7fb63b1b73a6815a0ad8cd8ae07e">&#9670;&nbsp;</a></span>mutt_newsgroup_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a>* mutt_newsgroup_unsubscribe </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unsubscribe newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01280">1280</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;{</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> || (*<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> == <span class="charliteral">&#39;\0&#39;</span>))</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed =</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span> (!c_save_unsubscribed)</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = 0;</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  }</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aea2d7fb63b1b73a6815a0ad8cd8ae07e_cgraph.svg" width="398" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aea2d7fb63b1b73a6815a0ad8cd8ae07e_icgraph.svg" width="446" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5f67ac08e3719a644d03b62e22127100"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f67ac08e3719a644d03b62e22127100">&#9670;&nbsp;</a></span>mutt_newsgroup_catchup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a>* mutt_newsgroup_catchup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Catchup newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01308">1308</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;{</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> || (*<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> == <span class="charliteral">&#39;\0&#39;</span>))</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;  <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;  <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;  {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;    <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = 1;</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = 1;</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;  }</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;  mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = 0;</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;  <span class="keywordflow">if</span> (m &amp;&amp; (m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> == mdata))</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;  {</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; i++)</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;    {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <span class="keyword">struct </span><a class="code" href="structEmail.html">Email</a> *e = m-&gt;<a class="code" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[i];</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keywordflow">if</span> (!e)</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, e, <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    }</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keywordflow">return</span> mdata;</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="structMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00099">mailbox.h:99</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="protos_8h_html_a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"><div class="ttname"><a href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a></div><div class="ttdeci">#define mutt_set_flag(m, e, flag, bf)</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00066">protos.h:66</a></div></div>
<div class="ttc" id="structEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00037">email.h:37</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="structNewsrcEntry_html"><div class="ttname"><a href="structNewsrcEntry.html">NewsrcEntry</a></div><div class="ttdoc">An entry in a .newsrc (subscribed newsgroups) </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00075">lib.h:75</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="memory_8c_html_af778eb8166966fc0666c64849f6c7c5b"><div class="ttname"><a href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a></div><div class="ttdeci">void mutt_mem_realloc(void *ptr, size_t size)</div><div class="ttdoc">Resize a block of memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00114">memory.c:114</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a></div><div class="ttdoc">Messages that have been read. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00092">mutt.h:92</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a98dfbd45b53b18796fa524f87b8ce32e"><div class="ttname"><a href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">NntpMboxData::unread</a></div><div class="ttdeci">anum_t unread</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a5f67ac08e3719a644d03b62e22127100_cgraph.svg" width="394" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a5f67ac08e3719a644d03b62e22127100_icgraph.svg" width="419" height="163"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a16c66587ba5ca1cde6cc7408dfc3e66e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16c66587ba5ca1cde6cc7408dfc3e66e">&#9670;&nbsp;</a></span>mutt_newsgroup_uncatchup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpMboxData.html">NntpMboxData</a>* mutt_newsgroup_uncatchup </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uncatchup newsgroup. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">group</td><td>Newsgroup </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ptr</td><td>NNTP data </td></tr>
    <tr><td class="paramname">NULL</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01347">1347</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;{</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a> || !group || (*group == <span class="charliteral">&#39;\0&#39;</span>))</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, <a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;  <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  {</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = 1;</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = 1;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> - 1;</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  }</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordflow">if</span> (m &amp;&amp; (m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> == mdata))</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  {</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; i++)</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    {</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      <span class="keyword">struct </span><a class="code" href="structEmail.html">Email</a> *e = m-&gt;<a class="code" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[i];</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">if</span> (!e)</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      <a class="code" href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a>(m, e, <a class="code" href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    }</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  }</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  {</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a>;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;    <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> -= mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[0].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>;</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;  }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;  <span class="keywordflow">return</span> mdata;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="structMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00099">mailbox.h:99</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="protos_8h_html_a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c"><div class="ttname"><a href="protos_8h.html#a6fdc3f2ea4f35b0e8e1fbd6b17d2b27c">mutt_set_flag</a></div><div class="ttdeci">#define mutt_set_flag(m, e, flag, bf)</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00066">protos.h:66</a></div></div>
<div class="ttc" id="structEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00037">email.h:37</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="structNewsrcEntry_html"><div class="ttname"><a href="structNewsrcEntry.html">NewsrcEntry</a></div><div class="ttdoc">An entry in a .newsrc (subscribed newsgroups) </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00075">lib.h:75</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="memory_8c_html_af778eb8166966fc0666c64849f6c7c5b"><div class="ttname"><a href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a></div><div class="ttdeci">void mutt_mem_realloc(void *ptr, size_t size)</div><div class="ttdoc">Resize a block of memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00114">memory.c:114</a></div></div>
<div class="ttc" id="mutt_8h_html_ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd"><div class="ttname"><a href="mutt_8h.html#ac6606ebe91c8ac66a2c314c79f5ab013a6be24502ab2b73e6c0dfdcc682b103bd">MUTT_READ</a></div><div class="ttdoc">Messages that have been read. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00092">mutt.h:92</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a98dfbd45b53b18796fa524f87b8ce32e"><div class="ttname"><a href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">NntpMboxData::unread</a></div><div class="ttdeci">anum_t unread</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a16c66587ba5ca1cde6cc7408dfc3e66e_cgraph.svg" width="410" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a16c66587ba5ca1cde6cc7408dfc3e66e_icgraph.svg" width="435" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1782c5df61421b1951f9672b5d78d952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1782c5df61421b1951f9672b5d78d952">&#9670;&nbsp;</a></span>nntp_active_fetch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_active_fetch </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mark_new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch list of all newsgroups from server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
    <tr><td class="paramname">mark_new</td><td>Mark the groups as new </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l01963">1963</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;{</div><div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata = { 0 };</div><div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;  <span class="keywordtype">char</span> msg[256];</div><div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;  <span class="keywordtype">char</span> buf[1024];</div><div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;  <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div><div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;  snprintf(msg, <span class="keyword">sizeof</span>(msg), <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Loading list of groups from server %s...&quot;</span>),</div><div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;           adata-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>.<a class="code" href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">host</a>);</div><div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;  <a class="code" href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a>(msg);</div><div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a>(adata, &amp;adata-&gt;<a class="code" href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">newgroups_time</a>) &lt; 0)</div><div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;</div><div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;  tmp_mdata.<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div><div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;  tmp_mdata.<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = NULL;</div><div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;  i = adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>;</div><div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;  <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, <span class="stringliteral">&quot;LIST\r\n&quot;</span>, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;  rc = <a class="code" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(&amp;tmp_mdata, buf, <span class="keyword">sizeof</span>(buf), msg, <a class="code" href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a>, adata);</div><div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;  <span class="keywordflow">if</span> (rc)</div><div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;  {</div><div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    <span class="keywordflow">if</span> (rc &gt; 0)</div><div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    {</div><div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;      <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;LIST: %s&quot;</span>, buf);</div><div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    }</div><div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;  }</div><div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;</div><div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;  <span class="keywordflow">if</span> (mark_new)</div><div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;  {</div><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    <span class="keywordflow">for</span> (; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;    {</div><div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;      <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">has_new_mail</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    }</div><div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;  }</div><div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;</div><div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;  <span class="keywordflow">for</span> (i = 0; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;  {</div><div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;</div><div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;    <span class="keywordflow">if</span> (mdata &amp;&amp; mdata-&gt;<a class="code" href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">deleted</a> &amp;&amp; !mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div><div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;    {</div><div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;      <a class="code" href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a>(mdata);</div><div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;      <a class="code" href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, NULL);</div><div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i] = NULL;</div><div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;    }</div><div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;  }</div><div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_nntp_load_description =</div><div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;nntp_load_description&quot;</span>);</div><div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;  <span class="keywordflow">if</span> (c_nntp_load_description)</div><div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;    rc = <a class="code" href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a>(&amp;tmp_mdata, <span class="stringliteral">&quot;*&quot;</span>, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Loading descriptions...&quot;</span>));</div><div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;</div><div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;  <a class="code" href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a>(adata);</div><div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;  <span class="keywordflow">if</span> (rc &lt; 0)</div><div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  <a class="code" href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a>();</div><div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;}</div><div class="ttc" id="structNntpMboxData_html_accb71afa3c82ba9ddd7189e852f4e65a"><div class="ttname"><a href="structNntpMboxData.html#accb71afa3c82ba9ddd7189e852f4e65a">NntpMboxData::has_new_mail</a></div><div class="ttdeci">bool has_new_mail</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00042">mdata.h:42</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="nntp_8c_html_a1e673d1df3f2dfca2ac1bf210cda8daa"><div class="ttname"><a href="nntp_8c.html#a1e673d1df3f2dfca2ac1bf210cda8daa">nntp_date</a></div><div class="ttdeci">static int nntp_date(struct NntpAccountData *adata, time_t *now)</div><div class="ttdoc">Get date and time from server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01645">nntp.c:1645</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="newsrc_8c_html_aa8b8319b59b7ef6de942cd25400e0d79"><div class="ttname"><a href="newsrc_8c.html#aa8b8319b59b7ef6de942cd25400e0d79">nntp_active_save_cache</a></div><div class="ttdeci">int nntp_active_save_cache(struct NntpAccountData *adata)</div><div class="ttdoc">Save list of all newsgroups to cache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00650">newsrc.c:650</a></div></div>
<div class="ttc" id="newsrc_8c_html_a140bf8e49e3f11e0d9cb4d8253767819"><div class="ttname"><a href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a></div><div class="ttdeci">void nntp_delete_group_cache(struct NntpMboxData *mdata)</div><div class="ttdoc">Remove hcache and bcache of newsgroup. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00812">newsrc.c:812</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structConnAccount_html_aa440323ef3111e1faaf33f6a57103a3a"><div class="ttname"><a href="structConnAccount.html#aa440323ef3111e1faaf33f6a57103a3a">ConnAccount::host</a></div><div class="ttdeci">char host[128]</div><div class="ttdoc">Server to login to. </div><div class="ttdef"><b>Definition:</b> <a href="connaccount_8h_source.html#l00053">connaccount.h:53</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a001b86788ccf66b12160431cbbb6e0bf"><div class="ttname"><a href="structNntpAccountData.html#a001b86788ccf66b12160431cbbb6e0bf">NntpAccountData::newgroups_time</a></div><div class="ttdeci">time_t newgroups_time</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00057">adata.h:57</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="mutt__logging_8c_html_af068b3f524a31fad293b2fb61dfc4534"><div class="ttname"><a href="mutt__logging_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a></div><div class="ttdeci">void mutt_clear_error(void)</div><div class="ttdoc">Clear the message line (bottom line of screen) </div><div class="ttdef"><b>Definition:</b> <a href="mutt__logging_8c_source.html#l00112">mutt_logging.c:112</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="newsrc_8c_html_a4a81ebd8f2d0f68109bddeef2c87ea83"><div class="ttname"><a href="newsrc_8c.html#a4a81ebd8f2d0f68109bddeef2c87ea83">nntp_add_group</a></div><div class="ttdeci">int nntp_add_group(char *line, void *data)</div><div class="ttdoc">Parse newsgroup. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00575">newsrc.c:575</a></div></div>
<div class="ttc" id="nntp_8c_html_aad1e29b1bda60fc87fa98dd0ff8b8539"><div class="ttname"><a href="nntp_8c.html#aad1e29b1bda60fc87fa98dd0ff8b8539">get_description</a></div><div class="ttdeci">static int get_description(struct NntpMboxData *mdata, const char *wildmat, const char *msg)</div><div class="ttdoc">Fetch newsgroups descriptions. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00884">nntp.c:884</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="nntp_8c_html_aac2507d416301d774b449353d2e8af52"><div class="ttname"><a href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a></div><div class="ttdeci">static int nntp_fetch_lines(struct NntpMboxData *mdata, char *query, size_t qlen, const char *msg, int(*func)(char *, void *), void *data)</div><div class="ttdoc">Read lines, calling a callback function for each. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00768">nntp.c:768</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a2b27ff6bf080a892ab903b1504e72d5b"><div class="ttname"><a href="structNntpMboxData.html#a2b27ff6bf080a892ab903b1504e72d5b">NntpMboxData::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00044">mdata.h:44</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00749">string.c:749</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="group__logging__api_html_gae108f891125caafa9250cf0959c40c04"><div class="ttname"><a href="group__logging__api.html#gae108f891125caafa9250cf0959c40c04">mutt_message</a></div><div class="ttdeci">#define mutt_message(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00087">logging.h:87</a></div></div>
<div class="ttc" id="hash_8c_html_a114557f625aa5366ab736c607fd381dd"><div class="ttname"><a href="hash_8c.html#a114557f625aa5366ab736c607fd381dd">mutt_hash_delete</a></div><div class="ttdeci">void mutt_hash_delete(struct HashTable *table, const char *strkey, const void *data)</div><div class="ttdoc">Remove an element from a Hash Table. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00419">hash.c:419</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a1782c5df61421b1951f9672b5d78d952_cgraph.svg" width="726" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a1782c5df61421b1951f9672b5d78d952_icgraph.svg" width="368" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a6ae05e2f17614ff64c3429ac40ec5119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ae05e2f17614ff64c3429ac40ec5119">&#9670;&nbsp;</a></span>nntp_newsrc_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_newsrc_update </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update .newsrc file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00439">439</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;{</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  <span class="keywordflow">if</span> (!adata)</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordtype">int</span> rc = -1;</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  <span class="keywordtype">size_t</span> buflen = 10240;</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordtype">char</span> *buf = <a class="code" href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a>(1, buflen);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;  <span class="keywordtype">size_t</span> off = 0;</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="comment">/* we will generate full newsrc here */</span></div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;  {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keywordflow">if</span> (!mdata || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <span class="comment">/* write newsgroup name */</span></div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (off + strlen(mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>) + 3 &gt; buflen)</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    {</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      buflen *= 2;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;buf, buflen);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    snprintf(buf + off, buflen - off, <span class="stringliteral">&quot;%s%c &quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> ? <span class="charliteral">&#39;:&#39;</span> : <span class="charliteral">&#39;!&#39;</span>);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    off += strlen(buf + off);</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="comment">/* write entries */</span></div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a>; j++)</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    {</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">if</span> (off + 1024 &gt; buflen)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        buflen *= 2;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;buf, buflen);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      }</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordflow">if</span> (j)</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        buf[off++] = <span class="charliteral">&#39;,&#39;</span>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> == mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>)</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        snprintf(buf + off, buflen - off, <span class="stringliteral">&quot;%u&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a>);</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> &lt; mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>)</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;      {</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        snprintf(buf + off, buflen - off, <span class="stringliteral">&quot;%u-%u&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a>,</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                 mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>);</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      }</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      off += strlen(buf + off);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    }</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    buf[off++] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  buf[off] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;  <span class="comment">/* newrc being fully rewritten */</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Updating %s\n&quot;</span>, adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a> &amp;&amp; (<a class="code" href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, buf) == 0))</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keyword">struct </span>stat sb;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    rc = stat(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, &amp;sb);</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    <span class="keywordflow">if</span> (rc == 0)</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    {</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      adata-&gt;<a class="code" href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">size</a> = sb.st_size;</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      adata-&gt;<a class="code" href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">mtime</a> = sb.st_mtime;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;      <a class="code" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    }</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;buf);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div><div class="ttc" id="structNntpAccountData_html_ac66124453d57694fec9563cdbe65ce97"><div class="ttname"><a href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">NntpAccountData::newsrc_file</a></div><div class="ttdeci">char * newsrc_file</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00052">adata.h:52</a></div></div>
<div class="ttc" id="memory_8c_html_a4c1612d209c7825d55e6a014df352f03"><div class="ttname"><a href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a></div><div class="ttdeci">void * mutt_mem_calloc(size_t nmemb, size_t size)</div><div class="ttdoc">Allocate zeroed memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00050">memory.c:50</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a8f59266cfb95512dfb9e2f900b7a2b54"><div class="ttname"><a href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">NntpAccountData::mtime</a></div><div class="ttdeci">time_t mtime</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00056">adata.h:56</a></div></div>
<div class="ttc" id="group__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00089">logging.h:89</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="newsrc_8c_html_a400892d96104e348988b980faace6d3f"><div class="ttname"><a href="newsrc_8c.html#a400892d96104e348988b980faace6d3f">update_file</a></div><div class="ttdeci">static int update_file(char *filename, char *buf)</div><div class="ttdoc">Update file with new contents. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00389">newsrc.c:389</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a12f478749b5ab10135a81d90ed0dc797"><div class="ttname"><a href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">NntpAccountData::size</a></div><div class="ttdeci">off_t size</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
<div class="ttc" id="memory_8c_html_af778eb8166966fc0666c64849f6c7c5b"><div class="ttname"><a href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a></div><div class="ttdeci">void mutt_mem_realloc(void *ptr, size_t size)</div><div class="ttdoc">Resize a block of memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00114">memory.c:114</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdoc">Log at debug level 1. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00040">logging.h:40</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
</div><!-- fragment --><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a6ae05e2f17614ff64c3429ac40ec5119_cgraph.svg" width="360" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a6ae05e2f17614ff64c3429ac40ec5119_icgraph.svg" width="386" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a4cec5b84b23b34587cae72db07ad2d04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cec5b84b23b34587cae72db07ad2d04">&#9670;&nbsp;</a></span>nntp_post()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_post </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post article. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">msg</td><td><a class="el" href="structMessage.html" title="A local copy of an email. ">Message</a> to post </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l01879">1879</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;{</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = NULL;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata = { 0 };</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keywordtype">char</span> buf[1024];</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;  <span class="keywordflow">if</span> (m &amp;&amp; (m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a>))</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;    mdata = m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;  {</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_news_server =</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;news_server&quot;</span>);</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <a class="code" href="nntp_8c.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a> = <a class="code" href="nntp_2lib_8h.html#ac4e2953e3c6f9d6d57467cb5e2856d1e">nntp_select_server</a>(m, c_news_server, <span class="keyword">false</span>);</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="nntp_8c.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>)</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;    mdata = &amp;tmp_mdata;</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code" href="nntp_8c.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = NULL;</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;  }</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;  FILE *fp = <a class="code" href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a>(msg, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;  <span class="keywordflow">if</span> (!fp)</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  {</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <a class="code" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(msg);</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;  }</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;  <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, <span class="stringliteral">&quot;POST\r\n&quot;</span>, <span class="keyword">sizeof</span>(buf));</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a>(mdata, buf, <span class="keyword">sizeof</span>(buf)) &lt; 0)</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  {</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp);</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;  }</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;  <span class="keywordflow">if</span> (buf[0] != <span class="charliteral">&#39;3&#39;</span>)</div><div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;  {</div><div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t post article: %s&quot;</span>), buf);</div><div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp);</div><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;  }</div><div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div><div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;  buf[0] = <span class="charliteral">&#39;.&#39;</span>;</div><div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;  buf[1] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;  <span class="keywordflow">while</span> (fgets(buf + 1, <span class="keyword">sizeof</span>(buf) - 2, fp))</div><div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;  {</div><div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;    <span class="keywordtype">size_t</span> len = strlen(buf);</div><div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <span class="keywordflow">if</span> (buf[len - 1] == <span class="charliteral">&#39;\n&#39;</span>)</div><div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    {</div><div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;      buf[len - 1] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;      buf[len] = <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;      len++;</div><div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;      buf[len] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;    }</div><div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mutt__socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>, (buf[1] == <span class="charliteral">&#39;.&#39;</span>) ? buf : buf + 1,</div><div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;                           <a class="code" href="mutt__socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a>) &lt; 0)</div><div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    {</div><div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp);</div><div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div><div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;    }</div><div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;  }</div><div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;  <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp);</div><div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;</div><div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;  <span class="keywordflow">if</span> (((buf[strlen(buf) - 1] != <span class="charliteral">&#39;\n&#39;</span>) &amp;&amp;</div><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;       (<a class="code" href="mutt__socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>, <span class="stringliteral">&quot;\r\n&quot;</span>, <a class="code" href="mutt__socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a>) &lt; 0)) ||</div><div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;      (<a class="code" href="mutt__socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>, <span class="stringliteral">&quot;.\r\n&quot;</span>, <a class="code" href="mutt__socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a>) &lt; 0) ||</div><div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;      (<a class="code" href="mutt__socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a>(buf, <span class="keyword">sizeof</span>(buf), mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>) &lt; 0))</div><div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  {</div><div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>);</div><div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  }</div><div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="keywordflow">if</span> (buf[0] != <span class="charliteral">&#39;2&#39;</span>)</div><div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  {</div><div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t post article: %s&quot;</span>), buf);</div><div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  }</div><div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;}</div><div class="ttc" id="structMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00105">mailbox.h:105</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a></div><div class="ttdoc">&amp;#39;NNTP&amp;#39; (Usenet) Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00052">mailbox.h:52</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="nntp_8c_html_a8247b21cffda7c4fa36e797820253e33"><div class="ttname"><a href="nntp_8c.html#a8247b21cffda7c4fa36e797820253e33">nntp_connect_error</a></div><div class="ttdeci">static int nntp_connect_error(struct NntpAccountData *adata)</div><div class="ttdoc">Signal a failed connection. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00127">nntp.c:127</a></div></div>
<div class="ttc" id="mutt__socket_8h_html_a20fef332e75f8a0589dfdfac3f034037"><div class="ttname"><a href="mutt__socket_8h.html#a20fef332e75f8a0589dfdfac3f034037">MUTT_SOCK_LOG_FULL</a></div><div class="ttdeci">#define MUTT_SOCK_LOG_FULL</div><div class="ttdef"><b>Definition:</b> <a href="mutt__socket_8h_source.html#l00031">mutt_socket.h:31</a></div></div>
<div class="ttc" id="group__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00089">logging.h:89</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="file_8c_html_a31f49795ff5b9558db5476e5777e63b6"><div class="ttname"><a href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a></div><div class="ttdeci">int mutt_file_fclose(FILE **fp)</div><div class="ttdoc">Close a FILE handle (and NULL the pointer) </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00153">file.c:153</a></div></div>
<div class="ttc" id="mutt__socket_8h_html_ad29feeb7a4cffde2dfe23fd6e6cfa9c1"><div class="ttname"><a href="mutt__socket_8h.html#ad29feeb7a4cffde2dfe23fd6e6cfa9c1">mutt_socket_send_d</a></div><div class="ttdeci">#define mutt_socket_send_d(conn, buf, dbg)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__socket_8h_source.html#l00038">mutt_socket.h:38</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_ac4e2953e3c6f9d6d57467cb5e2856d1e"><div class="ttname"><a href="nntp_2lib_8h.html#ac4e2953e3c6f9d6d57467cb5e2856d1e">nntp_select_server</a></div><div class="ttdeci">struct NntpAccountData * nntp_select_server(struct Mailbox *m, const char *server, bool leave_lock)</div><div class="ttdoc">Open a connection to an NNTP server. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l01017">newsrc.c:1017</a></div></div>
<div class="ttc" id="helpers_8c_html_ac477c591155aa4ae0452bbabc0affffe"><div class="ttname"><a href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00317">helpers.c:317</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="mutt__socket_8h_html_a5ad40b2573cd216798e0412de26c0818"><div class="ttname"><a href="mutt__socket_8h.html#a5ad40b2573cd216798e0412de26c0818">mutt_socket_readln</a></div><div class="ttdeci">#define mutt_socket_readln(buf, buflen, conn)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__socket_8h_source.html#l00036">mutt_socket.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="nntp_8c_html_a91a111632ed65df68e26ff839265c801"><div class="ttname"><a href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a></div><div class="ttdeci">static int nntp_query(struct NntpMboxData *mdata, char *line, size_t linelen)</div><div class="ttdoc">Send data from buffer and receive answer to same buffer. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00691">nntp.c:691</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00749">string.c:749</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="file_8c_html_ae1c0c19fec03274220b3ca065ad1e2e5"><div class="ttname"><a href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a></div><div class="ttdeci">FILE * mutt_file_fopen(const char *path, const char *mode)</div><div class="ttdoc">Call fopen() safely. </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00589">file.c:589</a></div></div>
<div class="ttc" id="nntp_8c_html_ae58e3a5dcd99b6bbd0354b133fc220ce"><div class="ttname"><a href="nntp_8c.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></div><div class="ttdeci">struct NntpAccountData * CurrentNewsSrv</div><div class="ttdoc">Current NNTP news server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00078">nntp.c:78</a></div></div>
</div><!-- fragment --><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a4cec5b84b23b34587cae72db07ad2d04_cgraph.svg" width="486" height="342"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a4cec5b84b23b34587cae72db07ad2d04_icgraph.svg" width="316" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0e31da3560e7296a47d444775b42b8f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e31da3560e7296a47d444775b42b8f3">&#9670;&nbsp;</a></span>nntp_check_msgid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_check_msgid </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msgid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch article by Message-ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">msgid</td><td><a class="el" href="structMessage.html" title="A local copy of an email. ">Message</a> ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">1</td><td>No such article </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02141">2141</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;{</div><div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;  <span class="keywordflow">if</span> (!m)</div><div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div><div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;  <span class="keywordtype">char</span> buf[1024];</div><div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;</div><div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;  FILE *fp = <a class="code" href="file_8h.html#a4ad1bdd71a5077a9e7dfc4890e1089f6">mutt_file_mkstemp</a>();</div><div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;  <span class="keywordflow">if</span> (!fp)</div><div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;  {</div><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;    <a class="code" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Can&#39;t create temporary file&quot;</span>));</div><div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;  }</div><div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;</div><div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;HEAD %s\r\n&quot;</span>, msgid);</div><div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;  <span class="keywordtype">int</span> rc = <a class="code" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(mdata, buf, <span class="keyword">sizeof</span>(buf), NULL, <a class="code" href="nntp_8c.html#aaf413f6c5603eab3efd124f2c56df842">fetch_tempfile</a>, fp);</div><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;  <span class="keywordflow">if</span> (rc)</div><div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;  {</div><div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp);</div><div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;    <span class="keywordflow">if</span> (rc &lt; 0)</div><div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;430&quot;</span>))</div><div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;      <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;    <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;HEAD: %s&quot;</span>, buf);</div><div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;  }</div><div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;</div><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;  <span class="comment">/* parse header */</span></div><div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> == m-&gt;<a class="code" href="structMailbox.html#a4b558e0bd6fab22212bd703350372555">email_max</a>)</div><div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;    <a class="code" href="mx_8c.html#acd0bf144d7c5ae05d86d8fb5e0058780">mx_alloc_memory</a>(m);</div><div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>] = <a class="code" href="email_2email_8c.html#a77c9ecff4b23001b81177ffe398bad44">email_new</a>();</div><div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;  <span class="keyword">struct </span><a class="code" href="structEmail.html">Email</a> *e = m-&gt;<a class="code" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>];</div><div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;  e-&gt;<a class="code" href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">edata</a> = <a class="code" href="nntp_2edata_8c.html#a5377538a3451b3bd5a3198477edba2e6">nntp_edata_new</a>();</div><div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;  e-&gt;<a class="code" href="structEmail.html#a781551eba730fd251226081727ae74bb">edata_free</a> = <a class="code" href="nntp_2edata_8c.html#abde0fac585d1a21a6a7677d489e6b41d">nntp_edata_free</a>;</div><div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;  e-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a> = <a class="code" href="parse_8c.html#a32cd9ed48d31f100bd8525018e1450da">mutt_rfc822_read_header</a>(fp, e, <span class="keyword">false</span>, <span class="keyword">false</span>);</div><div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;  <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;fp);</div><div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;</div><div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;  <span class="comment">/* get article number */</span></div><div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;  <span class="keywordflow">if</span> (e-&gt;<a class="code" href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">env</a>-&gt;<a class="code" href="structEnvelope.html#aafcabc33a66b5edfa91bbdc922515c2e">xref</a>)</div><div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;    <a class="code" href="nntp_8c.html#aba0b869ad5244bb92012df19edef7bd5">nntp_parse_xref</a>(m, e);</div><div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;  {</div><div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;    snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;STAT %s\r\n&quot;</span>, msgid);</div><div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a>(mdata, buf, <span class="keyword">sizeof</span>(buf)) &lt; 0)</div><div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    {</div><div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;      <a class="code" href="email_2email_8c.html#ae9f719d3fc31d00b92bcf9f77d56ee67">email_free</a>(&amp;e);</div><div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;    }</div><div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    sscanf(buf + 4, <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a>, &amp;<a class="code" href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a>(e)-&gt;article_num);</div><div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;  }</div><div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;</div><div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;  <span class="comment">/* reset flags */</span></div><div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;  e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;  e-&gt;<a class="code" href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">old</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;  e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;  e-&gt;<a class="code" href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">changed</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;  e-&gt;<a class="code" href="structEmail.html#af64bcf33ccd8b0ba248fc8d427c21264">received</a> = e-&gt;<a class="code" href="structEmail.html#a9e3cda5dab6d53f68cad95d28068d962">date_sent</a>;</div><div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;  e-&gt;<a class="code" href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">index</a> = m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>++;</div><div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;  <a class="code" href="mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code" href="mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a">NT_MAILBOX_INVALID</a>);</div><div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;  <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;}</div><div class="ttc" id="structMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00099">mailbox.h:99</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="structEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00037">email.h:37</a></div></div>
<div class="ttc" id="email_2email_8c_html_ae9f719d3fc31d00b92bcf9f77d56ee67"><div class="ttname"><a href="email_2email_8c.html#ae9f719d3fc31d00b92bcf9f77d56ee67">email_free</a></div><div class="ttdeci">void email_free(struct Email **ptr)</div><div class="ttdoc">Free an Email. </div><div class="ttdef"><b>Definition:</b> <a href="email_2email_8c_source.html#l00044">email.c:44</a></div></div>
<div class="ttc" id="nntp_8c_html_aba0b869ad5244bb92012df19edef7bd5"><div class="ttname"><a href="nntp_8c.html#aba0b869ad5244bb92012df19edef7bd5">nntp_parse_xref</a></div><div class="ttdeci">static void nntp_parse_xref(struct Mailbox *m, struct Email *e)</div><div class="ttdoc">Parse cross-reference. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00916">nntp.c:916</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="structEnvelope_html_aafcabc33a66b5edfa91bbdc922515c2e"><div class="ttname"><a href="structEnvelope.html#aafcabc33a66b5edfa91bbdc922515c2e">Envelope::xref</a></div><div class="ttdeci">char * xref</div><div class="ttdoc">List of cross-references. </div><div class="ttdef"><b>Definition:</b> <a href="envelope_8h_source.html#l00076">envelope.h:76</a></div></div>
<div class="ttc" id="nntp_8c_html_aaf413f6c5603eab3efd124f2c56df842"><div class="ttname"><a href="nntp_8c.html#aaf413f6c5603eab3efd124f2c56df842">fetch_tempfile</a></div><div class="ttdeci">static int fetch_tempfile(char *line, void *data)</div><div class="ttdoc">Write line to temporary file. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00957">nntp.c:957</a></div></div>
<div class="ttc" id="mx_8c_html_acd0bf144d7c5ae05d86d8fb5e0058780"><div class="ttname"><a href="mx_8c.html#acd0bf144d7c5ae05d86d8fb5e0058780">mx_alloc_memory</a></div><div class="ttdeci">void mx_alloc_memory(struct Mailbox *m)</div><div class="ttdoc">Create storage for the emails. </div><div class="ttdef"><b>Definition:</b> <a href="mx_8c_source.html#l01212">mx.c:1212</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="structEmail_html_a8b1e186b9d388e199ba9c6239c612627"><div class="ttname"><a href="structEmail.html#a8b1e186b9d388e199ba9c6239c612627">Email::changed</a></div><div class="ttdeci">bool changed</div><div class="ttdoc">Email has been edited. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00048">email.h:48</a></div></div>
<div class="ttc" id="mailbox_8h_html_a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a"><div class="ttname"><a href="mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a">NT_MAILBOX_INVALID</a></div><div class="ttdoc">Email list was changed. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00180">mailbox.h:180</a></div></div>
<div class="ttc" id="group__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00089">logging.h:89</a></div></div>
<div class="ttc" id="email_2email_8c_html_a77c9ecff4b23001b81177ffe398bad44"><div class="ttname"><a href="email_2email_8c.html#a77c9ecff4b23001b81177ffe398bad44">email_new</a></div><div class="ttdeci">struct Email * email_new(void)</div><div class="ttdoc">Create a new Email. </div><div class="ttdef"><b>Definition:</b> <a href="email_2email_8c_source.html#l00078">email.c:78</a></div></div>
<div class="ttc" id="structEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00051">email.h:51</a></div></div>
<div class="ttc" id="structEmail_html_a6d9062408a8c89b19cf25584dd2ffb57"><div class="ttname"><a href="structEmail.html#a6d9062408a8c89b19cf25584dd2ffb57">Email::old</a></div><div class="ttdeci">bool old</div><div class="ttdoc">Email is seen, but unread. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00050">email.h:50</a></div></div>
<div class="ttc" id="file_8c_html_a31f49795ff5b9558db5476e5777e63b6"><div class="ttname"><a href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a></div><div class="ttdeci">int mutt_file_fclose(FILE **fp)</div><div class="ttdoc">Close a FILE handle (and NULL the pointer) </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00153">file.c:153</a></div></div>
<div class="ttc" id="structEmail_html_a34cc4493729d7a3b1f4ed783e739a9ec"><div class="ttname"><a href="structEmail.html#a34cc4493729d7a3b1f4ed783e739a9ec">Email::env</a></div><div class="ttdeci">struct Envelope * env</div><div class="ttdoc">Envelope information. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00090">email.h:90</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structEmail_html_a9e3cda5dab6d53f68cad95d28068d962"><div class="ttname"><a href="structEmail.html#a9e3cda5dab6d53f68cad95d28068d962">Email::date_sent</a></div><div class="ttdeci">time_t date_sent</div><div class="ttdoc">Time when the message was sent (UTC) </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00082">email.h:82</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_af213c68397b28d9da9d2aa988ebbfbde"><div class="ttname"><a href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a></div><div class="ttdeci">#define ANUM</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="nntp_2edata_8c_html_abde0fac585d1a21a6a7677d489e6b41d"><div class="ttname"><a href="nntp_2edata_8c.html#abde0fac585d1a21a6a7677d489e6b41d">nntp_edata_free</a></div><div class="ttdeci">void nntp_edata_free(void **ptr)</div><div class="ttdoc">Free the private Email data - Implements Email::edata_free() </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2edata_8c_source.html#l00038">edata.c:38</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00160">string.c:160</a></div></div>
<div class="ttc" id="structMailbox_html_a4b558e0bd6fab22212bd703350372555"><div class="ttname"><a href="structMailbox.html#a4b558e0bd6fab22212bd703350372555">Mailbox::email_max</a></div><div class="ttdeci">int email_max</div><div class="ttdoc">Number of pointers in emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00100">mailbox.h:100</a></div></div>
<div class="ttc" id="structEmail_html_a781551eba730fd251226081727ae74bb"><div class="ttname"><a href="structEmail.html#a781551eba730fd251226081727ae74bb">Email::edata_free</a></div><div class="ttdeci">void(* edata_free)(void **ptr)</div><div class="ttdoc">Free the private data attached to the Email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00121">email.h:121</a></div></div>
<div class="ttc" id="nntp_2edata_8c_html_a5377538a3451b3bd5a3198477edba2e6"><div class="ttname"><a href="nntp_2edata_8c.html#a5377538a3451b3bd5a3198477edba2e6">nntp_edata_new</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_new(void)</div><div class="ttdoc">Create a new NntpEmailData for an Email. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2edata_8c_source.html#l00048">edata.c:48</a></div></div>
<div class="ttc" id="file_8h_html_a4ad1bdd71a5077a9e7dfc4890e1089f6"><div class="ttname"><a href="file_8h.html#a4ad1bdd71a5077a9e7dfc4890e1089f6">mutt_file_mkstemp</a></div><div class="ttdeci">#define mutt_file_mkstemp()</div><div class="ttdef"><b>Definition:</b> <a href="file_8h_source.html#l00108">file.h:108</a></div></div>
<div class="ttc" id="nntp_2edata_8c_html_af8254ee05551fd9c812a24ee01d72eae"><div class="ttname"><a href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2edata_8c_source.html#l00058">edata.c:58</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="nntp_8c_html_aac2507d416301d774b449353d2e8af52"><div class="ttname"><a href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a></div><div class="ttdeci">static int nntp_fetch_lines(struct NntpMboxData *mdata, char *query, size_t qlen, const char *msg, int(*func)(char *, void *), void *data)</div><div class="ttdoc">Read lines, calling a callback function for each. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00768">nntp.c:768</a></div></div>
<div class="ttc" id="nntp_8c_html_a91a111632ed65df68e26ff839265c801"><div class="ttname"><a href="nntp_8c.html#a91a111632ed65df68e26ff839265c801">nntp_query</a></div><div class="ttdeci">static int nntp_query(struct NntpMboxData *mdata, char *line, size_t linelen)</div><div class="ttdoc">Send data from buffer and receive answer to same buffer. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00691">nntp.c:691</a></div></div>
<div class="ttc" id="structEmail_html_ac5db33e3d6d9723d8e496078d5769567"><div class="ttname"><a href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">Email::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdoc">Email is deleted. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00045">email.h:45</a></div></div>
<div class="ttc" id="structEmail_html_a50d8a8dde5fbf0b6dba934ff7e07fb6b"><div class="ttname"><a href="structEmail.html#a50d8a8dde5fbf0b6dba934ff7e07fb6b">Email::edata</a></div><div class="ttdeci">void * edata</div><div class="ttdoc">Driver-specific data. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00111">email.h:111</a></div></div>
<div class="ttc" id="structEmail_html_ace0e20a11dbdc84ca9ea63497c05b603"><div class="ttname"><a href="structEmail.html#ace0e20a11dbdc84ca9ea63497c05b603">Email::index</a></div><div class="ttdeci">int index</div><div class="ttdoc">The absolute (unsorted) message number. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00086">email.h:86</a></div></div>
<div class="ttc" id="parse_8c_html_a32cd9ed48d31f100bd8525018e1450da"><div class="ttname"><a href="parse_8c.html#a32cd9ed48d31f100bd8525018e1450da">mutt_rfc822_read_header</a></div><div class="ttdeci">struct Envelope * mutt_rfc822_read_header(FILE *fp, struct Email *e, bool user_hdrs, bool weed)</div><div class="ttdoc">parses an RFC822 header </div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l01124">parse.c:1124</a></div></div>
<div class="ttc" id="mailbox_8c_html_af09ac36728ca3255523cd3b0bfd1f172"><div class="ttname"><a href="mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a></div><div class="ttdeci">void mailbox_changed(struct Mailbox *m, enum NotifyMailbox action)</div><div class="ttdoc">Notify observers of a change to a Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8c_source.html#l00208">mailbox.c:208</a></div></div>
<div class="ttc" id="structEmail_html_af64bcf33ccd8b0ba248fc8d427c21264"><div class="ttname"><a href="structEmail.html#af64bcf33ccd8b0ba248fc8d427c21264">Email::received</a></div><div class="ttdeci">time_t received</div><div class="ttdoc">Time when the message was placed in the mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00083">email.h:83</a></div></div>
</div><!-- fragment --><div id="dynsection-18" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e31da3560e7296a47d444775b42b8f3_cgraph.svg" width="588" height="696"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-19" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e31da3560e7296a47d444775b42b8f3_icgraph.svg" width="334" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a17459a2b096832129b7878bfea7300c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17459a2b096832129b7878bfea7300c9">&#9670;&nbsp;</a></span>nntp_check_children()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_check_children </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msgid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch children of article with the Message-ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">msgid</td><td><a class="el" href="structMessage.html" title="A local copy of an email. ">Message</a> ID to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02211">2211</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;{</div><div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;  <span class="keywordflow">if</span> (!m)</div><div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;</div><div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>;</div><div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;  <span class="keyword">struct </span><a class="code" href="structChildCtx.html">ChildCtx</a> cc;</div><div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;  <span class="keywordtype">char</span> buf[256];</div><div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;  <span class="keywordtype">int</span> rc;</div><div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;  <span class="keywordtype">void</span> *hc = NULL;</div><div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;</div><div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;  <span class="keywordflow">if</span> (!mdata || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>)</div><div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;  <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a> &gt; mdata-&gt;<a class="code" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a>)</div><div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;</div><div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;  <span class="comment">/* init context */</span></div><div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;  cc.<a class="code" href="structChildCtx.html#a1e470e3dd833b2c285478ec5e632a5de">mailbox</a> = m;</div><div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;  cc.num = 0;</div><div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;  cc.max = 10;</div><div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;  cc.child = <a class="code" href="memory_8c.html#a264da4dc58e6dc8983285bd1f538f24d">mutt_mem_malloc</a>(<span class="keyword">sizeof</span>(<a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a>) * cc.max);</div><div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;</div><div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;  <span class="comment">/* fetch numbers of child messages */</span></div><div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;  snprintf(buf, <span class="keyword">sizeof</span>(buf), <span class="stringliteral">&quot;XPAT References %u-%u *%s*\r\n&quot;</span>,</div><div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;           mdata-&gt;<a class="code" href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">first_message</a>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">last_loaded</a>, msgid);</div><div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;  rc = <a class="code" href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a>(mdata, buf, <span class="keyword">sizeof</span>(buf), NULL, <a class="code" href="nntp_8c.html#a1b2bc10241891f96f165f08e03ef18b4">fetch_children</a>, &amp;cc);</div><div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;  <span class="keywordflow">if</span> (rc)</div><div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;  {</div><div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;cc.child);</div><div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    <span class="keywordflow">if</span> (rc &gt; 0)</div><div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    {</div><div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a>(buf, <span class="stringliteral">&quot;500&quot;</span>))</div><div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<span class="stringliteral">&quot;XPAT: %s&quot;</span>, buf);</div><div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;      {</div><div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <a class="code" href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Unable to find child articles because server does not &quot;</span></div><div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;                     <span class="stringliteral">&quot;support XPAT command&quot;</span>));</div><div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;      }</div><div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;    }</div><div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;  }</div><div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;</div><div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;  <span class="comment">/* fetch all found messages */</span></div><div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;  <span class="keywordtype">bool</span> verbose = m-&gt;<a class="code" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a>;</div><div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;  hc = <a class="code" href="newsrc_8c.html#ad8d95064a7efb66e51bfde2c8b12aff7">nntp_hcache_open</a>(mdata);</div><div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;  <span class="keywordtype">int</span> old_msg_count = m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>;</div><div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; cc.num; i++)</div><div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;  {</div><div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;    rc = <a class="code" href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a>(m, hc, cc.child[i], cc.child[i], <span class="keyword">true</span>);</div><div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordflow">if</span> (rc &lt; 0)</div><div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;  }</div><div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;  <span class="keywordflow">if</span> (m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a> &gt; old_msg_count)</div><div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;    <a class="code" href="mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a>(m, <a class="code" href="mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a">NT_MAILBOX_INVALID</a>);</div><div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;</div><div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;  <a class="code" href="hcache_8c.html#a26bcb4546ca8d63327187a6bbeab796c">mutt_hcache_close</a>(hc);</div><div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;  m-&gt;<a class="code" href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">verbose</a> = verbose;</div><div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;  <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;cc.child);</div><div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;  <span class="keywordflow">return</span> (rc &lt; 0) ? -1 : 0;</div><div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;}</div><div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="group__logging__api_html_gacc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="group__logging__api.html#gacc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00088">logging.h:88</a></div></div>
<div class="ttc" id="nntp_8c_html_aee3d5be3d80d56eaa5f16865db0e22c6"><div class="ttname"><a href="nntp_8c.html#aee3d5be3d80d56eaa5f16865db0e22c6">nntp_fetch_headers</a></div><div class="ttdeci">static int nntp_fetch_headers(struct Mailbox *m, void *hc, anum_t first, anum_t last, bool restore)</div><div class="ttdoc">Fetch headers. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01154">nntp.c:1154</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="structChildCtx_html"><div class="ttname"><a href="structChildCtx.html">ChildCtx</a></div><div class="ttdoc">Keep track of the children of an article. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00106">nntp.c:106</a></div></div>
<div class="ttc" id="mailbox_8h_html_a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a"><div class="ttname"><a href="mailbox_8h.html#a01795608bad9d16eed1bc017f0bd96c4aa2cbdb348633a2bc5926ba0efddf2e3a">NT_MAILBOX_INVALID</a></div><div class="ttdoc">Email list was changed. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00180">mailbox.h:180</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9cecad8ca33cea69ef91939fc3088e72"><div class="ttname"><a href="structNntpMboxData.html#a9cecad8ca33cea69ef91939fc3088e72">NntpMboxData::last_loaded</a></div><div class="ttdeci">anum_t last_loaded</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00038">mdata.h:38</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a9bf968304f4f9b49e24215cb2e28d22d"><div class="ttname"><a href="mutt_2string_8c.html#a9bf968304f4f9b49e24215cb2e28d22d">mutt_str_startswith</a></div><div class="ttdeci">size_t mutt_str_startswith(const char *str, const char *prefix)</div><div class="ttdoc">Check whether a string starts with a prefix. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00160">string.c:160</a></div></div>
<div class="ttc" id="memory_8c_html_a264da4dc58e6dc8983285bd1f538f24d"><div class="ttname"><a href="memory_8c.html#a264da4dc58e6dc8983285bd1f538f24d">mutt_mem_malloc</a></div><div class="ttdeci">void * mutt_mem_malloc(size_t size)</div><div class="ttdoc">Allocate memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00090">memory.c:90</a></div></div>
<div class="ttc" id="newsrc_8c_html_ad8d95064a7efb66e51bfde2c8b12aff7"><div class="ttname"><a href="newsrc_8c.html#ad8d95064a7efb66e51bfde2c8b12aff7">nntp_hcache_open</a></div><div class="ttdeci">struct HeaderCache * nntp_hcache_open(struct NntpMboxData *mdata)</div><div class="ttdoc">Open newsgroup hcache. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00709">newsrc.c:709</a></div></div>
<div class="ttc" id="structMailbox_html_af1ff47b8f14a4503c9b8473582b13d5a"><div class="ttname"><a href="structMailbox.html#af1ff47b8f14a4503c9b8473582b13d5a">Mailbox::verbose</a></div><div class="ttdeci">bool verbose</div><div class="ttdoc">Display status messages? </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00118">mailbox.h:118</a></div></div>
<div class="ttc" id="structChildCtx_html_a1e470e3dd833b2c285478ec5e632a5de"><div class="ttname"><a href="structChildCtx.html#a1e470e3dd833b2c285478ec5e632a5de">ChildCtx::mailbox</a></div><div class="ttdeci">struct Mailbox * mailbox</div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00108">nntp.c:108</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="nntp_8c_html_aac2507d416301d774b449353d2e8af52"><div class="ttname"><a href="nntp_8c.html#aac2507d416301d774b449353d2e8af52">nntp_fetch_lines</a></div><div class="ttdeci">static int nntp_fetch_lines(struct NntpMboxData *mdata, char *query, size_t qlen, const char *msg, int(*func)(char *, void *), void *data)</div><div class="ttdoc">Read lines, calling a callback function for each. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00768">nntp.c:768</a></div></div>
<div class="ttc" id="nntp_8c_html_a1b2bc10241891f96f165f08e03ef18b4"><div class="ttname"><a href="nntp_8c.html#a1b2bc10241891f96f165f08e03ef18b4">fetch_children</a></div><div class="ttdeci">static int fetch_children(char *line, void *data)</div><div class="ttdoc">Parse XPAT line. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l01682">nntp.c:1682</a></div></div>
<div class="ttc" id="hcache_8c_html_a26bcb4546ca8d63327187a6bbeab796c"><div class="ttname"><a href="hcache_8c.html#a26bcb4546ca8d63327187a6bbeab796c">mutt_hcache_close</a></div><div class="ttdeci">void mutt_hcache_close(struct HeaderCache *hc)</div><div class="ttdoc">Multiplexor for StoreOps::close. </div><div class="ttdef"><b>Definition:</b> <a href="hcache_8c_source.html#l00435">hcache.c:435</a></div></div>
<div class="ttc" id="structNntpMboxData_html_adc97f802d08bafa065d06fc76b84dd93"><div class="ttname"><a href="structNntpMboxData.html#adc97f802d08bafa065d06fc76b84dd93">NntpMboxData::first_message</a></div><div class="ttdeci">anum_t first_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00036">mdata.h:36</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
<div class="ttc" id="mailbox_8c_html_af09ac36728ca3255523cd3b0bfd1f172"><div class="ttname"><a href="mailbox_8c.html#af09ac36728ca3255523cd3b0bfd1f172">mailbox_changed</a></div><div class="ttdeci">void mailbox_changed(struct Mailbox *m, enum NotifyMailbox action)</div><div class="ttdoc">Notify observers of a change to a Mailbox. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8c_source.html#l00208">mailbox.c:208</a></div></div>
</div><!-- fragment --><div id="dynsection-20" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a17459a2b096832129b7878bfea7300c9_cgraph.svg" width="755" height="372"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-21" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a17459a2b096832129b7878bfea7300c9_icgraph.svg" width="339" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a57bd184c51b8701e9613761a629ca485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57bd184c51b8701e9613761a629ca485">&#9670;&nbsp;</a></span>nntp_newsrc_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_newsrc_parse </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse .newsrc file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Not changed </td></tr>
    <tr><td class="paramname">1</td><td>Parsed </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00162">162</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;{</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">char</span> *line = NULL;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keyword">struct </span>stat sb;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="keywordflow">if</span> (adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>)</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  {</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">/* if we already have a handle, close it and reopen */</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="comment">/* if file doesn&#39;t exist, create it */</span></div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a> = <a class="code" href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, <span class="stringliteral">&quot;a&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">/* open .newsrc */</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a> = <a class="code" href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, <span class="stringliteral">&quot;r&quot;</span>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">if</span> (!adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>)</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <a class="code" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">/* lock it */</span></div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Locking %s\n&quot;</span>, adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="file_8c.html#a4cdd1f9b1b370cbf5a8348f63cfe67cf">mutt_file_lock</a>(fileno(adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>), <span class="keyword">false</span>, <span class="keyword">true</span>))</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">if</span> (stat(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>, &amp;sb) != 0)</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a>(adata);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="keywordflow">if</span> ((adata-&gt;<a class="code" href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">size</a> == sb.st_size) &amp;&amp; (adata-&gt;<a class="code" href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">mtime</a> == sb.st_mtime))</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">size</a> = sb.st_size;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">mtime</a> = sb.st_mtime;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  adata-&gt;<a class="code" href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">newsrc_modified</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Parsing %s\n&quot;</span>, adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">/* .newsrc has been externally modified or hasn&#39;t been loaded yet */</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  {</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = 0;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  line = <a class="code" href="memory_8c.html#a264da4dc58e6dc8983285bd1f538f24d">mutt_mem_malloc</a>(sb.st_size + 1);</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">while</span> (sb.st_size &amp;&amp; fgets(line, sb.st_size + 1, adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>))</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  {</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordtype">char</span> *b = NULL, *h = NULL;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 1;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordtype">bool</span> subs = <span class="keyword">false</span>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">/* find end of newsgroup name */</span></div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">char</span> *p = strpbrk(line, <span class="stringliteral">&quot;:!&quot;</span>);</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span> (!p)</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">/* &quot;:&quot; - subscribed, &quot;!&quot; - unsubscribed */</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">if</span> (*p == <span class="charliteral">&#39;:&#39;</span>)</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      subs = <span class="keyword">true</span>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    *p++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">/* get newsgroup data */</span></div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *mdata = <a class="code" href="newsrc_8c.html#ad95047455c17e74059e350654359062a">mdata_find</a>(adata, line);</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="comment">/* count number of entries */</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    b = p;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">while</span> (*b)</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <span class="keywordflow">if</span> (*b++ == <span class="charliteral">&#39;,&#39;</span>)</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        j++;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> = <a class="code" href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a>(j, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> = subs;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">/* parse entries */</span></div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    j = 0;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">while</span> (p)</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    {</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      b = p;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="comment">/* find end of entry */</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      p = strchr(p, <span class="charliteral">&#39;,&#39;</span>);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="keywordflow">if</span> (p)</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        *p++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <span class="comment">/* first-last or single number */</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      h = strchr(b, <span class="charliteral">&#39;-&#39;</span>);</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <span class="keywordflow">if</span> (h)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        *h++ = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        h = b;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="keywordflow">if</span> ((sscanf(b, <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a>, &amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a>) == 1) &amp;&amp;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;          (sscanf(h, <a class="code" href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a>, &amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>) == 1))</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        j++;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">if</span> (j == 0)</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">first</a> = 1;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a> = 0;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      j++;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> == 0)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      mdata-&gt;<a class="code" href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">last_message</a> = mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>[j - 1].<a class="code" href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">last</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    mdata-&gt;<a class="code" href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">newsrc_len</a> = j;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <a class="code" href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a>(&amp;mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a>, j * <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structNewsrcEntry.html">NewsrcEntry</a>));</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a>(mdata);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;line);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;}</div><div class="ttc" id="structNntpAccountData_html_ac66124453d57694fec9563cdbe65ce97"><div class="ttname"><a href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">NntpAccountData::newsrc_file</a></div><div class="ttdeci">char * newsrc_file</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00052">adata.h:52</a></div></div>
<div class="ttc" id="memory_8c_html_a4c1612d209c7825d55e6a014df352f03"><div class="ttname"><a href="memory_8c.html#a4c1612d209c7825d55e6a014df352f03">mutt_mem_calloc</a></div><div class="ttdeci">void * mutt_mem_calloc(size_t nmemb, size_t size)</div><div class="ttdoc">Allocate zeroed memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00050">memory.c:50</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a07329147457f52f9d362d7dc69bb0d68"><div class="ttname"><a href="structNntpAccountData.html#a07329147457f52f9d362d7dc69bb0d68">NntpAccountData::newsrc_modified</a></div><div class="ttdeci">bool newsrc_modified</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00050">adata.h:50</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a8f59266cfb95512dfb9e2f900b7a2b54"><div class="ttname"><a href="structNntpAccountData.html#a8f59266cfb95512dfb9e2f900b7a2b54">NntpAccountData::mtime</a></div><div class="ttdeci">time_t mtime</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00056">adata.h:56</a></div></div>
<div class="ttc" id="group__logging__api_html_gafaa521ab22db877ccf1b87e679e1b43e"><div class="ttname"><a href="group__logging__api.html#gafaa521ab22db877ccf1b87e679e1b43e">mutt_perror</a></div><div class="ttdeci">#define mutt_perror(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00089">logging.h:89</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a35e1d881699320677a0032b9fc207565"><div class="ttname"><a href="structNewsrcEntry.html#a35e1d881699320677a0032b9fc207565">NewsrcEntry::last</a></div><div class="ttdeci">anum_t last</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="file_8c_html_a4cdd1f9b1b370cbf5a8348f63cfe67cf"><div class="ttname"><a href="file_8c.html#a4cdd1f9b1b370cbf5a8348f63cfe67cf">mutt_file_lock</a></div><div class="ttdeci">int mutt_file_lock(int fd, bool excl, bool timeout)</div><div class="ttdoc">(try to) lock a file using fcntl() </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l01178">file.c:1178</a></div></div>
<div class="ttc" id="structNewsrcEntry_html"><div class="ttname"><a href="structNewsrcEntry.html">NewsrcEntry</a></div><div class="ttdoc">An entry in a .newsrc (subscribed newsgroups) </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00075">lib.h:75</a></div></div>
<div class="ttc" id="file_8c_html_a31f49795ff5b9558db5476e5777e63b6"><div class="ttname"><a href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a></div><div class="ttdeci">int mutt_file_fclose(FILE **fp)</div><div class="ttdoc">Close a FILE handle (and NULL the pointer) </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00153">file.c:153</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a12f478749b5ab10135a81d90ed0dc797"><div class="ttname"><a href="structNntpAccountData.html#a12f478749b5ab10135a81d90ed0dc797">NntpAccountData::size</a></div><div class="ttdeci">off_t size</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00055">adata.h:55</a></div></div>
<div class="ttc" id="memory_8c_html_af778eb8166966fc0666c64849f6c7c5b"><div class="ttname"><a href="memory_8c.html#af778eb8166966fc0666c64849f6c7c5b">mutt_mem_realloc</a></div><div class="ttdeci">void mutt_mem_realloc(void *ptr, size_t size)</div><div class="ttdoc">Resize a block of memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00114">memory.c:114</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_af213c68397b28d9da9d2aa988ebbfbde"><div class="ttname"><a href="nntp_2lib_8h.html#af213c68397b28d9da9d2aa988ebbfbde">ANUM</a></div><div class="ttdeci">#define ANUM</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00061">lib.h:61</a></div></div>
<div class="ttc" id="memory_8c_html_a264da4dc58e6dc8983285bd1f538f24d"><div class="ttname"><a href="memory_8c.html#a264da4dc58e6dc8983285bd1f538f24d">mutt_mem_malloc</a></div><div class="ttdeci">void * mutt_mem_malloc(size_t size)</div><div class="ttdoc">Allocate memory on the heap. </div><div class="ttdef"><b>Definition:</b> <a href="memory_8c_source.html#l00090">memory.c:90</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpMboxData_html_ac07bf6c8bf2b97d0d99655a1e674304c"><div class="ttname"><a href="structNntpMboxData.html#ac07bf6c8bf2b97d0d99655a1e674304c">NntpMboxData::newsrc_len</a></div><div class="ttdeci">unsigned int newsrc_len</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00045">mdata.h:45</a></div></div>
<div class="ttc" id="newsrc_8c_html_a64fdec9977db62a95daa5af59d280673"><div class="ttname"><a href="newsrc_8c.html#a64fdec9977db62a95daa5af59d280673">nntp_newsrc_close</a></div><div class="ttdeci">void nntp_newsrc_close(struct NntpAccountData *adata)</div><div class="ttdoc">Unlock and close .newsrc file. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00118">newsrc.c:118</a></div></div>
<div class="ttc" id="newsrc_8c_html_ad95047455c17e74059e350654359062a"><div class="ttname"><a href="newsrc_8c.html#ad95047455c17e74059e350654359062a">mdata_find</a></div><div class="ttdeci">static struct NntpMboxData * mdata_find(struct NntpAccountData *adata, const char *group)</div><div class="ttdoc">Find NntpMboxData for given newsgroup or add it. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00072">newsrc.c:72</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdoc">Log at debug level 1. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00040">logging.h:40</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="newsrc_8c_html_ab375e79092001683947b61e4079db8c0"><div class="ttname"><a href="newsrc_8c.html#ab375e79092001683947b61e4079db8c0">nntp_group_unread_stat</a></div><div class="ttdeci">void nntp_group_unread_stat(struct NntpMboxData *mdata)</div><div class="ttdoc">Count number of unread articles using .newsrc data. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00132">newsrc.c:132</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa463e0294965977e77014d13a7741b47"><div class="ttname"><a href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">NntpAccountData::fp_newsrc</a></div><div class="ttdeci">FILE * fp_newsrc</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00051">adata.h:51</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
<div class="ttc" id="file_8c_html_ae1c0c19fec03274220b3ca065ad1e2e5"><div class="ttname"><a href="file_8c.html#ae1c0c19fec03274220b3ca065ad1e2e5">mutt_file_fopen</a></div><div class="ttdeci">FILE * mutt_file_fopen(const char *path, const char *mode)</div><div class="ttdoc">Call fopen() safely. </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00589">file.c:589</a></div></div>
<div class="ttc" id="structNewsrcEntry_html_a9754473230323401f3cfddcbdc560d0b"><div class="ttname"><a href="structNewsrcEntry.html#a9754473230323401f3cfddcbdc560d0b">NewsrcEntry::first</a></div><div class="ttdeci">anum_t first</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00077">lib.h:77</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a3792d3aacd074ccb3cd92fcf686fa4e6"><div class="ttname"><a href="structNntpMboxData.html#a3792d3aacd074ccb3cd92fcf686fa4e6">NntpMboxData::last_message</a></div><div class="ttdeci">anum_t last_message</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00037">mdata.h:37</a></div></div>
</div><!-- fragment --><div id="dynsection-22" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a57bd184c51b8701e9613761a629ca485_cgraph.svg" width="578" height="423"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-23" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-23-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-23-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-23-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a57bd184c51b8701e9613761a629ca485_icgraph.svg" width="376" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a64fdec9977db62a95daa5af59d280673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64fdec9977db62a95daa5af59d280673">&#9670;&nbsp;</a></span>nntp_newsrc_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_newsrc_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlock and close .newsrc file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00118">118</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;{</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="keywordflow">if</span> (!adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>)</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Unlocking %s\n&quot;</span>, adata-&gt;<a class="code" href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">newsrc_file</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="file_8c.html#a58563edc1ad32b074fb2425a929b0f39">mutt_file_unlock</a>(fileno(adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>));</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a>(&amp;adata-&gt;<a class="code" href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">fp_newsrc</a>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="ttc" id="structNntpAccountData_html_ac66124453d57694fec9563cdbe65ce97"><div class="ttname"><a href="structNntpAccountData.html#ac66124453d57694fec9563cdbe65ce97">NntpAccountData::newsrc_file</a></div><div class="ttdeci">char * newsrc_file</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00052">adata.h:52</a></div></div>
<div class="ttc" id="file_8c_html_a58563edc1ad32b074fb2425a929b0f39"><div class="ttname"><a href="file_8c.html#a58563edc1ad32b074fb2425a929b0f39">mutt_file_unlock</a></div><div class="ttdeci">int mutt_file_unlock(int fd)</div><div class="ttdoc">Unlock a file previously locked by mutt_file_lock() </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l01226">file.c:1226</a></div></div>
<div class="ttc" id="file_8c_html_a31f49795ff5b9558db5476e5777e63b6"><div class="ttname"><a href="file_8c.html#a31f49795ff5b9558db5476e5777e63b6">mutt_file_fclose</a></div><div class="ttdeci">int mutt_file_fclose(FILE **fp)</div><div class="ttdoc">Close a FILE handle (and NULL the pointer) </div><div class="ttdef"><b>Definition:</b> <a href="file_8c_source.html#l00153">file.c:153</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdoc">Log at debug level 1. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00040">logging.h:40</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa463e0294965977e77014d13a7741b47"><div class="ttname"><a href="structNntpAccountData.html#aa463e0294965977e77014d13a7741b47">NntpAccountData::fp_newsrc</a></div><div class="ttdeci">FILE * fp_newsrc</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00051">adata.h:51</a></div></div>
</div><!-- fragment --><div id="dynsection-24" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-24-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-24-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-24-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a64fdec9977db62a95daa5af59d280673_cgraph.svg" width="335" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-25" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-25-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-25-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-25-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a64fdec9977db62a95daa5af59d280673_icgraph.svg" width="758" height="299"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a5d6b4cf3e2a57697ddf28fb7b616cb46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d6b4cf3e2a57697ddf28fb7b616cb46">&#9670;&nbsp;</a></span>nntp_mailbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_mailbox </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structMailbox.html">Mailbox</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get first newsgroup with new messages. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m</td><td><a class="el" href="structMailbox.html" title="A mailbox. ">Mailbox</a> </td></tr>
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer. ">Buffer</a> for result </td></tr>
    <tr><td class="paramname">buflen</td><td>Length of buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l01390">1390</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;{</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;  <span class="keywordflow">if</span> (!m)</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; i++)</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;  {</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = <a class="code" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[i];</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="keywordflow">if</span> (!mdata || !mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> || !mdata-&gt;<a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a>)</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;    <span class="keywordflow">if</span> ((m-&gt;<a class="code" href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">type</a> == <a class="code" href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a>) &amp;&amp;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, ((<span class="keyword">struct</span> <a class="code" href="structNntpMboxData.html">NntpMboxData</a> *) m-&gt;<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a>)-&gt;group))</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    {</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">unread</a> = 0;</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; m-&gt;<a class="code" href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">msg_count</a>; j++)</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      {</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keyword">struct </span><a class="code" href="structEmail.html">Email</a> *e = m-&gt;<a class="code" href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">emails</a>[j];</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        <span class="keywordflow">if</span> (!e)</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        <span class="keywordflow">if</span> (!e-&gt;<a class="code" href="structEmail.html#a0bd79550be901d44e50953fb43614e10">read</a> &amp;&amp; !e-&gt;<a class="code" href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">deleted</a>)</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;          unread++;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;      }</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      <span class="keywordflow">if</span> (unread == 0)</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    }</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, buflen);</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;  }</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;}</div><div class="ttc" id="mutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00904">string.c:904</a></div></div>
<div class="ttc" id="structMailbox_html_a73ca79846dce43a175892c5d88e932ca"><div class="ttname"><a href="structMailbox.html#a73ca79846dce43a175892c5d88e932ca">Mailbox::emails</a></div><div class="ttdeci">struct Email ** emails</div><div class="ttdoc">Array of Emails. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00099">mailbox.h:99</a></div></div>
<div class="ttc" id="structMailbox_html_a5638329fb2ebd4bbe1f4a949ec8de174"><div class="ttname"><a href="structMailbox.html#a5638329fb2ebd4bbe1f4a949ec8de174">Mailbox::type</a></div><div class="ttdeci">enum MailboxType type</div><div class="ttdoc">Mailbox type. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00105">mailbox.h:105</a></div></div>
<div class="ttc" id="structMailbox_html_a3d7ee4badbaec0d67db9e29d5ba716ee"><div class="ttname"><a href="structMailbox.html#a3d7ee4badbaec0d67db9e29d5ba716ee">Mailbox::msg_count</a></div><div class="ttdeci">int msg_count</div><div class="ttdoc">Total number of messages. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00091">mailbox.h:91</a></div></div>
<div class="ttc" id="structEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00037">email.h:37</a></div></div>
<div class="ttc" id="mailbox_8h_html_af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803"><div class="ttname"><a href="mailbox_8h.html#af65addf714c28dd5d483cb426100921da6d3955b4b5acc450ba154b6ec9100803">MUTT_NNTP</a></div><div class="ttdoc">&amp;#39;NNTP&amp;#39; (Usenet) Mailbox type </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00052">mailbox.h:52</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="structEmail_html_a0bd79550be901d44e50953fb43614e10"><div class="ttname"><a href="structEmail.html#a0bd79550be901d44e50953fb43614e10">Email::read</a></div><div class="ttdeci">bool read</div><div class="ttdoc">Email is read. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00051">email.h:51</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00749">string.c:749</a></div></div>
<div class="ttc" id="structEmail_html_ac5db33e3d6d9723d8e496078d5769567"><div class="ttname"><a href="structEmail.html#ac5db33e3d6d9723d8e496078d5769567">Email::deleted</a></div><div class="ttdeci">bool deleted</div><div class="ttdoc">Email is deleted. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00045">email.h:45</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a98dfbd45b53b18796fa524f87b8ce32e"><div class="ttname"><a href="structNntpMboxData.html#a98dfbd45b53b18796fa524f87b8ce32e">NntpMboxData::unread</a></div><div class="ttdeci">anum_t unread</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00040">mdata.h:40</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_ae58e3a5dcd99b6bbd0354b133fc220ce"><div class="ttname"><a href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></div><div class="ttdeci">struct NntpAccountData * CurrentNewsSrv</div><div class="ttdoc">Current NNTP news server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00078">nntp.c:78</a></div></div>
</div><!-- fragment --><div id="dynsection-26" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-26-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-26-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-26-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a5d6b4cf3e2a57697ddf28fb7b616cb46_cgraph.svg" width="290" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-27" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-27-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-27-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-27-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a5d6b4cf3e2a57697ddf28fb7b616cb46_icgraph.svg" width="346" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aad55ac6624a236283f0521ebdee460eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad55ac6624a236283f0521ebdee460eb">&#9670;&nbsp;</a></span>nntp_expand_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_expand_path </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structConnAccount.html">ConnAccount</a> *&#160;</td>
          <td class="paramname"><em>cac</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make fully qualified url from newsgroup name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer. ">Buffer</a> for the result </td></tr>
    <tr><td class="paramname">buflen</td><td>Length of buffer </td></tr>
    <tr><td class="paramname">cac</td><td><a class="el" href="structAccount.html" title="A group of associated Mailboxes. ">Account</a> to serialise </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00559">559</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keyword">struct </span><a class="code" href="structUrl.html">Url</a> url = { 0 };</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  <a class="code" href="mutt__account_8c.html#a7b58d7c236d1bea3a516cf682648bf3e">mutt_account_tourl</a>(cac, &amp;url);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  url.<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a> = <a class="code" href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a>(buf);</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  <a class="code" href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a>(&amp;url, buf, buflen, <a class="code" href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a>);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  <a class="code" href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a>(&amp;url.<a class="code" href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">path</a>);</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div><div class="ttc" id="structUrl_html"><div class="ttname"><a href="structUrl.html">Url</a></div><div class="ttdoc">A parsed URL proto://user:password@host:port/path?a=1&amp;b=2 </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00068">url.h:68</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a4c2560f787bd1226b977992c16860c98"><div class="ttname"><a href="mutt_2string_8c.html#a4c2560f787bd1226b977992c16860c98">mutt_str_dup</a></div><div class="ttdeci">char * mutt_str_dup(const char *str)</div><div class="ttdoc">Copy a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00370">string.c:370</a></div></div>
<div class="ttc" id="url_8h_html_a04ddf99a809afcc240e4b3d517c98d20"><div class="ttname"><a href="url_8h.html#a04ddf99a809afcc240e4b3d517c98d20">U_NO_FLAGS</a></div><div class="ttdeci">#define U_NO_FLAGS</div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00049">url.h:49</a></div></div>
<div class="ttc" id="mutt__account_8c_html_a7b58d7c236d1bea3a516cf682648bf3e"><div class="ttname"><a href="mutt__account_8c.html#a7b58d7c236d1bea3a516cf682648bf3e">mutt_account_tourl</a></div><div class="ttdeci">void mutt_account_tourl(struct ConnAccount *cac, struct Url *url)</div><div class="ttdoc">Fill URL with info from account. </div><div class="ttdef"><b>Definition:</b> <a href="mutt__account_8c_source.html#l00079">mutt_account.c:79</a></div></div>
<div class="ttc" id="url_8c_html_a4cdc82c89b3fa52b384a16ef0e971d68"><div class="ttname"><a href="url_8c.html#a4cdc82c89b3fa52b384a16ef0e971d68">url_tostring</a></div><div class="ttdeci">int url_tostring(struct Url *url, char *dest, size_t len, uint8_t flags)</div><div class="ttdoc">Output the URL string for a given Url object. </div><div class="ttdef"><b>Definition:</b> <a href="url_8c_source.html#l00418">url.c:418</a></div></div>
<div class="ttc" id="structUrl_html_ad4b772878b40b204a7e91520b0bcbed4"><div class="ttname"><a href="structUrl.html#ad4b772878b40b204a7e91520b0bcbed4">Url::path</a></div><div class="ttdeci">char * path</div><div class="ttdoc">Path. </div><div class="ttdef"><b>Definition:</b> <a href="url_8h_source.html#l00075">url.h:75</a></div></div>
<div class="ttc" id="memory_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="memory_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="memory_8h_source.html#l00040">memory.h:40</a></div></div>
</div><!-- fragment --><div id="dynsection-28" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-28-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-28-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-28-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aad55ac6624a236283f0521ebdee460eb_cgraph.svg" width="350" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-29" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-29-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-29-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-29-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_aad55ac6624a236283f0521ebdee460eb_icgraph.svg" width="364" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a0e57436b35d68983c6fe44815f3ad505"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e57436b35d68983c6fe44815f3ad505">&#9670;&nbsp;</a></span>nntp_clear_cache()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nntp_clear_cache </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a> *&#160;</td>
          <td class="paramname"><em>adata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the NNTP cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adata</td><td>NNTP server</td></tr>
  </table>
  </dd>
</dl>
<p>Remove hcache and bcache of all unexistent and unsubscribed newsgroups </p>

<p class="definition">Definition at line <a class="el" href="newsrc_8c_source.html#l00846">846</a> of file <a class="el" href="newsrc_8c_source.html">newsrc.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;{</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keywordtype">char</span> file[<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keywordtype">char</span> *fp = NULL;</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  <span class="keyword">struct </span>dirent *entry = NULL;</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  DIR *dp = NULL;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> (!adata || !adata-&gt;<a class="code" href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">cacheable</a>)</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <a class="code" href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a>(file, <span class="keyword">sizeof</span>(file), &amp;adata-&gt;<a class="code" href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">conn</a>-&gt;<a class="code" href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">account</a>, NULL);</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  dp = opendir(file);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  <span class="keywordflow">if</span> (dp)</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  {</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <a class="code" href="mutt_2string_8c.html#a0faedf1f21afdde5c94847c3b0e55966">mutt_strn_cat</a>(file, <span class="keyword">sizeof</span>(file), <span class="stringliteral">&quot;/&quot;</span>, 1);</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    fp = file + strlen(file);</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="keywordflow">while</span> ((entry = readdir(dp)))</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    {</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;      <span class="keywordtype">char</span> *group = entry-&gt;d_name;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <span class="keyword">struct </span>stat sb;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = NULL;</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> tmp_mdata;</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(group, <span class="stringliteral">&quot;.&quot;</span>) || <a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(group, <span class="stringliteral">&quot;..&quot;</span>))</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;      *fp = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;      <a class="code" href="mutt_2string_8c.html#a0faedf1f21afdde5c94847c3b0e55966">mutt_strn_cat</a>(file, <span class="keyword">sizeof</span>(file), group, strlen(group));</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      <span class="keywordflow">if</span> (stat(file, &amp;sb) != 0)</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;<span class="preprocessor">#ifdef USE_HCACHE</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      <span class="keywordflow">if</span> (S_ISREG(sb.st_mode))</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        <span class="keywordtype">char</span> *ext = group + strlen(group) - 7;</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <span class="keywordflow">if</span> ((strlen(group) &lt; 8) || !<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(ext, <span class="stringliteral">&quot;.hcache&quot;</span>))</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        *ext = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          <span class="keywordflow">if</span> (!S_ISDIR(sb.st_mode))</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> c_save_unsubscribed =</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;          <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;save_unsubscribed&quot;</span>);</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      mdata = <a class="code" href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a>(adata-&gt;<a class="code" href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">groups_hash</a>, group);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <span class="keywordflow">if</span> (!mdata)</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      {</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        mdata = &amp;tmp_mdata;</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        mdata-&gt;<a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a> = <a class="code" href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">adata</a>;</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a> = <a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>;</div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        mdata-&gt;<a class="code" href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">bcache</a> = NULL;</div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;      }</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mdata-&gt;<a class="code" href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">newsrc_ent</a> || mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> || c_save_unsubscribed)</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;      <a class="code" href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a>(mdata);</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;      <span class="keywordflow">if</span> (S_ISDIR(sb.st_mode))</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;      {</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        rmdir(file);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;        <a class="code" href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;%s\n&quot;</span>, file);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      }</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    }</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    closedir(dp);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  }</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;}</div><div class="ttc" id="hash_8c_html_a58acf06077aef78a15c60f37c72403ce"><div class="ttname"><a href="hash_8c.html#a58acf06077aef78a15c60f37c72403ce">mutt_hash_find</a></div><div class="ttdeci">void * mutt_hash_find(const struct HashTable *table, const char *strkey)</div><div class="ttdoc">Find the HashElem data in a Hash Table element using a key. </div><div class="ttdef"><b>Definition:</b> <a href="hash_8c_source.html#l00354">hash.c:354</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00904">string.c:904</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00073">helpers.c:73</a></div></div>
<div class="ttc" id="structConnection_html_ac3c39549b6611c8eaed2a25573b5c432"><div class="ttname"><a href="structConnection.html#ac3c39549b6611c8eaed2a25573b5c432">Connection::account</a></div><div class="ttdeci">struct ConnAccount account</div><div class="ttdoc">Account details: username, password, etc. </div><div class="ttdef"><b>Definition:</b> <a href="connection_8h_source.html#l00036">connection.h:36</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a0faedf1f21afdde5c94847c3b0e55966"><div class="ttname"><a href="mutt_2string_8c.html#a0faedf1f21afdde5c94847c3b0e55966">mutt_strn_cat</a></div><div class="ttdeci">char * mutt_strn_cat(char *d, size_t l, const char *s, size_t sl)</div><div class="ttdoc">Concatenate two strings. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00414">string.c:414</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a5fe54958715f3c542698ee11e6fd6687"><div class="ttname"><a href="structNntpMboxData.html#a5fe54958715f3c542698ee11e6fd6687">NntpMboxData::adata</a></div><div class="ttdeci">struct NntpAccountData * adata</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00047">mdata.h:47</a></div></div>
<div class="ttc" id="newsrc_8c_html_a140bf8e49e3f11e0d9cb4d8253767819"><div class="ttname"><a href="newsrc_8c.html#a140bf8e49e3f11e0d9cb4d8253767819">nntp_delete_group_cache</a></div><div class="ttdeci">void nntp_delete_group_cache(struct NntpMboxData *mdata)</div><div class="ttdoc">Remove hcache and bcache of newsgroup. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00812">newsrc.c:812</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a0c47d705c8553a61127b79839399607d"><div class="ttname"><a href="structNntpAccountData.html#a0c47d705c8553a61127b79839399607d">NntpAccountData::groups_hash</a></div><div class="ttdeci">struct HashTable * groups_hash</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00062">adata.h:62</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="structNntpAccountData_html_ab1119d6a97b21d5015bef09d4debc002"><div class="ttname"><a href="structNntpAccountData.html#ab1119d6a97b21d5015bef09d4debc002">NntpAccountData::cacheable</a></div><div class="ttdeci">bool cacheable</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00049">adata.h:49</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4a0fee3ab5b7ee9b0027505083f16790"><div class="ttname"><a href="structNntpMboxData.html#a4a0fee3ab5b7ee9b0027505083f16790">NntpMboxData::bcache</a></div><div class="ttdeci">struct BodyCache * bcache</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00049">mdata.h:49</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="newsrc_8c_html_a8d3a7328ed6d800fc41fb83e20db792a"><div class="ttname"><a href="newsrc_8c.html#a8d3a7328ed6d800fc41fb83e20db792a">cache_expand</a></div><div class="ttdeci">static void cache_expand(char *dst, size_t dstlen, struct ConnAccount *cac, const char *src)</div><div class="ttdoc">Make fully qualified cache file name. </div><div class="ttdef"><b>Definition:</b> <a href="newsrc_8c_source.html#l00518">newsrc.c:518</a></div></div>
<div class="ttc" id="group__logging__api_html_gae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="group__logging__api.html#gae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00085">logging.h:85</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a9747475877d94ec69209a43352cf25cb"><div class="ttname"><a href="structNntpMboxData.html#a9747475877d94ec69209a43352cf25cb">NntpMboxData::newsrc_ent</a></div><div class="ttdeci">struct NewsrcEntry * newsrc_ent</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00046">mdata.h:46</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a27c41dff3b7d62798dda5cec8d755c2a"><div class="ttname"><a href="structNntpAccountData.html#a27c41dff3b7d62798dda5cec8d755c2a">NntpAccountData::conn</a></div><div class="ttdeci">struct Connection * conn</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00063">adata.h:63</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
</div><!-- fragment --><div id="dynsection-30" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-30-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-30-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-30-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e57436b35d68983c6fe44815f3ad505_cgraph.svg" width="544" height="275"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-31" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-31-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-31-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-31-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a0e57436b35d68983c6fe44815f3ad505_icgraph.svg" width="364" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a1fe327b2048f5a2c6e0c9878edb5f8e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fe327b2048f5a2c6e0c9878edb5f8e4">&#9670;&nbsp;</a></span>nntp_compare_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_compare_order </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct <a class="el" href="structEmail.html">Email</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>reverse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sort to mailbox order - Implements <a class="el" href="sort_8h.html#a45f9a5b856cafe34e0bfbc1b3b61ab02" title="Prototype for comparing two emails. ">sort_mail_t</a>. </p>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l02280">2280</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>
<div class="fragment"><div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;{</div><div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;  <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> na = <a class="code" href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a>((<span class="keyword">struct</span> <a class="code" href="structEmail.html">Email</a> *) a)-&gt;<a class="code" href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">article_num</a>;</div><div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;  <a class="code" href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a> nb = <a class="code" href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a>((<span class="keyword">struct</span> <a class="code" href="structEmail.html">Email</a> *) b)-&gt;<a class="code" href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">article_num</a>;</div><div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;  <span class="keywordtype">int</span> result = (na == nb) ? 0 : (na &gt; nb) ? 1 : -1;</div><div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;  <span class="keywordflow">return</span> reverse ? -result : result;</div><div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;}</div><div class="ttc" id="structEmail_html"><div class="ttname"><a href="structEmail.html">Email</a></div><div class="ttdoc">The envelope/body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_8h_source.html#l00037">email.h:37</a></div></div>
<div class="ttc" id="structNntpEmailData_html_a664cb7fd06434c6a0769467038b99f8a"><div class="ttname"><a href="structNntpEmailData.html#a664cb7fd06434c6a0769467038b99f8a">NntpEmailData::article_num</a></div><div class="ttdeci">anum_t article_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2edata_8h_source.html#l00036">edata.h:36</a></div></div>
<div class="ttc" id="nntp_2edata_8c_html_af8254ee05551fd9c812a24ee01d72eae"><div class="ttname"><a href="nntp_2edata_8c.html#af8254ee05551fd9c812a24ee01d72eae">nntp_edata_get</a></div><div class="ttdeci">struct NntpEmailData * nntp_edata_get(struct Email *e)</div><div class="ttdoc">Get the private data for this Email. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2edata_8c_source.html#l00058">edata.c:58</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_afbe93ce95fbbf1758c93d4b123fc2246"><div class="ttname"><a href="nntp_2lib_8h.html#afbe93ce95fbbf1758c93d4b123fc2246">anum_t</a></div><div class="ttdeci">#define anum_t</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2lib_8h_source.html#l00060">lib.h:60</a></div></div>
</div><!-- fragment --><div id="dynsection-32" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-32-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-32-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-32-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a1fe327b2048f5a2c6e0c9878edb5f8e4_cgraph.svg" width="338" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-33" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-33-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-33-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-33-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a1fe327b2048f5a2c6e0c9878edb5f8e4_icgraph.svg" width="326" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a052dfa40f5ab0fb5debbeaf06b628ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a052dfa40f5ab0fb5debbeaf06b628ae9">&#9670;&nbsp;</a></span>nntp_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nntp_complete </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Auto-complete NNTP newsgroups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td><a class="el" href="structBuffer.html" title="String manipulation buffer. ">Buffer</a> containing pathname </td></tr>
    <tr><td class="paramname">buflen</td><td>Length of buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Match found </td></tr>
    <tr><td class="paramname">-1</td><td>No matches</td></tr>
  </table>
  </dd>
</dl>
<p>XXX rules </p>

<p class="definition">Definition at line <a class="el" href="nntp_2complete_8c_source.html#l00047">47</a> of file <a class="el" href="nntp_2complete_8c_source.html">complete.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keyword">struct </span><a class="code" href="structNntpAccountData.html">NntpAccountData</a> *<a class="code" href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">adata</a> = <a class="code" href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a>;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  <span class="keywordtype">size_t</span> n = 0;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordtype">char</span> filepart[<a class="code" href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a>];</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordtype">bool</span> init = <span class="keyword">false</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(filepart, buf, <span class="keyword">sizeof</span>(filepart));</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="comment">/* special case to handle when there is no filepart yet</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">   * find the first subscribed newsgroup */</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordtype">int</span> len = <a class="code" href="mutt_2string_8c.html#acca6786b903b22a5924219f9db96e10d">mutt_str_len</a>(filepart);</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  <span class="keywordflow">if</span> (len == 0)</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  {</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">for</span> (; n &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; n++)</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[n];</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      <span class="keywordflow">if</span> (mdata &amp;&amp; mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a>)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;      {</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(filepart, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, <span class="keyword">sizeof</span>(filepart));</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        init = <span class="keyword">true</span>;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        n++;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      }</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">for</span> (; n &lt; adata-&gt;<a class="code" href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">groups_num</a>; n++)</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  {</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keyword">struct </span><a class="code" href="structNntpMboxData.html">NntpMboxData</a> *<a class="code" href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">mdata</a> = adata-&gt;<a class="code" href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">groups_list</a>[n];</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (mdata &amp;&amp; mdata-&gt;<a class="code" href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">subscribed</a> &amp;&amp; <a class="code" href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a>(mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, filepart, len))</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    {</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="keywordflow">if</span> (init)</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordtype">size_t</span> i;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <span class="keywordflow">for</span> (i = 0; filepart[i] &amp;&amp; mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>[i]; i++)</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;          <span class="keywordflow">if</span> (filepart[i] != mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>[i])</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        }</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        filepart[i] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      }</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      {</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(filepart, mdata-&gt;<a class="code" href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">group</a>, <span class="keyword">sizeof</span>(filepart));</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        init = <span class="keyword">true</span>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      }</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    }</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a>(buf, filepart, buflen);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">return</span> init ? 0 : -1;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div><div class="ttc" id="structNntpAccountData_html"><div class="ttname"><a href="structNntpAccountData.html">NntpAccountData</a></div><div class="ttdoc">NNTP-specific Account data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00036">adata.h:36</a></div></div>
<div class="ttc" id="structNntpMboxData_html_af1fae146cb0fab012147cefe8791a8f6"><div class="ttname"><a href="structNntpMboxData.html#af1fae146cb0fab012147cefe8791a8f6">NntpMboxData::subscribed</a></div><div class="ttdeci">bool subscribed</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00041">mdata.h:41</a></div></div>
<div class="ttc" id="structNntpMboxData_html_a4eeac824a82fb5bb884aa9aab449ccf8"><div class="ttname"><a href="structNntpMboxData.html#a4eeac824a82fb5bb884aa9aab449ccf8">NntpMboxData::group</a></div><div class="ttdeci">char * group</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00034">mdata.h:34</a></div></div>
<div class="ttc" id="structMailbox_html_a69b544c5c748ab3046dcc6e61a41f595"><div class="ttname"><a href="structMailbox.html#a69b544c5c748ab3046dcc6e61a41f595">Mailbox::mdata</a></div><div class="ttdeci">void * mdata</div><div class="ttdoc">Driver specific data. </div><div class="ttdef"><b>Definition:</b> <a href="mailbox_8h_source.html#l00136">mailbox.h:136</a></div></div>
<div class="ttc" id="mutt_8h_html_ae688d728e1acdfe5988c7db45d6f0166"><div class="ttname"><a href="mutt_8h.html#ae688d728e1acdfe5988c7db45d6f0166">PATH_MAX</a></div><div class="ttdeci">#define PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00040">mutt.h:40</a></div></div>
<div class="ttc" id="structAccount_html_ad10abe32dcee204d654a3cd350d8cd8e"><div class="ttname"><a href="structAccount.html#ad10abe32dcee204d654a3cd350d8cd8e">Account::adata</a></div><div class="ttdeci">void * adata</div><div class="ttdoc">Private data (for Mailbox backends) </div><div class="ttdef"><b>Definition:</b> <a href="account_8h_source.html#l00043">account.h:43</a></div></div>
<div class="ttc" id="structNntpAccountData_html_a37bf5f2141a2488012a0441694bae9bf"><div class="ttname"><a href="structNntpAccountData.html#a37bf5f2141a2488012a0441694bae9bf">NntpAccountData::groups_num</a></div><div class="ttdeci">unsigned int groups_num</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00059">adata.h:59</a></div></div>
<div class="ttc" id="structNntpMboxData_html"><div class="ttname"><a href="structNntpMboxData.html">NntpMboxData</a></div><div class="ttdoc">NNTP-specific Mailbox data -. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_2mdata_8h_source.html#l00032">mdata.h:32</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_acca6786b903b22a5924219f9db96e10d"><div class="ttname"><a href="mutt_2string_8c.html#acca6786b903b22a5924219f9db96e10d">mutt_str_len</a></div><div class="ttdeci">size_t mutt_str_len(const char *a)</div><div class="ttdoc">Calculate the length of a string, safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00664">string.c:664</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_ad20e00309de897a1e882fc7400335b83"><div class="ttname"><a href="mutt_2string_8c.html#ad20e00309de897a1e882fc7400335b83">mutt_str_copy</a></div><div class="ttdeci">size_t mutt_str_copy(char *dest, const char *src, size_t dsize)</div><div class="ttdoc">Copy a string into a buffer (guaranteeing NUL-termination) </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00749">string.c:749</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a6f574867aa9db4d434adbc8af1f5f7e7"><div class="ttname"><a href="mutt_2string_8c.html#a6f574867aa9db4d434adbc8af1f5f7e7">mutt_strn_equal</a></div><div class="ttdeci">bool mutt_strn_equal(const char *a, const char *b, size_t num)</div><div class="ttdoc">Check for equality of two strings (to a maximum), safely. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00593">string.c:593</a></div></div>
<div class="ttc" id="structNntpAccountData_html_aa8a61ca529162078c8b06d4cec65e63c"><div class="ttname"><a href="structNntpAccountData.html#aa8a61ca529162078c8b06d4cec65e63c">NntpAccountData::groups_list</a></div><div class="ttdeci">void ** groups_list</div><div class="ttdef"><b>Definition:</b> <a href="nntp_2adata_8h_source.html#l00061">adata.h:61</a></div></div>
<div class="ttc" id="nntp_2lib_8h_html_ae58e3a5dcd99b6bbd0354b133fc220ce"><div class="ttname"><a href="nntp_2lib_8h.html#ae58e3a5dcd99b6bbd0354b133fc220ce">CurrentNewsSrv</a></div><div class="ttdeci">struct NntpAccountData * CurrentNewsSrv</div><div class="ttdoc">Current NNTP news server. </div><div class="ttdef"><b>Definition:</b> <a href="nntp_8c_source.html#l00078">nntp.c:78</a></div></div>
</div><!-- fragment --><div id="dynsection-34" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-34-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-34-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-34-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a052dfa40f5ab0fb5debbeaf06b628ae9_cgraph.svg" width="306" height="139"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-35" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-35-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-35-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-35-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="nntp_2lib_8h_a052dfa40f5ab0fb5debbeaf06b628ae9_icgraph.svg" width="299" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae58e3a5dcd99b6bbd0354b133fc220ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58e3a5dcd99b6bbd0354b133fc220ce">&#9670;&nbsp;</a></span>CurrentNewsSrv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structNntpAccountData.html">NntpAccountData</a>* CurrentNewsSrv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Current NNTP news server. </p>

<p class="definition">Definition at line <a class="el" href="nntp_8c_source.html#l00078">78</a> of file <a class="el" href="nntp_8c_source.html">nntp.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
