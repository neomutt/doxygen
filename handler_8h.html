<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: handler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://neomutt.org"><img alt="Logo" src="neomutt-64.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <a style="color: black; text-decoration: none;" href="https://neomutt.org">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">2021-02-05-584-gb5c7a7</span>
   </div>
   <div id="projectbrief">Teaching an old dog new tricks</div>
   </a>
   <a href="https://github.com/neomutt/neomutt" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#000000; color:#fff; position: fixed; top: 0; border: 0; right: 0; z-index: 9999;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </td>
   <td><a style="text-decoration: none; position: absolute; right: 0; top: 25px; margin-right: 100px; color: #66d866; font-size: 400%;" href="http://www.doxygen.org/index.html">DOXYGEN</a></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('handler_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">handler.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Decide how to display email content.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;iconv.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for handler.h:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h__incl.svg" width="286" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h__dep__incl.svg" width="1843" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div>
<p><a href="handler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adae8bf0eec9bee0bd62f639bbcf8599f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#adae8bf0eec9bee0bd62f639bbcf8599f">mutt_body_handler</a> (struct <a class="el" href="structBody.html">Body</a> *b, struct <a class="el" href="structState.html">State</a> *s)</td></tr>
<tr class="memdesc:adae8bf0eec9bee0bd62f639bbcf8599f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for the <a class="el" href="structBody.html" title="The body of an email. ">Body</a> of an email.  <a href="#adae8bf0eec9bee0bd62f639bbcf8599f">More...</a><br /></td></tr>
<tr class="separator:adae8bf0eec9bee0bd62f639bbcf8599f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8ffd2d9dd15e18644b821ec35c7ce52"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#ad8ffd2d9dd15e18644b821ec35c7ce52">mutt_can_decode</a> (struct <a class="el" href="structBody.html">Body</a> *a)</td></tr>
<tr class="memdesc:ad8ffd2d9dd15e18644b821ec35c7ce52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will decoding the attachment produce any output.  <a href="#ad8ffd2d9dd15e18644b821ec35c7ce52">More...</a><br /></td></tr>
<tr class="separator:ad8ffd2d9dd15e18644b821ec35c7ce52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dc0c14a81bb73f86986adc9745dd192"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#a8dc0c14a81bb73f86986adc9745dd192">mutt_decode_attachment</a> (struct <a class="el" href="structBody.html">Body</a> *b, struct <a class="el" href="structState.html">State</a> *s)</td></tr>
<tr class="memdesc:a8dc0c14a81bb73f86986adc9745dd192"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode an email's attachment.  <a href="#a8dc0c14a81bb73f86986adc9745dd192">More...</a><br /></td></tr>
<tr class="separator:a8dc0c14a81bb73f86986adc9745dd192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9741e9e73afb3ff82aefee39b0b6c96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="handler_8h.html#ad9741e9e73afb3ff82aefee39b0b6c96">mutt_decode_base64</a> (struct <a class="el" href="structState.html">State</a> *s, size_t len, bool istext, iconv_t cd)</td></tr>
<tr class="memdesc:ad9741e9e73afb3ff82aefee39b0b6c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode base64-encoded text.  <a href="#ad9741e9e73afb3ff82aefee39b0b6c96">More...</a><br /></td></tr>
<tr class="separator:ad9741e9e73afb3ff82aefee39b0b6c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Decide how to display email content. </p>
<dl class="section author"><dt>Authors</dt><dd><ul>
<li>Michael R. Elkins</li>
</ul>
</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 2 of the License, or (at your option) any later version.</dd></dl>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p>

<p class="definition">Definition in file <a class="el" href="handler_8h_source.html">handler.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="adae8bf0eec9bee0bd62f639bbcf8599f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adae8bf0eec9bee0bd62f639bbcf8599f">&#9670;&nbsp;</a></span>mutt_body_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_body_handler </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBody.html">Body</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handler for the <a class="el" href="structBody.html" title="The body of an email. ">Body</a> of an email. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td><a class="el" href="structBody.html" title="The body of an email. ">Body</a> of the email </td></tr>
    <tr><td class="paramname">s</td><td><a class="el" href="structState.html" title="Keep track when processing files. ">State</a> to work with </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success </td></tr>
    <tr><td class="paramname">-1</td><td>Error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01604">1604</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;{</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;  <span class="keywordflow">if</span> (!b || !s)</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;    <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;  <span class="keywordtype">bool</span> plaintext = <span class="keyword">false</span>;</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;  <a class="code" href="handler_8c.html#a05af946c0d51f30e6b10e75510d79458">handler_t</a> handler = NULL;</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;  <a class="code" href="handler_8c.html#a05af946c0d51f30e6b10e75510d79458">handler_t</a> encrypted_handler = NULL;</div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;  <span class="keywordtype">int</span> rc = 0;</div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;  <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> recurse_level = 0;</div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;</div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;  <span class="keywordtype">int</span> oflags = s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a>;</div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;  <span class="keywordflow">if</span> (recurse_level &gt;= <a class="code" href="mime_8h.html#a37d78827e3cbfabf93b6341b5da8cdc1">MUTT_MIME_MAX_DEPTH</a>)</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;  {</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;recurse level too deep. giving up.\n&quot;</span>);</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">return</span> 1;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;  }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;  recurse_level++;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div><div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;  <span class="comment">/* first determine which handler to use to process this part */</span></div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="handler_8c.html#a09f27e2821153040ea4cad0b9ade6153">is_autoview</a>(b))</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;  {</div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    handler = <a class="code" href="handler_8c.html#a4019b110ff53c32c7779c33209b7ebb1">autoview_handler</a>;</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp;= ~<a class="code" href="state_8h.html#a5380aee741459ab7d39708695b18711f">MUTT_CHARCONV</a>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;  }</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a>)</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;  {</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;plain&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">bool</span> c_reflow_text = <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;reflow_text&quot;</span>);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="comment">/* avoid copying this part twice since removing the transfer-encoding is</span></div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;<span class="comment">       * the only operation needed.  */</span></div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;      <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp; <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(b))</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;      {</div><div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        encrypted_handler = <a class="code" href="cryptglue_8c.html#af3336dd33085631d3135e50b4f3bf15f">crypt_pgp_application_handler</a>;</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;        handler = encrypted_handler;</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;      }</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (c_reflow_text &amp;&amp; <a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;flowed&quot;</span>, <a class="code" href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a>(&amp;b-&gt;<a class="code" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;format&quot;</span>)))</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;      {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;        handler = <a class="code" href="rfc3676_8c.html#a1a3abb7fcf3409cd1fe345fd20eee6a9">rfc3676_handler</a>;</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;      }</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;      {</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        handler = <a class="code" href="handler_8c.html#a6d3ed2bde66aba6a386b44c89d92aaea">text_plain_handler</a>;</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;      }</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;    }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;enriched&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;      handler = <a class="code" href="enriched_8c.html#a8dec70f86aa386e8729cd38ea8362d4d">text_enriched_handler</a>;</div><div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;    <span class="keywordflow">else</span> <span class="comment">/* text body type without a handler */</span></div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      plaintext = <span class="keyword">false</span>;</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  }</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b">TYPE_MESSAGE</a>)</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;  {</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="parse_8c.html#adcc90fb584fec1be116777c533e9b3d4">mutt_is_message_type</a>(b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;      handler = <a class="code" href="handler_8c.html#a0ab5b59c22636dd3d02267af588d4ace">message_handler</a>;</div><div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;delivery-status&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      plaintext = <span class="keyword">true</span>;</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;external-body&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;      handler = <a class="code" href="handler_8c.html#ad7c0b64ef51b02bbc7139ae162236355">external_body_handler</a>;</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;  }</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a>)</div><div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;  {</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_show_multipart_alternative =</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;        <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;show_multipart_alternative&quot;</span>);</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;inline&quot;</span>, c_show_multipart_alternative) &amp;&amp;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;        <a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;alternative&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;    {</div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      handler = <a class="code" href="handler_8c.html#aab3262f62a3d18119e23b733fa09164c">alternative_handler</a>;</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;    }</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a>(<span class="stringliteral">&quot;inline&quot;</span>, c_show_multipart_alternative) &amp;&amp;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;             <a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;multilingual&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    {</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;      handler = <a class="code" href="handler_8c.html#aa5d200d8ce365cf1ece6cc11da5a9de2">multilingual_handler</a>;</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    }</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; <a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;signed&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    {</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a>(&amp;b-&gt;<a class="code" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;protocol&quot;</span>))</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;        <a class="code" href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a>(<a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Error: multipart/signed has no protocol&quot;</span>));</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code" href="state_8h.html#a33c18383c0f48048aefd804e5766c79f">MUTT_VERIFY</a>)</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        handler = <a class="code" href="crypt_8c.html#a3e7ec2b5bc58891704d4c49159cbef9a">mutt_signed_handler</a>;</div><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    }</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="crypt_8c.html#a51806f872069460bb7f4fa16d1d92710">mutt_is_valid_multipart_pgp_encrypted</a>(b))</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    {</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      encrypted_handler = <a class="code" href="handler_8c.html#ab28bc87c5043dbacd5d51df806332abe">valid_pgp_encrypted_handler</a>;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;      handler = encrypted_handler;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;    }</div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="crypt_8c.html#a9edb0262eaed7c522977a75b76c15770">mutt_is_malformed_multipart_pgp_encrypted</a>(b))</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    {</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;      encrypted_handler = <a class="code" href="handler_8c.html#a0ad00b90878cc9737e46fd294d7362c9">malformed_pgp_encrypted_handler</a>;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;      handler = encrypted_handler;</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    }</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="keywordflow">if</span> (!handler)</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;      handler = <a class="code" href="handler_8c.html#a057547777eaf6251138ef699cd0796dc">multipart_handler</a>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    <span class="keywordflow">if</span> ((b-&gt;<a class="code" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> != <a class="code" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e">ENC_7BIT</a>) &amp;&amp; (b-&gt;<a class="code" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> != <a class="code" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a7c05065f79f9ed33904677a211ec3466">ENC_8BIT</a>) &amp;&amp; (b-&gt;<a class="code" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> != <a class="code" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a33a486b063e032293f7615de05f3cfa8">ENC_BINARY</a>))</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    {</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;      <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Bad encoding type %d for multipart entity, assuming 7 bit\n&quot;</span>,</div><div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;                 b-&gt;<a class="code" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a>);</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      b-&gt;<a class="code" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a> = <a class="code" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e">ENC_7BIT</a>;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;    }</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;  }</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; (b-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e">TYPE_APPLICATION</a>))</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;  {</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="options_8h.html#ac37333941e0b57abec75329a20feaba8">OptDontHandlePgpKeys</a> &amp;&amp; <a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(<span class="stringliteral">&quot;pgp-keys&quot;</span>, b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>))</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;    {</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      <span class="comment">/* pass raw part through for key extraction */</span></div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;      plaintext = <span class="keyword">true</span>;</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    }</div><div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_PGP) != 0) &amp;&amp; <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(b))</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    {</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      encrypted_handler = <a class="code" href="cryptglue_8c.html#af3336dd33085631d3135e50b4f3bf15f">crypt_pgp_application_handler</a>;</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      handler = encrypted_handler;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    }</div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>) != 0) &amp;&amp; <a class="code" href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a>(b))</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    {</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      encrypted_handler = <a class="code" href="cryptglue_8c.html#ae87ee3382bf04253e14beacd040c9e7d">crypt_smime_application_handler</a>;</div><div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      handler = encrypted_handler;</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    }</div><div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  }</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">bool</span> c_honor_disposition =</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;      <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;honor_disposition&quot;</span>);</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;  <span class="comment">/* only respect disposition == attachment if we&#39;re not</span></div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;<span class="comment">   * displaying from the attachment menu (i.e. pager) */</span></div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;  <span class="keywordflow">if</span> ((!c_honor_disposition || ((b-&gt;<a class="code" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> != <a class="code" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>) || <a class="code" href="options_8h.html#abdfb908fdaf1711345ab7b6a1109c5b0">OptViewAttach</a>)) &amp;&amp;</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      (plaintext || handler))</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;  {</div><div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="comment">/* Prevent encrypted attachments from being included in replies</span></div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;<span class="comment">     * unless $include_encrypted is set. */</span></div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> c_include_encrypted =</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <a class="code" href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;include_encrypted&quot;</span>);</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;    <span class="keywordflow">if</span> ((s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code" href="state_8h.html#a702d70532cdae3d9adff7fe7967e720b">MUTT_REPLYING</a>) &amp;&amp; (s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code" href="state_8h.html#a02567ca97dba308e42a1e449be2c7185">MUTT_FIRSTDONE</a>) &amp;&amp;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        encrypted_handler &amp;&amp; !c_include_encrypted)</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    {</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;      <span class="keywordflow">goto</span> cleanup;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    }</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;    rc = <a class="code" href="handler_8c.html#a7cb7eedc6f224327b26807c96d24a167">run_decode_and_handler</a>(b, s, handler, plaintext);</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;  }</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;  <span class="comment">/* print hint to use attachment menu for disposition == attachment</span></div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;<span class="comment">   * if we&#39;re not already being called from there */</span></div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code" href="state_8h.html#a5f9dc9c8012c0aeeacaa122b882c65a6">MUTT_DISPLAY</a>)</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;  {</div><div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;    <span class="keyword">struct </span><a class="code" href="structBuffer.html">Buffer</a> msg = <a class="code" href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a>(256);</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="options_8h.html#abdfb908fdaf1711345ab7b6a1109c5b0">OptViewAttach</a>)</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    {</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;      <span class="keywordtype">char</span> keystroke[128] = { 0 };</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="keymap_8c.html#a830fff42df69ae5c6e256eb03ce18892">km_expand_key</a>(keystroke, <span class="keyword">sizeof</span>(keystroke),</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;                        <a class="code" href="keymap_8c.html#a3a87d54521cdb9f2f47441ec5ed53c39">km_find_func</a>(<a class="code" href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a>, OP_VIEW_ATTACHMENTS)))</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      {</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;        <span class="keywordflow">if</span> (c_honor_disposition &amp;&amp; (b-&gt;<a class="code" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>))</div><div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        {</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;          <span class="comment">/* L10N: %s expands to a keystroke/key binding, e.g. &#39;v&#39;.  */</span></div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;          <a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(&amp;msg, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- This is an attachment (use &#39;%s&#39; to view this part) --]\n&quot;</span>),</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;                             keystroke);</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        }</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;        {</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;          <span class="comment">/* L10N: %s/%s is a MIME type, e.g. &quot;text/plain&quot;.</span></div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;<span class="comment">             The last %s expands to a keystroke/key binding, e.g. &#39;v&#39;. */</span></div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;          <a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(&amp;msg, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- %s/%s is unsupported (use &#39;%s&#39; to view this part) --]\n&quot;</span>),</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                             <a class="code" href="mime_8h.html#ab12186b6fac3d22b88fac67700f07b1d">TYPE</a>(b), b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, keystroke);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;        }</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;      }</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;      {</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;        <span class="keywordflow">if</span> (c_honor_disposition &amp;&amp; (b-&gt;<a class="code" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>))</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        {</div><div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;          <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(&amp;msg, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- This is an attachment (need &quot;</span></div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                                     <span class="stringliteral">&quot;&#39;view-attachments&#39; bound to key) --]\n&quot;</span>));</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        }</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        {</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;          <span class="comment">/* L10N: %s/%s is a MIME type, e.g. &quot;text/plain&quot;. */</span></div><div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;          <a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(&amp;msg, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- %s/%s is unsupported (need &#39;view-attachments&#39; bound to key) --]\n&quot;</span>),</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;                             <a class="code" href="mime_8h.html#ab12186b6fac3d22b88fac67700f07b1d">TYPE</a>(b), b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>);</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        }</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;      }</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;    }</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;    {</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;      <span class="keywordflow">if</span> (c_honor_disposition &amp;&amp; (b-&gt;<a class="code" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a>))</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;      {</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <a class="code" href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a>(&amp;msg, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- This is an attachment --]\n&quot;</span>));</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;      }</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;      {</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <span class="comment">/* L10N: %s/%s is a MIME type, e.g. &quot;text/plain&quot;. */</span></div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <a class="code" href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a>(&amp;msg, <a class="code" href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;[-- %s/%s is unsupported --]\n&quot;</span>), <a class="code" href="mime_8h.html#ab12186b6fac3d22b88fac67700f07b1d">TYPE</a>(b), b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>);</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;      }</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;    }</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;    <a class="code" href="state_8c.html#a6c4ef22b21b511fab506f66b908dae21">state_mark_attach</a>(s);</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;    <a class="code" href="state_8c.html#a274bd2d5df990d61848a6be9b18840f7">state_printf</a>(s, <span class="stringliteral">&quot;%s&quot;</span>, <a class="code" href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a>(&amp;msg));</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;    <a class="code" href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a>(&amp;msg);</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;  }</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;cleanup:</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;  recurse_level--;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> = oflags | (s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code" href="state_8h.html#a02567ca97dba308e42a1e449be2c7185">MUTT_FIRSTDONE</a>);</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;  <span class="keywordflow">if</span> (rc != 0)</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  {</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;    <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a>, <span class="stringliteral">&quot;Bailing on attachment of type %s/%s\n&quot;</span>, <a class="code" href="mime_8h.html#ab12186b6fac3d22b88fac67700f07b1d">TYPE</a>(b),</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;               <a class="code" href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a>(b-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>));</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  }</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;}</div><div class="ttc" id="mutt_2string_8c_html_a6b6a50296dd2a31863a43379ef4a343d"><div class="ttname"><a href="mutt_2string_8c.html#a6b6a50296dd2a31863a43379ef4a343d">mutt_str_equal</a></div><div class="ttdeci">bool mutt_str_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00904">string.c:904</a></div></div>
<div class="ttc" id="keymap_8c_html_a3a87d54521cdb9f2f47441ec5ed53c39"><div class="ttname"><a href="keymap_8c.html#a3a87d54521cdb9f2f47441ec5ed53c39">km_find_func</a></div><div class="ttdeci">struct Keymap * km_find_func(enum MenuType mtype, int func)</div><div class="ttdoc">Find a function&amp;#39;s mapping in a Menu. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8c_source.html#l00946">keymap.c:946</a></div></div>
<div class="ttc" id="state_8c_html_a274bd2d5df990d61848a6be9b18840f7"><div class="ttname"><a href="state_8c.html#a274bd2d5df990d61848a6be9b18840f7">state_printf</a></div><div class="ttdeci">int state_printf(struct State *s, const char *fmt,...)</div><div class="ttdoc">Write a formatted string to the State. </div><div class="ttdef"><b>Definition:</b> <a href="state_8c_source.html#l00187">state.c:187</a></div></div>
<div class="ttc" id="state_8h_html_a5f9dc9c8012c0aeeacaa122b882c65a6"><div class="ttname"><a href="state_8h.html#a5f9dc9c8012c0aeeacaa122b882c65a6">MUTT_DISPLAY</a></div><div class="ttdeci">#define MUTT_DISPLAY</div><div class="ttdoc">Output is displayed to the user. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00032">state.h:32</a></div></div>
<div class="ttc" id="string2_8h_html_a7e0481bed27661ea2679f256b24e0283"><div class="ttname"><a href="string2_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a></div><div class="ttdeci">#define NONULL(x)</div><div class="ttdef"><b>Definition:</b> <a href="string2_8h_source.html#l00037">string2.h:37</a></div></div>
<div class="ttc" id="helpers_8c_html_ae50f679dd6c5bd1ba820884c8602f038"><div class="ttname"><a href="helpers_8c.html#ae50f679dd6c5bd1ba820884c8602f038">cs_subset_bool</a></div><div class="ttdeci">bool cs_subset_bool(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a boolean config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00071">helpers.c:71</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00113">lib.h:113</a></div></div>
<div class="ttc" id="parse_8c_html_adcc90fb584fec1be116777c533e9b3d4"><div class="ttname"><a href="parse_8c.html#adcc90fb584fec1be116777c533e9b3d4">mutt_is_message_type</a></div><div class="ttdeci">bool mutt_is_message_type(int type, const char *subtype)</div><div class="ttdoc">Determine if a mime type matches a message or not. </div><div class="ttdef"><b>Definition:</b> <a href="parse_8c_source.html#l01385">parse.c:1385</a></div></div>
<div class="ttc" id="handler_8c_html_a09f27e2821153040ea4cad0b9ade6153"><div class="ttname"><a href="handler_8c.html#a09f27e2821153040ea4cad0b9ade6153">is_autoview</a></div><div class="ttdeci">static bool is_autoview(struct Body *b)</div><div class="ttdoc">Should email body be filtered by mailcap. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00475">handler.c:475</a></div></div>
<div class="ttc" id="handler_8c_html_aab3262f62a3d18119e23b733fa09164c"><div class="ttname"><a href="handler_8c.html#aab3262f62a3d18119e23b733fa09164c">alternative_handler</a></div><div class="ttdeci">static int alternative_handler(struct Body *a, struct State *s)</div><div class="ttdoc">Handler for multipart alternative emails - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00928">handler.c:928</a></div></div>
<div class="ttc" id="state_8h_html_a5380aee741459ab7d39708695b18711f"><div class="ttname"><a href="state_8h.html#a5380aee741459ab7d39708695b18711f">MUTT_CHARCONV</a></div><div class="ttdeci">#define MUTT_CHARCONV</div><div class="ttdoc">Do character set conversions. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00036">state.h:36</a></div></div>
<div class="ttc" id="handler_8c_html_a05af946c0d51f30e6b10e75510d79458"><div class="ttname"><a href="handler_8c.html#a05af946c0d51f30e6b10e75510d79458">handler_t</a></div><div class="ttdeci">int(* handler_t)(struct Body *b, struct State *s)</div><div class="ttdoc">Manage a PGP or S/MIME encrypted MIME part. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00078">handler.c:78</a></div></div>
<div class="ttc" id="mime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a0bc13f416d890a95b7d7e7c77b155f8e">ENC_7BIT</a></div><div class="ttdoc">7-bit text </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00049">mime.h:49</a></div></div>
<div class="ttc" id="buffer_8c_html_a0242aaa9a400d0722a99828776c0403b"><div class="ttname"><a href="buffer_8c.html#a0242aaa9a400d0722a99828776c0403b">mutt_buffer_make</a></div><div class="ttdeci">struct Buffer mutt_buffer_make(size_t size)</div><div class="ttdoc">Make a new buffer on the stack. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00061">buffer.c:61</a></div></div>
<div class="ttc" id="crypt_8c_html_a4073ce5b5fcec6e245dbfa9369016b8e"><div class="ttname"><a href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a></div><div class="ttdeci">SecurityFlags mutt_is_application_smime(struct Body *b)</div><div class="ttdoc">Does the message use S/MIME? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00623">crypt.c:623</a></div></div>
<div class="ttc" id="structBuffer_html"><div class="ttname"><a href="structBuffer.html">Buffer</a></div><div class="ttdoc">String manipulation buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00033">buffer.h:33</a></div></div>
<div class="ttc" id="crypt_8c_html_a51806f872069460bb7f4fa16d1d92710"><div class="ttname"><a href="crypt_8c.html#a51806f872069460bb7f4fa16d1d92710">mutt_is_valid_multipart_pgp_encrypted</a></div><div class="ttdeci">int mutt_is_valid_multipart_pgp_encrypted(struct Body *b)</div><div class="ttdoc">Is this a valid multi-part encrypted message? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00484">crypt.c:484</a></div></div>
<div class="ttc" id="mutt_2message_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="mutt_2message_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_2message_8h_source.html#l00028">message.h:28</a></div></div>
<div class="ttc" id="enriched_8c_html_a8dec70f86aa386e8729cd38ea8362d4d"><div class="ttname"><a href="enriched_8c.html#a8dec70f86aa386e8729cd38ea8362d4d">text_enriched_handler</a></div><div class="ttdeci">int text_enriched_handler(struct Body *a, struct State *s)</div><div class="ttdoc">Handler for enriched text - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="enriched_8c_source.html#l00459">enriched.c:459</a></div></div>
<div class="ttc" id="mime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a7c05065f79f9ed33904677a211ec3466"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a7c05065f79f9ed33904677a211ec3466">ENC_8BIT</a></div><div class="ttdoc">8-bit text </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00050">mime.h:50</a></div></div>
<div class="ttc" id="buffer_8c_html_ad057ee239ae5bcfd72cab3749036ab02"><div class="ttname"><a href="buffer_8c.html#ad057ee239ae5bcfd72cab3749036ab02">mutt_buffer_printf</a></div><div class="ttdeci">int mutt_buffer_printf(struct Buffer *buf, const char *fmt,...)</div><div class="ttdoc">Format a string overwriting a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00160">buffer.c:160</a></div></div>
<div class="ttc" id="cryptglue_8c_html_ae87ee3382bf04253e14beacd040c9e7d"><div class="ttname"><a href="cryptglue_8c.html#ae87ee3382bf04253e14beacd040c9e7d">crypt_smime_application_handler</a></div><div class="ttdeci">int crypt_smime_application_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Wrapper for CryptModuleSpecs::application_handler() </div><div class="ttdef"><b>Definition:</b> <a href="cryptglue_8c_source.html#l00452">cryptglue.c:452</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structBody_html_a99aff302b287a47c407a7412a99630f5"><div class="ttname"><a href="structBody.html#a99aff302b287a47c407a7412a99630f5">Body::disposition</a></div><div class="ttdeci">unsigned int disposition</div><div class="ttdoc">content-disposition, ContentDisposition </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00067">body.h:67</a></div></div>
<div class="ttc" id="cryptglue_8c_html_af3336dd33085631d3135e50b4f3bf15f"><div class="ttname"><a href="cryptglue_8c.html#af3336dd33085631d3135e50b4f3bf15f">crypt_pgp_application_handler</a></div><div class="ttdeci">int crypt_pgp_application_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Wrapper for CryptModuleSpecs::application_handler() </div><div class="ttdef"><b>Definition:</b> <a href="cryptglue_8c_source.html#l00240">cryptglue.c:240</a></div></div>
<div class="ttc" id="buffer_8h_html_a4aca040fb75bc1dfc086cbfbf14ac8cd"><div class="ttname"><a href="buffer_8h.html#a4aca040fb75bc1dfc086cbfbf14ac8cd">mutt_buffer_string</a></div><div class="ttdeci">static const char * mutt_buffer_string(const struct Buffer *buf)</div><div class="ttdoc">Convert a buffer to a const char * &quot;string&quot;. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8h_source.html#l00077">buffer.h:77</a></div></div>
<div class="ttc" id="structState_html_a5d855f7d518fde2ac4e8e409cbb24ad3"><div class="ttname"><a href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">State::flags</a></div><div class="ttdeci">StateFlags flags</div><div class="ttdoc">Flags, e.g. MUTT_DISPLAY. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00049">state.h:49</a></div></div>
<div class="ttc" id="type_8h_html_ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929"><div class="ttname"><a href="type_8h.html#ae5c7b6b4f6e696391cd7faaea6571bb4ad2dbad14a5308b356d33192607ee4929">MENU_PAGER</a></div><div class="ttdoc">Pager pager (email viewer) </div><div class="ttdef"><b>Definition:</b> <a href="type_8h_source.html#l00054">type.h:54</a></div></div>
<div class="ttc" id="handler_8c_html_a0ad00b90878cc9737e46fd294d7362c9"><div class="ttname"><a href="handler_8c.html#a0ad00b90878cc9737e46fd294d7362c9">malformed_pgp_encrypted_handler</a></div><div class="ttdeci">static int malformed_pgp_encrypted_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Handler for invalid pgp-encrypted emails - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01473">handler.c:1473</a></div></div>
<div class="ttc" id="buffer_8c_html_a59b13bca38b1b314e2bc5ad142d2df49"><div class="ttname"><a href="buffer_8c.html#a59b13bca38b1b314e2bc5ad142d2df49">mutt_buffer_dealloc</a></div><div class="ttdeci">void mutt_buffer_dealloc(struct Buffer *buf)</div><div class="ttdoc">Release the memory allocated by a buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00294">buffer.c:294</a></div></div>
<div class="ttc" id="mime_8h_html_a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417"><div class="ttname"><a href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a3c5d26739343bc8cc2934a4dee403417">DISP_ATTACH</a></div><div class="ttdoc">Content is attached. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00063">mime.h:63</a></div></div>
<div class="ttc" id="options_8h_html_ac37333941e0b57abec75329a20feaba8"><div class="ttname"><a href="options_8h.html#ac37333941e0b57abec75329a20feaba8">OptDontHandlePgpKeys</a></div><div class="ttdeci">WHERE bool OptDontHandlePgpKeys</div><div class="ttdoc">(pseudo) used to extract PGP keys </div><div class="ttdef"><b>Definition:</b> <a href="options_8h_source.html#l00035">options.h:35</a></div></div>
<div class="ttc" id="structBody_html_ad2f05b8ff24813de41988e63de5d6a31"><div class="ttname"><a href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">Body::encoding</a></div><div class="ttdeci">unsigned int encoding</div><div class="ttdoc">content-transfer-encoding, ContentEncoding </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00066">body.h:66</a></div></div>
<div class="ttc" id="handler_8c_html_a0ab5b59c22636dd3d02267af588d4ace"><div class="ttname"><a href="handler_8c.html#a0ab5b59c22636dd3d02267af588d4ace">message_handler</a></div><div class="ttdeci">static int message_handler(struct Body *a, struct State *s)</div><div class="ttdoc">Handler for message/rfc822 body parts - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00702">handler.c:702</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a29db81d6f5a7dd216cbea75ecf8a5885"><div class="ttname"><a href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a></div><div class="ttdeci">bool mutt_istr_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings, ignoring case. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00916">string.c:916</a></div></div>
<div class="ttc" id="structBody_html_ace00f9cba9b46a2d434764335d2fa43a"><div class="ttname"><a href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">Body::subtype</a></div><div class="ttdeci">char * subtype</div><div class="ttdoc">content-type subtype </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00037">body.h:37</a></div></div>
<div class="ttc" id="crypt_8c_html_a3e7ec2b5bc58891704d4c49159cbef9a"><div class="ttname"><a href="crypt_8c.html#a3e7ec2b5bc58891704d4c49159cbef9a">mutt_signed_handler</a></div><div class="ttdeci">int mutt_signed_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Verify a &quot;multipart/signed&quot; body - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l01156">crypt.c:1156</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a798dfac1e8839ca89375b4ec62b3eff2"><div class="ttname"><a href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a></div><div class="ttdeci">#define APPLICATION_SMIME</div><div class="ttdoc">Use SMIME to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00088">lib.h:88</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a587e679a4c9cc44f11f0c467bb22b0af"><div class="ttname"><a href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a></div><div class="ttdeci">#define APPLICATION_PGP</div><div class="ttdoc">Use PGP to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="mime_8h_html_a37d78827e3cbfabf93b6341b5da8cdc1"><div class="ttname"><a href="mime_8h.html#a37d78827e3cbfabf93b6341b5da8cdc1">MUTT_MIME_MAX_DEPTH</a></div><div class="ttdeci">#define MUTT_MIME_MAX_DEPTH</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00069">mime.h:69</a></div></div>
<div class="ttc" id="keymap_8c_html_a830fff42df69ae5c6e256eb03ce18892"><div class="ttname"><a href="keymap_8c.html#a830fff42df69ae5c6e256eb03ce18892">km_expand_key</a></div><div class="ttdeci">int km_expand_key(char *s, size_t len, struct Keymap *map)</div><div class="ttdoc">Get the key string bound to a Keymap. </div><div class="ttdef"><b>Definition:</b> <a href="keymap_8c_source.html#l00918">keymap.c:918</a></div></div>
<div class="ttc" id="state_8h_html_a33c18383c0f48048aefd804e5766c79f"><div class="ttname"><a href="state_8h.html#a33c18383c0f48048aefd804e5766c79f">MUTT_VERIFY</a></div><div class="ttdeci">#define MUTT_VERIFY</div><div class="ttdoc">Perform signature verification. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00033">state.h:33</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a></div><div class="ttdoc">Type: &amp;#39;text/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00038">mime.h:38</a></div></div>
<div class="ttc" id="handler_8c_html_ab28bc87c5043dbacd5d51df806332abe"><div class="ttname"><a href="handler_8c.html#ab28bc87c5043dbacd5d51df806332abe">valid_pgp_encrypted_handler</a></div><div class="ttdeci">static int valid_pgp_encrypted_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Handler for valid pgp-encrypted emails - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01444">handler.c:1444</a></div></div>
<div class="ttc" id="handler_8c_html_a7cb7eedc6f224327b26807c96d24a167"><div class="ttname"><a href="handler_8c.html#a7cb7eedc6f224327b26807c96d24a167">run_decode_and_handler</a></div><div class="ttdeci">static int run_decode_and_handler(struct Body *b, struct State *s, handler_t handler, bool plaintext)</div><div class="ttdoc">Run an appropriate decoder for an email. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01304">handler.c:1304</a></div></div>
<div class="ttc" id="helpers_8c_html_ac477c591155aa4ae0452bbabc0affffe"><div class="ttname"><a href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00295">helpers.c:295</a></div></div>
<div class="ttc" id="crypt_8c_html_a9edb0262eaed7c522977a75b76c15770"><div class="ttname"><a href="crypt_8c.html#a9edb0262eaed7c522977a75b76c15770">mutt_is_malformed_multipart_pgp_encrypted</a></div><div class="ttdeci">SecurityFlags mutt_is_malformed_multipart_pgp_encrypted(struct Body *b)</div><div class="ttdoc">Check for malformed layout. </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00521">crypt.c:521</a></div></div>
<div class="ttc" id="handler_8c_html_aa5d200d8ce365cf1ece6cc11da5a9de2"><div class="ttname"><a href="handler_8c.html#aa5d200d8ce365cf1ece6cc11da5a9de2">multilingual_handler</a></div><div class="ttdeci">static int multilingual_handler(struct Body *a, struct State *s)</div><div class="ttdoc">Handler for multi-lingual emails - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01117">handler.c:1117</a></div></div>
<div class="ttc" id="state_8c_html_a6c4ef22b21b511fab506f66b908dae21"><div class="ttname"><a href="state_8c.html#a6c4ef22b21b511fab506f66b908dae21">state_mark_attach</a></div><div class="ttdeci">void state_mark_attach(struct State *s)</div><div class="ttdoc">Write a unique marker around content. </div><div class="ttdef"><b>Definition:</b> <a href="state_8c_source.html#l00073">state.c:73</a></div></div>
<div class="ttc" id="buffer_8c_html_a4bcc481586ae3af02645b4e23e48e0d7"><div class="ttname"><a href="buffer_8c.html#a4bcc481586ae3af02645b4e23e48e0d7">mutt_buffer_strcpy</a></div><div class="ttdeci">size_t mutt_buffer_strcpy(struct Buffer *buf, const char *s)</div><div class="ttdoc">Copy a string into a Buffer. </div><div class="ttdef"><b>Definition:</b> <a href="buffer_8c_source.html#l00312">buffer.c:312</a></div></div>
<div class="ttc" id="structBody_html_af77d79aadb278bef8f2829c268f2486f"><div class="ttname"><a href="structBody.html#af77d79aadb278bef8f2829c268f2486f">Body::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdoc">content-type primary type, ContentType </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00065">body.h:65</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b">TYPE_MESSAGE</a></div><div class="ttdoc">Type: &amp;#39;message/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00035">mime.h:35</a></div></div>
<div class="ttc" id="mime_8h_html_ab12186b6fac3d22b88fac67700f07b1d"><div class="ttname"><a href="mime_8h.html#ab12186b6fac3d22b88fac67700f07b1d">TYPE</a></div><div class="ttdeci">#define TYPE(body)</div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00089">mime.h:89</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a></div><div class="ttdoc">Type: &amp;#39;multipart/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00037">mime.h:37</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab2c99902c587a013b358149516cceeb5">LL_DEBUG1</a></div><div class="ttdoc">Log at debug level 1. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00040">logging.h:40</a></div></div>
<div class="ttc" id="handler_8c_html_a4019b110ff53c32c7779c33209b7ebb1"><div class="ttname"><a href="handler_8c.html#a4019b110ff53c32c7779c33209b7ebb1">autoview_handler</a></div><div class="ttdeci">static int autoview_handler(struct Body *a, struct State *s)</div><div class="ttdoc">Handler for autoviewable attachments - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00522">handler.c:522</a></div></div>
<div class="ttc" id="logging_8h_html_acc1fd6d7ab1603e80e11e84e90d061e4"><div class="ttname"><a href="logging_8h.html#acc1fd6d7ab1603e80e11e84e90d061e4">mutt_error</a></div><div class="ttdeci">#define mutt_error(...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00084">logging.h:84</a></div></div>
<div class="ttc" id="crypt_8c_html_a159d0d34a10b662acb2cc80099e5ecc7"><div class="ttname"><a href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a></div><div class="ttdeci">SecurityFlags mutt_is_application_pgp(struct Body *b)</div><div class="ttdoc">Does the message use PGP? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00565">crypt.c:565</a></div></div>
<div class="ttc" id="mime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a33a486b063e032293f7615de05f3cfa8"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a33a486b063e032293f7615de05f3cfa8">ENC_BINARY</a></div><div class="ttdoc">Binary. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00053">mime.h:53</a></div></div>
<div class="ttc" id="parameter_8c_html_a0c6d54a87e015a496c8dbecfcd4002c9"><div class="ttname"><a href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a></div><div class="ttdeci">char * mutt_param_get(const struct ParameterList *pl, const char *s)</div><div class="ttdoc">Find a matching Parameter. </div><div class="ttdef"><b>Definition:</b> <a href="parameter_8c_source.html#l00084">parameter.c:84</a></div></div>
<div class="ttc" id="state_8h_html_a702d70532cdae3d9adff7fe7967e720b"><div class="ttname"><a href="state_8h.html#a702d70532cdae3d9adff7fe7967e720b">MUTT_REPLYING</a></div><div class="ttdeci">#define MUTT_REPLYING</div><div class="ttdoc">Are we replying? </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00038">state.h:38</a></div></div>
<div class="ttc" id="handler_8c_html_a057547777eaf6251138ef699cd0796dc"><div class="ttname"><a href="handler_8c.html#a057547777eaf6251138ef699cd0796dc">multipart_handler</a></div><div class="ttdeci">static int multipart_handler(struct Body *a, struct State *s)</div><div class="ttdoc">Handler for multipart emails - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01217">handler.c:1217</a></div></div>
<div class="ttc" id="options_8h_html_abdfb908fdaf1711345ab7b6a1109c5b0"><div class="ttname"><a href="options_8h.html#abdfb908fdaf1711345ab7b6a1109c5b0">OptViewAttach</a></div><div class="ttdeci">WHERE bool OptViewAttach</div><div class="ttdoc">(pseudo) signals that we are viewing attachments </div><div class="ttdef"><b>Definition:</b> <a href="options_8h_source.html#l00054">options.h:54</a></div></div>
<div class="ttc" id="state_8h_html_a02567ca97dba308e42a1e449be2c7185"><div class="ttname"><a href="state_8h.html#a02567ca97dba308e42a1e449be2c7185">MUTT_FIRSTDONE</a></div><div class="ttdeci">#define MUTT_FIRSTDONE</div><div class="ttdoc">The first attachment has been done. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00039">state.h:39</a></div></div>
<div class="ttc" id="logging_8h_html_ae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00081">logging.h:81</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="rfc3676_8c_html_a1a3abb7fcf3409cd1fe345fd20eee6a9"><div class="ttname"><a href="rfc3676_8c.html#a1a3abb7fcf3409cd1fe345fd20eee6a9">rfc3676_handler</a></div><div class="ttdeci">int rfc3676_handler(struct Body *a, struct State *s)</div><div class="ttdoc">Body handler implementing RFC3676 for format=flowed - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="rfc3676_8c_source.html#l00320">rfc3676.c:320</a></div></div>
<div class="ttc" id="handler_8c_html_ad7c0b64ef51b02bbc7139ae162236355"><div class="ttname"><a href="handler_8c.html#ad7c0b64ef51b02bbc7139ae162236355">external_body_handler</a></div><div class="ttdeci">static int external_body_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Handler for external-body emails - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00756">handler.c:756</a></div></div>
<div class="ttc" id="handler_8c_html_a6d3ed2bde66aba6a386b44c89d92aaea"><div class="ttname"><a href="handler_8c.html#a6d3ed2bde66aba6a386b44c89d92aaea">text_plain_handler</a></div><div class="ttdeci">static int text_plain_handler(struct Body *b, struct State *s)</div><div class="ttdoc">Handler for plain text - Implements handler_t. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00675">handler.c:675</a></div></div>
<div class="ttc" id="structBody_html_a782cee95e0064e3895b88248bdfc781a"><div class="ttname"><a href="structBody.html#a782cee95e0064e3895b88248bdfc781a">Body::parameter</a></div><div class="ttdeci">struct ParameterList parameter</div><div class="ttdoc">parameters of the content-type </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00039">body.h:39</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e">TYPE_APPLICATION</a></div><div class="ttdoc">Type: &amp;#39;application/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00033">mime.h:33</a></div></div>
</div><!-- fragment --><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_adae8bf0eec9bee0bd62f639bbcf8599f_cgraph.svg" width="860" height="2208"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_adae8bf0eec9bee0bd62f639bbcf8599f_icgraph.svg" width="434" height="858"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad8ffd2d9dd15e18644b821ec35c7ce52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8ffd2d9dd15e18644b821ec35c7ce52">&#9670;&nbsp;</a></span>mutt_can_decode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mutt_can_decode </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBody.html">Body</a> *&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Will decoding the attachment produce any output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td><a class="el" href="structBody.html" title="The body of an email. ">Body</a> of email to test </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>Decoding the attachment will produce output </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01821">1821</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;{</div><div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="handler_8c.html#a09f27e2821153040ea4cad0b9ade6153">is_autoview</a>(a))</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;  <span class="keywordflow">if</span> (a-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a>)</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;  <span class="keywordflow">if</span> (a-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b">TYPE_MESSAGE</a>)</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;  <span class="keywordflow">if</span> (a-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a>)</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;  {</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a>)</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;    {</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(a-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, <span class="stringliteral">&quot;signed&quot;</span>) || <a class="code" href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a>(a-&gt;<a class="code" href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">subtype</a>, <span class="stringliteral">&quot;encrypted&quot;</span>))</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      {</div><div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;      }</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;    }</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">struct</span> <a class="code" href="structBody.html">Body</a> *b = a-&gt;<a class="code" href="structBody.html#a0b87b7bdb6faef44d9aac4854975f805">parts</a>; b; b = b-&gt;<a class="code" href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">next</a>)</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;    {</div><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="handler_8c.html#ad8ffd2d9dd15e18644b821ec35c7ce52">mutt_can_decode</a>(b))</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;    }</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  }</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> != 0) &amp;&amp; (a-&gt;<a class="code" href="structBody.html#af77d79aadb278bef8f2829c268f2486f">type</a> == <a class="code" href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e">TYPE_APPLICATION</a>))</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  {</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp; <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(a))</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a>) != 0) &amp;&amp; <a class="code" href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a>(a))</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;  }</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;}</div><div class="ttc" id="ncrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00113">lib.h:113</a></div></div>
<div class="ttc" id="handler_8c_html_a09f27e2821153040ea4cad0b9ade6153"><div class="ttname"><a href="handler_8c.html#a09f27e2821153040ea4cad0b9ade6153">is_autoview</a></div><div class="ttdeci">static bool is_autoview(struct Body *b)</div><div class="ttdoc">Should email body be filtered by mailcap. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00475">handler.c:475</a></div></div>
<div class="ttc" id="crypt_8c_html_a4073ce5b5fcec6e245dbfa9369016b8e"><div class="ttname"><a href="crypt_8c.html#a4073ce5b5fcec6e245dbfa9369016b8e">mutt_is_application_smime</a></div><div class="ttdeci">SecurityFlags mutt_is_application_smime(struct Body *b)</div><div class="ttdoc">Does the message use S/MIME? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00623">crypt.c:623</a></div></div>
<div class="ttc" id="structBody_html_ac55cdfce46eed13151dcfe9b329d254c"><div class="ttname"><a href="structBody.html#ac55cdfce46eed13151dcfe9b329d254c">Body::next</a></div><div class="ttdeci">struct Body * next</div><div class="ttdoc">next attachment in the list </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00053">body.h:53</a></div></div>
<div class="ttc" id="structBody_html"><div class="ttname"><a href="structBody.html">Body</a></div><div class="ttdoc">The body of an email. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00034">body.h:34</a></div></div>
<div class="ttc" id="mutt_2string_8c_html_a29db81d6f5a7dd216cbea75ecf8a5885"><div class="ttname"><a href="mutt_2string_8c.html#a29db81d6f5a7dd216cbea75ecf8a5885">mutt_istr_equal</a></div><div class="ttdeci">bool mutt_istr_equal(const char *a, const char *b)</div><div class="ttdoc">Compare two strings, ignoring case. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2string_8c_source.html#l00916">string.c:916</a></div></div>
<div class="ttc" id="structBody_html_ace00f9cba9b46a2d434764335d2fa43a"><div class="ttname"><a href="structBody.html#ace00f9cba9b46a2d434764335d2fa43a">Body::subtype</a></div><div class="ttdeci">char * subtype</div><div class="ttdoc">content-type subtype </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00037">body.h:37</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a798dfac1e8839ca89375b4ec62b3eff2"><div class="ttname"><a href="ncrypt_2lib_8h.html#a798dfac1e8839ca89375b4ec62b3eff2">APPLICATION_SMIME</a></div><div class="ttdeci">#define APPLICATION_SMIME</div><div class="ttdoc">Use SMIME to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00088">lib.h:88</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a587e679a4c9cc44f11f0c467bb22b0af"><div class="ttname"><a href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a></div><div class="ttdeci">#define APPLICATION_PGP</div><div class="ttdoc">Use PGP to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ad88e88afaec507209421bba20aeeb167">TYPE_TEXT</a></div><div class="ttdoc">Type: &amp;#39;text/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00038">mime.h:38</a></div></div>
<div class="ttc" id="handler_8c_html_ad8ffd2d9dd15e18644b821ec35c7ce52"><div class="ttname"><a href="handler_8c.html#ad8ffd2d9dd15e18644b821ec35c7ce52">mutt_can_decode</a></div><div class="ttdeci">bool mutt_can_decode(struct Body *a)</div><div class="ttdoc">Will decoding the attachment produce any output. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01821">handler.c:1821</a></div></div>
<div class="ttc" id="structBody_html_a0b87b7bdb6faef44d9aac4854975f805"><div class="ttname"><a href="structBody.html#a0b87b7bdb6faef44d9aac4854975f805">Body::parts</a></div><div class="ttdeci">struct Body * parts</div><div class="ttdoc">parts of a multipart or message/rfc822 </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00054">body.h:54</a></div></div>
<div class="ttc" id="structBody_html_af77d79aadb278bef8f2829c268f2486f"><div class="ttname"><a href="structBody.html#af77d79aadb278bef8f2829c268f2486f">Body::type</a></div><div class="ttdeci">unsigned int type</div><div class="ttdoc">content-type primary type, ContentType </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00065">body.h:65</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a2cbb8dddd761b8bfba754d933a979c1b">TYPE_MESSAGE</a></div><div class="ttdoc">Type: &amp;#39;message/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00035">mime.h:35</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79a877e24e62c85f20ff0e0f09ab983031e">TYPE_MULTIPART</a></div><div class="ttdoc">Type: &amp;#39;multipart/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00037">mime.h:37</a></div></div>
<div class="ttc" id="crypt_8c_html_a159d0d34a10b662acb2cc80099e5ecc7"><div class="ttname"><a href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a></div><div class="ttdeci">SecurityFlags mutt_is_application_pgp(struct Body *b)</div><div class="ttdoc">Does the message use PGP? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00565">crypt.c:565</a></div></div>
<div class="ttc" id="mime_8h_html_a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e"><div class="ttname"><a href="mime_8h.html#a3ccd048df649c335df5a7f82673bbc79ac5074066199e3f540550ca0b1a38978e">TYPE_APPLICATION</a></div><div class="ttdoc">Type: &amp;#39;application/*&amp;#39;. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00033">mime.h:33</a></div></div>
</div><!-- fragment --><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_ad8ffd2d9dd15e18644b821ec35c7ce52_cgraph.svg" width="735" height="248"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_ad8ffd2d9dd15e18644b821ec35c7ce52_icgraph.svg" width="642" height="494"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="a8dc0c14a81bb73f86986adc9745dd192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dc0c14a81bb73f86986adc9745dd192">&#9670;&nbsp;</a></span>mutt_decode_attachment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_decode_attachment </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structBody.html">Body</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode an email's attachment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td><a class="el" href="structBody.html" title="The body of an email. ">Body</a> of the email </td></tr>
    <tr><td class="paramname">s</td><td><a class="el" href="structState.html" title="Keep track when processing files. ">State</a> of text being processed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01861">1861</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;{</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;  <span class="keywordtype">int</span> istext = <a class="code" href="muttlib_8c.html#ab74b8ff8a0761cc4ef015c39a63f502d">mutt_is_text_part</a>(b) &amp;&amp; (b-&gt;<a class="code" href="structBody.html#a99aff302b287a47c407a7412a99630f5">disposition</a> == <a class="code" href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a691faf938d6b4cec05ea5e03d9dee073">DISP_INLINE</a>);</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;  iconv_t cd = (iconv_t) (-1);</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;  <span class="keywordflow">if</span> (istext &amp;&amp; (b-&gt;<a class="code" href="structBody.html#a70436d272fe1e795057f48a508db3397">charset</a> || (s-&gt;<a class="code" href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">flags</a> &amp; <a class="code" href="state_8h.html#a5380aee741459ab7d39708695b18711f">MUTT_CHARCONV</a>)))</div><div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;  {</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *charset = b-&gt;<a class="code" href="structBody.html#a70436d272fe1e795057f48a508db3397">charset</a>;</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;    <span class="keywordflow">if</span> (!charset)</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;    {</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_assumed_charset =</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;          <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;assumed_charset&quot;</span>);</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      charset = <a class="code" href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a>(&amp;b-&gt;<a class="code" href="structBody.html#a782cee95e0064e3895b88248bdfc781a">parameter</a>, <span class="stringliteral">&quot;charset&quot;</span>);</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="keywordflow">if</span> (!charset &amp;&amp; c_assumed_charset)</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        charset = <a class="code" href="mutt_2charset_8c.html#ac6c3e9bd340189582a2682e473e161bd">mutt_ch_get_default_charset</a>();</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;    }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keyword">const</span> c_charset = <a class="code" href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a>(<a class="code" href="structNeoMutt.html">NeoMutt</a>-&gt;<a class="code" href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">sub</a>, <span class="stringliteral">&quot;charset&quot;</span>);</div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;    <span class="keywordflow">if</span> (charset &amp;&amp; c_charset)</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;      cd = <a class="code" href="mutt_2charset_8c.html#af7380ef31de4a56ab644b71f0a010ed9">mutt_ch_iconv_open</a>(c_charset, charset, <a class="code" href="mutt_2charset_8h.html#a1807a22585916adccafa5e09bda9b6a7">MUTT_ICONV_HOOK_FROM</a>);</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;  }</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;  fseeko(s-&gt;<a class="code" href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">fp_in</a>, b-&gt;<a class="code" href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">offset</a>, SEEK_SET);</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;  <span class="keywordflow">switch</span> (b-&gt;<a class="code" href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">encoding</a>)</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;  {</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61af96d66ee7716e523971a7b5161f04ded">ENC_QUOTED_PRINTABLE</a>:</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      <a class="code" href="handler_8c.html#a960ba4b8be90f5f7664d78cbcbd30d8a">decode_quoted</a>(s, b-&gt;<a class="code" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                    istext || (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; <a class="code" href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a>) != 0) &amp;&amp;</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;                               <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(b)),</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;                    cd);</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a5c90b21fa3f41a7c98c862cb39d4370d">ENC_BASE64</a>:</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;      <a class="code" href="handler_8c.html#ad9741e9e73afb3ff82aefee39b0b6c96">mutt_decode_base64</a>(s, b-&gt;<a class="code" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                         istext || (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_PGP) != 0) &amp;&amp;</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;                                    <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(b)),</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                         cd);</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a17c00808bfbeb61dc2a001baf0aac5bd">ENC_UUENCODED</a>:</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;      <a class="code" href="handler_8c.html#a2b4fa24a86279a386c8d621a7511d81d">decode_uuencoded</a>(s, b-&gt;<a class="code" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                       istext || (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_PGP) != 0) &amp;&amp;</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;                                  <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(b)),</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;                       cd);</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;      <a class="code" href="handler_8c.html#ab1907ff091d1c3753fd6f81374849aba">decode_xbit</a>(s, b-&gt;<a class="code" href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">length</a>,</div><div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                  istext || (((<a class="code" href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a> &amp; APPLICATION_PGP) != 0) &amp;&amp;</div><div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;                             <a class="code" href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a>(b)),</div><div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                  cd);</div><div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;  }</div><div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;</div><div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;  <span class="keywordflow">if</span> (cd != (iconv_t) (-1))</div><div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;    iconv_close(cd);</div><div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;}</div><div class="ttc" id="handler_8c_html_ab1907ff091d1c3753fd6f81374849aba"><div class="ttname"><a href="handler_8c.html#ab1907ff091d1c3753fd6f81374849aba">decode_xbit</a></div><div class="ttdeci">static void decode_xbit(struct State *s, long len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode xbit-encoded text. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00162">handler.c:162</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_ad980bff69bb614893ad8e7e1c28a5023"><div class="ttname"><a href="ncrypt_2lib_8h.html#ad980bff69bb614893ad8e7e1c28a5023">WithCrypto</a></div><div class="ttdeci">#define WithCrypto</div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00113">lib.h:113</a></div></div>
<div class="ttc" id="handler_8c_html_a2b4fa24a86279a386c8d621a7511d81d"><div class="ttname"><a href="handler_8c.html#a2b4fa24a86279a386c8d621a7511d81d">decode_uuencoded</a></div><div class="ttdeci">static void decode_uuencoded(struct State *s, long len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode uuencoded text. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00363">handler.c:363</a></div></div>
<div class="ttc" id="state_8h_html_a5380aee741459ab7d39708695b18711f"><div class="ttname"><a href="state_8h.html#a5380aee741459ab7d39708695b18711f">MUTT_CHARCONV</a></div><div class="ttdeci">#define MUTT_CHARCONV</div><div class="ttdoc">Do character set conversions. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00036">state.h:36</a></div></div>
<div class="ttc" id="handler_8c_html_a960ba4b8be90f5f7664d78cbcbd30d8a"><div class="ttname"><a href="handler_8c.html#a960ba4b8be90f5f7664d78cbcbd30d8a">decode_quoted</a></div><div class="ttdeci">static void decode_quoted(struct State *s, long len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode an attachment encoded with quoted-printable. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00299">handler.c:299</a></div></div>
<div class="ttc" id="structBody_html_a1969dfeb0a155ccb16153fe777a103b0"><div class="ttname"><a href="structBody.html#a1969dfeb0a155ccb16153fe777a103b0">Body::offset</a></div><div class="ttdeci">LOFF_T offset</div><div class="ttdoc">offset where the actual data begins </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00044">body.h:44</a></div></div>
<div class="ttc" id="structNeoMutt_html"><div class="ttname"><a href="structNeoMutt.html">NeoMutt</a></div><div class="ttdoc">Container for Accounts, Notifications. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00036">neomutt.h:36</a></div></div>
<div class="ttc" id="structState_html_a9cf7e1f0c5c12399def5ca38b13054ae"><div class="ttname"><a href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">State::fp_in</a></div><div class="ttdeci">FILE * fp_in</div><div class="ttdoc">File to read from. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00046">state.h:46</a></div></div>
<div class="ttc" id="handler_8c_html_ad9741e9e73afb3ff82aefee39b0b6c96"><div class="ttname"><a href="handler_8c.html#ad9741e9e73afb3ff82aefee39b0b6c96">mutt_decode_base64</a></div><div class="ttdeci">void mutt_decode_base64(struct State *s, size_t len, bool istext, iconv_t cd)</div><div class="ttdoc">Decode base64-encoded text. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l01505">handler.c:1505</a></div></div>
<div class="ttc" id="mutt_2charset_8c_html_af7380ef31de4a56ab644b71f0a010ed9"><div class="ttname"><a href="mutt_2charset_8c.html#af7380ef31de4a56ab644b71f0a010ed9">mutt_ch_iconv_open</a></div><div class="ttdeci">iconv_t mutt_ch_iconv_open(const char *tocode, const char *fromcode, uint8_t flags)</div><div class="ttdoc">Set up iconv for conversions. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2charset_8c_source.html#l00569">charset.c:569</a></div></div>
<div class="ttc" id="structBody_html_a99aff302b287a47c407a7412a99630f5"><div class="ttname"><a href="structBody.html#a99aff302b287a47c407a7412a99630f5">Body::disposition</a></div><div class="ttdeci">unsigned int disposition</div><div class="ttdoc">content-disposition, ContentDisposition </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00067">body.h:67</a></div></div>
<div class="ttc" id="structState_html_a5d855f7d518fde2ac4e8e409cbb24ad3"><div class="ttname"><a href="structState.html#a5d855f7d518fde2ac4e8e409cbb24ad3">State::flags</a></div><div class="ttdeci">StateFlags flags</div><div class="ttdoc">Flags, e.g. MUTT_DISPLAY. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00049">state.h:49</a></div></div>
<div class="ttc" id="structBody_html_ad2f05b8ff24813de41988e63de5d6a31"><div class="ttname"><a href="structBody.html#ad2f05b8ff24813de41988e63de5d6a31">Body::encoding</a></div><div class="ttdeci">unsigned int encoding</div><div class="ttdoc">content-transfer-encoding, ContentEncoding </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00066">body.h:66</a></div></div>
<div class="ttc" id="mime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a5c90b21fa3f41a7c98c862cb39d4370d"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a5c90b21fa3f41a7c98c862cb39d4370d">ENC_BASE64</a></div><div class="ttdoc">Base-64 encoded text. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00052">mime.h:52</a></div></div>
<div class="ttc" id="mutt_2charset_8c_html_ac6c3e9bd340189582a2682e473e161bd"><div class="ttname"><a href="mutt_2charset_8c.html#ac6c3e9bd340189582a2682e473e161bd">mutt_ch_get_default_charset</a></div><div class="ttdeci">char * mutt_ch_get_default_charset(void)</div><div class="ttdoc">Get the default character set. </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2charset_8c_source.html#l00442">charset.c:442</a></div></div>
<div class="ttc" id="ncrypt_2lib_8h_html_a587e679a4c9cc44f11f0c467bb22b0af"><div class="ttname"><a href="ncrypt_2lib_8h.html#a587e679a4c9cc44f11f0c467bb22b0af">APPLICATION_PGP</a></div><div class="ttdeci">#define APPLICATION_PGP</div><div class="ttdoc">Use PGP to encrypt/sign. </div><div class="ttdef"><b>Definition:</b> <a href="ncrypt_2lib_8h_source.html#l00087">lib.h:87</a></div></div>
<div class="ttc" id="structBody_html_a6f92d7ec8568ca04ae07931c56dd0790"><div class="ttname"><a href="structBody.html#a6f92d7ec8568ca04ae07931c56dd0790">Body::length</a></div><div class="ttdeci">LOFF_T length</div><div class="ttdoc">length (in bytes) of attachment </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00045">body.h:45</a></div></div>
<div class="ttc" id="mutt_2charset_8h_html_a1807a22585916adccafa5e09bda9b6a7"><div class="ttname"><a href="mutt_2charset_8h.html#a1807a22585916adccafa5e09bda9b6a7">MUTT_ICONV_HOOK_FROM</a></div><div class="ttdeci">#define MUTT_ICONV_HOOK_FROM</div><div class="ttdoc">apply charset-hooks to fromcode </div><div class="ttdef"><b>Definition:</b> <a href="mutt_2charset_8h_source.html#l00072">charset.h:72</a></div></div>
<div class="ttc" id="structBody_html_a70436d272fe1e795057f48a508db3397"><div class="ttname"><a href="structBody.html#a70436d272fe1e795057f48a508db3397">Body::charset</a></div><div class="ttdeci">char * charset</div><div class="ttdoc">Send mode: charset of attached file as stored on disk. </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00049">body.h:49</a></div></div>
<div class="ttc" id="helpers_8c_html_ac477c591155aa4ae0452bbabc0affffe"><div class="ttname"><a href="helpers_8c.html#ac477c591155aa4ae0452bbabc0affffe">cs_subset_string</a></div><div class="ttdeci">const char * cs_subset_string(const struct ConfigSubset *sub, const char *name)</div><div class="ttdoc">Get a string config item by name. </div><div class="ttdef"><b>Definition:</b> <a href="helpers_8c_source.html#l00295">helpers.c:295</a></div></div>
<div class="ttc" id="muttlib_8c_html_ab74b8ff8a0761cc4ef015c39a63f502d"><div class="ttname"><a href="muttlib_8c.html#ab74b8ff8a0761cc4ef015c39a63f502d">mutt_is_text_part</a></div><div class="ttdeci">bool mutt_is_text_part(struct Body *b)</div><div class="ttdoc">Is this part of an email in plain text? </div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l00434">muttlib.c:434</a></div></div>
<div class="ttc" id="crypt_8c_html_a159d0d34a10b662acb2cc80099e5ecc7"><div class="ttname"><a href="crypt_8c.html#a159d0d34a10b662acb2cc80099e5ecc7">mutt_is_application_pgp</a></div><div class="ttdeci">SecurityFlags mutt_is_application_pgp(struct Body *b)</div><div class="ttdoc">Does the message use PGP? </div><div class="ttdef"><b>Definition:</b> <a href="crypt_8c_source.html#l00565">crypt.c:565</a></div></div>
<div class="ttc" id="mime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61af96d66ee7716e523971a7b5161f04ded"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61af96d66ee7716e523971a7b5161f04ded">ENC_QUOTED_PRINTABLE</a></div><div class="ttdoc">Quoted-printable text. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00051">mime.h:51</a></div></div>
<div class="ttc" id="parameter_8c_html_a0c6d54a87e015a496c8dbecfcd4002c9"><div class="ttname"><a href="parameter_8c.html#a0c6d54a87e015a496c8dbecfcd4002c9">mutt_param_get</a></div><div class="ttdeci">char * mutt_param_get(const struct ParameterList *pl, const char *s)</div><div class="ttdoc">Find a matching Parameter. </div><div class="ttdef"><b>Definition:</b> <a href="parameter_8c_source.html#l00084">parameter.c:84</a></div></div>
<div class="ttc" id="structNeoMutt_html_af98065e32243ce9331f93b7f30247d47"><div class="ttname"><a href="structNeoMutt.html#af98065e32243ce9331f93b7f30247d47">NeoMutt::sub</a></div><div class="ttdeci">struct ConfigSubset * sub</div><div class="ttdoc">Inherited config items. </div><div class="ttdef"><b>Definition:</b> <a href="neomutt_8h_source.html#l00039">neomutt.h:39</a></div></div>
<div class="ttc" id="mime_8h_html_a5f93dab7807282e699a6bc1b2d18a2d8a691faf938d6b4cec05ea5e03d9dee073"><div class="ttname"><a href="mime_8h.html#a5f93dab7807282e699a6bc1b2d18a2d8a691faf938d6b4cec05ea5e03d9dee073">DISP_INLINE</a></div><div class="ttdoc">Content is inline. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00062">mime.h:62</a></div></div>
<div class="ttc" id="structBody_html_a782cee95e0064e3895b88248bdfc781a"><div class="ttname"><a href="structBody.html#a782cee95e0064e3895b88248bdfc781a">Body::parameter</a></div><div class="ttdeci">struct ParameterList parameter</div><div class="ttdoc">parameters of the content-type </div><div class="ttdef"><b>Definition:</b> <a href="email_2body_8h_source.html#l00039">body.h:39</a></div></div>
<div class="ttc" id="mime_8h_html_a1757cddbe4d3d273bf8fbffde3489a61a17c00808bfbeb61dc2a001baf0aac5bd"><div class="ttname"><a href="mime_8h.html#a1757cddbe4d3d273bf8fbffde3489a61a17c00808bfbeb61dc2a001baf0aac5bd">ENC_UUENCODED</a></div><div class="ttdoc">UUEncoded text. </div><div class="ttdef"><b>Definition:</b> <a href="mime_8h_source.html#l00054">mime.h:54</a></div></div>
</div><!-- fragment --><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a8dc0c14a81bb73f86986adc9745dd192_cgraph.svg" width="818" height="510"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_a8dc0c14a81bb73f86986adc9745dd192_icgraph.svg" width="690" height="595"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="ad9741e9e73afb3ff82aefee39b0b6c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9741e9e73afb3ff82aefee39b0b6c96">&#9670;&nbsp;</a></span>mutt_decode_base64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_decode_base64 </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structState.html">State</a> *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>istext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">iconv_t&#160;</td>
          <td class="paramname"><em>cd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decode base64-encoded text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td><a class="el" href="structState.html" title="Keep track when processing files. ">State</a> to work with </td></tr>
    <tr><td class="paramname">len</td><td>Length of text to decode </td></tr>
    <tr><td class="paramname">istext</td><td>Mime part is plain text </td></tr>
    <tr><td class="paramname">cd</td><td>Iconv conversion descriptor </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="handler_8c_source.html#l01505">1505</a> of file <a class="el" href="handler_8c_source.html">handler.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;{</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  <span class="keywordtype">char</span> buf[5];</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="keywordtype">int</span> ch, i;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;  <span class="keywordtype">bool</span> cr = <span class="keyword">false</span>;</div><div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordtype">char</span> bufi[<a class="code" href="handler_8c.html#a238627be6fe9590ff73fcc08ae6a10b3">BUFI_SIZE</a>];</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordtype">size_t</span> l = 0;</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  buf[4] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">if</span> (istext)</div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <a class="code" href="state_8h.html#a0f20589a346d8b214575ba401aa29015">state_set_prefix</a>(s);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">while</span> (len &gt; 0)</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  {</div><div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <span class="keywordflow">for</span> (i = 0; (i &lt; 4) &amp;&amp; (len &gt; 0); len--)</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    {</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      ch = fgetc(s-&gt;<a class="code" href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">fp_in</a>);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordflow">if</span> (ch == EOF)</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">if</span> ((ch &gt;= 0) &amp;&amp; (ch &lt; 128) &amp;&amp; ((<a class="code" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(ch) != -1) || (ch == <span class="charliteral">&#39;=&#39;</span>)))</div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        buf[i++] = ch;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    }</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;    <span class="keywordflow">if</span> (i != 4)</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;    {</div><div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;      <span class="comment">/* &quot;i&quot; may be zero if there is trailing whitespace, which is not an error */</span></div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keywordflow">if</span> (i != 0)</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <a class="code" href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a>(<a class="code" href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a>, <span class="stringliteral">&quot;didn&#39;t get a multiple of 4 chars\n&quot;</span>);</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    }</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> c1 = <a class="code" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[0]);</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> c2 = <a class="code" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[1]);</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;    <span class="comment">/* first char */</span></div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;    ch = (c1 &lt;&lt; 2) | (c2 &gt;&gt; 4);</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <span class="keywordflow">if</span> (cr &amp;&amp; (ch != <span class="charliteral">&#39;\n&#39;</span>))</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    cr = <span class="keyword">false</span>;</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;    <span class="keywordflow">if</span> (istext &amp;&amp; (ch == <span class="charliteral">&#39;\r&#39;</span>))</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;      cr = <span class="keyword">true</span>;</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;      bufi[l++] = ch;</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;    <span class="comment">/* second char */</span></div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;    <span class="keywordflow">if</span> (buf[2] == <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> c3 = <a class="code" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[2]);</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    ch = ((c2 &amp; 0xf) &lt;&lt; 4) | (c3 &gt;&gt; 2);</div><div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    <span class="keywordflow">if</span> (cr &amp;&amp; (ch != <span class="charliteral">&#39;\n&#39;</span>))</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    cr = <span class="keyword">false</span>;</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;    <span class="keywordflow">if</span> (istext &amp;&amp; (ch == <span class="charliteral">&#39;\r&#39;</span>))</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      cr = <span class="keyword">true</span>;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      bufi[l++] = ch;</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;    <span class="comment">/* third char */</span></div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    <span class="keywordflow">if</span> (buf[3] == <span class="charliteral">&#39;=&#39;</span>)</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> c4 = <a class="code" href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a>(buf[3]);</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;    ch = ((c3 &amp; 0x3) &lt;&lt; 6) | c4;</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;    <span class="keywordflow">if</span> (cr &amp;&amp; (ch != <span class="charliteral">&#39;\n&#39;</span>))</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;      bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;    cr = <span class="keyword">false</span>;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    <span class="keywordflow">if</span> (istext &amp;&amp; (ch == <span class="charliteral">&#39;\r&#39;</span>))</div><div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;      cr = <span class="keyword">true</span>;</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      bufi[l++] = ch;</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <span class="keywordflow">if</span> ((l + 8) &gt;= <span class="keyword">sizeof</span>(bufi))</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;      <a class="code" href="handler_8c.html#a5c6c2cd1f11389cb6a7af6e27d79dfc3">convert_to_state</a>(cd, bufi, &amp;l, s);</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;  }</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;  <span class="keywordflow">if</span> (cr)</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    bufi[l++] = <span class="charliteral">&#39;\r&#39;</span>;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <a class="code" href="handler_8c.html#a5c6c2cd1f11389cb6a7af6e27d79dfc3">convert_to_state</a>(cd, bufi, &amp;l, s);</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <a class="code" href="handler_8c.html#a5c6c2cd1f11389cb6a7af6e27d79dfc3">convert_to_state</a>(cd, 0, 0, s);</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  <a class="code" href="state_8h.html#a4437cf67431f33cd4497b5a8c276decd">state_reset_prefix</a>(s);</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;}</div><div class="ttc" id="state_8h_html_a4437cf67431f33cd4497b5a8c276decd"><div class="ttname"><a href="state_8h.html#a4437cf67431f33cd4497b5a8c276decd">state_reset_prefix</a></div><div class="ttdeci">#define state_reset_prefix(state)</div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00054">state.h:54</a></div></div>
<div class="ttc" id="structState_html_a9cf7e1f0c5c12399def5ca38b13054ae"><div class="ttname"><a href="structState.html#a9cf7e1f0c5c12399def5ca38b13054ae">State::fp_in</a></div><div class="ttdeci">FILE * fp_in</div><div class="ttdoc">File to read from. </div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00046">state.h:46</a></div></div>
<div class="ttc" id="logging_8h_html_aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3"><div class="ttname"><a href="logging_8h.html#aca1fd1d8935433e6ba2e3918214e07f9ab02ab1e1ebe44a7ad67c0d6cf0447be3">LL_DEBUG2</a></div><div class="ttdoc">Log at debug level 2. </div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00041">logging.h:41</a></div></div>
<div class="ttc" id="handler_8c_html_a238627be6fe9590ff73fcc08ae6a10b3"><div class="ttname"><a href="handler_8c.html#a238627be6fe9590ff73fcc08ae6a10b3">BUFI_SIZE</a></div><div class="ttdeci">#define BUFI_SIZE</div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00064">handler.c:64</a></div></div>
<div class="ttc" id="state_8h_html_a0f20589a346d8b214575ba401aa29015"><div class="ttname"><a href="state_8h.html#a0f20589a346d8b214575ba401aa29015">state_set_prefix</a></div><div class="ttdeci">#define state_set_prefix(state)</div><div class="ttdef"><b>Definition:</b> <a href="state_8h_source.html#l00053">state.h:53</a></div></div>
<div class="ttc" id="base64_8h_html_a7d7ae4dd0a9d6cbb528295fb24b91a9d"><div class="ttname"><a href="base64_8h.html#a7d7ae4dd0a9d6cbb528295fb24b91a9d">base64val</a></div><div class="ttdeci">#define base64val(ch)</div><div class="ttdef"><b>Definition:</b> <a href="base64_8h_source.html#l00030">base64.h:30</a></div></div>
<div class="ttc" id="handler_8c_html_a5c6c2cd1f11389cb6a7af6e27d79dfc3"><div class="ttname"><a href="handler_8c.html#a5c6c2cd1f11389cb6a7af6e27d79dfc3">convert_to_state</a></div><div class="ttdeci">static void convert_to_state(iconv_t cd, char *bufi, size_t *l, struct State *s)</div><div class="ttdoc">Convert text and write it to a file. </div><div class="ttdef"><b>Definition:</b> <a href="handler_8c_source.html#l00113">handler.c:113</a></div></div>
<div class="ttc" id="logging_8h_html_ae6c5fd73af3410b2d5e8099f8774c8da"><div class="ttname"><a href="logging_8h.html#ae6c5fd73af3410b2d5e8099f8774c8da">mutt_debug</a></div><div class="ttdeci">#define mutt_debug(LEVEL,...)</div><div class="ttdef"><b>Definition:</b> <a href="logging_8h_source.html#l00081">logging.h:81</a></div></div>
</div><!-- fragment --><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_ad9741e9e73afb3ff82aefee39b0b6c96_cgraph.svg" width="351" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="handler_8h_ad9741e9e73afb3ff82aefee39b0b6c96_icgraph.svg" width="410" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
</body>
</html>
